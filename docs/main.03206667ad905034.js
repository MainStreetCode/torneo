(self.webpackChunktorneo=self.webpackChunktorneo||[]).push([[179],{2011:(we,H,N)=>{"use strict";N.d(H,{Dh:()=>X,GT:()=>K,cc:()=>me,hO:()=>Oe,on:()=>Q,pX:()=>$,xv:()=>oe});var s=N(4650),L=N(127),O=N(5813);we=N.hmd(we);const G=["ngOnDestroy"],$=(re,ke,Ve,Ne={})=>new Proxy(re,{get:(Le,De)=>Ve.runOutsideAngular(()=>{var Ge;if(re[De])return!(null===(Ge=Ne?.spy)||void 0===Ge)&&Ge.get&&Ne.spy.get(De,re[De]),re[De];if(G.indexOf(De)>-1)return()=>{};const ge=ke.toPromise().then(ve=>{const Se=ve&&ve[De];return"function"==typeof Se?Se.bind(ve):Se&&Se.then?Se.then(ce=>Ve.run(()=>ce)):Ve.run(()=>Se)});return new Proxy(()=>{},{get:(ve,Se)=>ge[Se],apply:(ve,Se,ce)=>ge.then(de=>{var Ae;const Ce=de&&de(...ce);return!(null===(Ae=Ne?.spy)||void 0===Ae)&&Ae.apply&&Ne.spy.apply(De,ce,Ce),Ce})})})}),K=(re,ke)=>{ke.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Ne=>{Object.defineProperty(re.prototype,Ne,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Ne))})})};class Z{constructor(ke){return ke}}const X=new s.OlP("angularfire2.app.options"),oe=new s.OlP("angularfire2.app.name");function Q(re,ke,Ve){const Le="object"==typeof Ve&&Ve||{};Le.name=Le.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const Ge=L.Z.apps.filter(ge=>ge&&ge.name===Le.name)[0]||ke.runOutsideAngular(()=>L.Z.initializeApp(re,Le));try{JSON.stringify(re)!==JSON.stringify(Ge.options)&&J("error",`${Ge.name} Firebase App already initialized with different options${we.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Z(Ge)}const J=(re,...ke)=>{(0,s.X6Q)()&&typeof console<"u"&&console[re](...ke)},se={provide:Z,useFactory:Q,deps:[X,s.R0b,[new s.FiY,oe]]};let Oe=(()=>{class re{constructor(Ve){L.Z.registerVersion("angularfire",O.q4.full,"core"),L.Z.registerVersion("angularfire",O.q4.full,"app-compat"),L.Z.registerVersion("angular",s.q4F.full,Ve.toString())}static initializeApp(Ve,Ne){return{ngModule:re,providers:[{provide:X,useValue:Ve},{provide:oe,useValue:Ne}]}}}return re.\u0275fac=function(Ve){return new(Ve||re)(s.LFG(s.Lbi))},re.\u0275mod=s.oAB({type:re}),re.\u0275inj=s.cJS({providers:[se]}),re})();function me(re,ke,Ve,Ne,Le){const[,De,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ge=>ge[0]===re)||[];if(De)return function xe(re,ke){try{return re.toString()===ke.toString()}catch{return re===ke}}(Le,Ge)||(ee("error",`${ke} was already initialized on the ${Ve} Firebase App with different settings.${ne?" You may need to reload as Firebase is not HMR aware.":""}`),ee("warn",{is:Le,was:Ge})),De;{const ge=Ne();return globalThis.\u0275AngularfireInstanceCache.push([re,ge,Le]),ge}}const ne=!!we.hot,ee=(re,...ke)=>{(0,s.X6Q)()&&typeof console<"u"&&console[re](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(we,H,N)=>{"use strict";N.d(H,{q4:()=>ns,iC:()=>Go,HU:()=>Cl,vb:()=>fd,JM:()=>su});var s=N(4650),L=N(5867),O=N(5861),G=N(9681),$=N(2090),K=N(4859),Z=N(1877),X=N(8766);const oe="@firebase/installations",Q="0.5.12",se=`w:${Q}`,Oe="FIS_v2",ke=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(R){return R instanceof $.ZR&&R.code.includes("request-failed")}function Ne({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function Le(R){return{token:R.token,requestStatus:2,expiresIn:de(R.expiresIn),creationTime:Date.now()}}function De(R,P){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,O.Z)(function*(R,P){const ie=(yield P.json()).error;return ke.create("request-failed",{requestName:R,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function ge({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function ve(R,{refreshToken:P}){const V=ge(R);return V.append("Authorization",function Ae(R){return`${Oe} ${R}`}(P)),V}function Se(R){return ce.apply(this,arguments)}function ce(){return(ce=(0,O.Z)(function*(R){const P=yield R();return P.status>=500&&P.status<600?R():P})).apply(this,arguments)}function de(R){return Number(R.replace("s","000"))}function Ce(R,P){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*({appConfig:R,heartbeatServiceProvider:P},{fid:V}){const ie=Ne(R),Ie=ge(R),Pe=P.getImmediate({optional:!0});if(Pe){const Wt=yield Pe.getHeartbeatsHeader();Wt&&Ie.append("x-firebase-client",Wt)}const ft={method:"POST",headers:Ie,body:JSON.stringify({fid:V,authVersion:Oe,appId:R.appId,sdkVersion:se})},Ut=yield Se(()=>fetch(ie,ft));if(Ut.ok){const Wt=yield Ut.json();return{fid:Wt.fid||V,registrationStatus:2,refreshToken:Wt.refreshToken,authToken:Le(Wt.authToken)}}throw yield De("Create Installation",Ut)})).apply(this,arguments)}function tt(R){return new Promise(P=>{setTimeout(P,R)})}const yn=/^[cdef][\w-]{21}$/;function ut(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const V=function Sn(R){return function Tt(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return yn.test(V)?V:""}catch{return""}}function ii(R){return`${R.appName}!${R.appId}`}const Cn=new Map;function Dn(R,P){const V=ii(R);Kn(V,P),function cr(R,P){const V=function qn(){return!ai&&"BroadcastChannel"in self&&(ai=new BroadcastChannel("[Firebase] FID Change"),ai.onmessage=R=>{Kn(R.data.key,R.data.fid)}),ai}();V&&V.postMessage({key:R,fid:P}),function so(){0===Cn.size&&ai&&(ai.close(),ai=null)}()}(V,P)}function Kn(R,P){const V=Cn.get(R);if(V)for(const ie of V)ie(P)}let ai=null;const vi="firebase-installations-store";let $s=null;function zs(){return $s||($s=(0,X.X3)("firebase-installations-database",1,{upgrade:(R,P)=>{0===P&&R.createObjectStore(vi)}})),$s}function yt(R,P){return nr.apply(this,arguments)}function nr(){return(nr=(0,O.Z)(function*(R,P){const V=ii(R),Ie=(yield zs()).transaction(vi,"readwrite"),Pe=Ie.objectStore(vi),Je=yield Pe.get(V);return yield Pe.put(P,V),yield Ie.done,(!Je||Je.fid!==P.fid)&&Dn(R,P.fid),P})).apply(this,arguments)}function bi(R){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(R){const P=ii(R),ie=(yield zs()).transaction(vi,"readwrite");yield ie.objectStore(vi).delete(P),yield ie.done})).apply(this,arguments)}function ur(R,P){return oo.apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(R,P){const V=ii(R),Ie=(yield zs()).transaction(vi,"readwrite"),Pe=Ie.objectStore(vi),Je=yield Pe.get(V),ft=P(Je);return void 0===ft?yield Pe.delete(V):yield Pe.put(ft,V),yield Ie.done,ft&&(!Je||Je.fid!==ft.fid)&&Dn(R,ft.fid),ft})).apply(this,arguments)}function Xn(R){return ri.apply(this,arguments)}function ri(){return(ri=(0,O.Z)(function*(R){let P;const V=yield ur(R.appConfig,ie=>{const Ie=Qn(ie),Pe=Mt(R,Ie);return P=Pe.registrationPromise,Pe.installationEntry});return""===V.fid?{installationEntry:yield P}:{installationEntry:V,registrationPromise:P}})).apply(this,arguments)}function Qn(R){return qt(R||{fid:ut(),registrationStatus:0})}function Mt(R,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(ke.create("app-offline"))};const V={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ie=function Rt(R,P){return en.apply(this,arguments)}(R,V);return{installationEntry:V,registrationPromise:ie}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Fr(R)}:{installationEntry:P}}function en(){return(en=(0,O.Z)(function*(R,P){try{const V=yield Ce(R,P);return yt(R.appConfig,V)}catch(V){throw Ve(V)&&409===V.customData.serverCode?yield bi(R.appConfig):yield yt(R.appConfig,{fid:P.fid,registrationStatus:0}),V}})).apply(this,arguments)}function Fr(R){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(R){let P=yield dr(R.appConfig);for(;1===P.registrationStatus;)yield tt(100),P=yield dr(R.appConfig);if(0===P.registrationStatus){const{installationEntry:V,registrationPromise:ie}=yield Xn(R);return ie||V}return P})).apply(this,arguments)}function dr(R){return ur(R,P=>{if(!P)throw ke.create("installation-not-found");return qt(P)})}function qt(R){return function Ar(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function tn(R,P){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*({appConfig:R,heartbeatServiceProvider:P},V){const ie=pn(R,V),Ie=ve(R,V),Pe=P.getImmediate({optional:!0});if(Pe){const Wt=yield Pe.getHeartbeatsHeader();Wt&&Ie.append("x-firebase-client",Wt)}const ft={method:"POST",headers:Ie,body:JSON.stringify({installation:{sdkVersion:se,appId:R.appId}})},Ut=yield Se(()=>fetch(ie,ft));if(Ut.ok)return Le(yield Ut.json());throw yield De("Generate Auth Token",Ut)})).apply(this,arguments)}function pn(R,{fid:P}){return`${Ne(R)}/${P}/authTokens:generate`}function be(R){return he.apply(this,arguments)}function he(){return(he=(0,O.Z)(function*(R,P=!1){let V;const ie=yield ur(R.appConfig,Pe=>{if(!Vt(Pe))throw ke.create("not-registered");const Je=Pe.authToken;if(!P&&Fn(Je))return Pe;if(1===Je.requestStatus)return V=ae(R,P),Pe;{if(!navigator.onLine)throw ke.create("app-offline");const ft=Fi(Pe);return V=We(R,ft),ft}});return V?yield V:ie.authToken})).apply(this,arguments)}function ae(R,P){return pe.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*(R,P){let V=yield ye(R.appConfig);for(;1===V.authToken.requestStatus;)yield tt(100),V=yield ye(R.appConfig);const ie=V.authToken;return 0===ie.requestStatus?be(R,P):ie})).apply(this,arguments)}function ye(R){return ur(R,P=>{if(!Vt(P))throw ke.create("not-registered");return function Te(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function We(R,P){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(R,P){try{const V=yield tn(R,P),ie=Object.assign(Object.assign({},P),{authToken:V});return yield yt(R.appConfig,ie),V}catch(V){if(!Ve(V)||401!==V.customData.serverCode&&404!==V.customData.serverCode){const ie=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield yt(R.appConfig,ie)}else yield bi(R.appConfig);throw V}})).apply(this,arguments)}function Vt(R){return void 0!==R&&2===R.registrationStatus}function Fn(R){return 2===R.requestStatus&&!function Mn(R){const P=Date.now();return P<R.creationTime||R.creationTime+R.expiresIn<P+36e5}(R)}function Fi(R){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:P})}function fe(){return(fe=(0,O.Z)(function*(R){const P=R,{installationEntry:V,registrationPromise:ie}=yield Xn(P);return ie?ie.catch(console.error):be(P).catch(console.error),V.fid})).apply(this,arguments)}function dt(){return(dt=(0,O.Z)(function*(R,P=!1){const V=R;return yield Ot(V),(yield be(V,P)).token})).apply(this,arguments)}function Ot(R){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(R){const{registrationPromise:P}=yield Xn(R);P&&(yield P)})).apply(this,arguments)}function ia(R){return ke.create("missing-app-config-values",{valueName:R})}const za="installations",ra=R=>{const P=R.getProvider("app").getImmediate(),V=function ei(R){if(!R||!R.options)throw ia("App Configuration");if(!R.name)throw ia("App Name");const P=["projectId","apiKey","appId"];for(const V of P)if(!R.options[V])throw ia(V);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(P);return{app:P,appConfig:V,heartbeatServiceProvider:(0,G._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},qa=R=>{const P=R.getProvider("app").getImmediate(),V=(0,G._getProvider)(P,za).getImmediate();return{getId:()=>function ue(R){return fe.apply(this,arguments)}(V),getToken:Ie=>function He(R){return dt.apply(this,arguments)}(V,Ie)}};(function $c(){(0,G._registerComponent)(new K.wA(za,ra,"PUBLIC")),(0,G._registerComponent)(new K.wA("installations-internal",qa,"PRIVATE"))})(),(0,G.registerVersion)(oe,Q),(0,G.registerVersion)(oe,Q,"esm2017");const lo="@firebase/remote-config",Ri=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ql{constructor(P,V,ie,Ie){this.client=P,this.storage=V,this.storageCache=ie,this.logger=Ie}isCachedDataFresh(P,V){if(!V)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-V,Ie=ie<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Ie}.`),Ie}fetch(P){var V=this;return(0,O.Z)(function*(){const[ie,Ie]=yield Promise.all([V.storage.getLastSuccessfulFetchTimestampMillis(),V.storage.getLastSuccessfulFetchResponse()]);if(Ie&&V.isCachedDataFresh(P.cacheMaxAgeMillis,ie))return Ie;P.eTag=Ie&&Ie.eTag;const Pe=yield V.client.fetch(P),Je=[V.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&Je.push(V.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(Je),Pe})()}}function Wl(R=navigator){return R.languages&&R.languages[0]||R.language}class la{constructor(P,V,ie,Ie,Pe,Je){this.firebaseInstallations=P,this.sdkVersion=V,this.namespace=ie,this.projectId=Ie,this.apiKey=Pe,this.appId=Je}fetch(P){var V=this;return(0,O.Z)(function*(){var ie,Ie,Pe;const[Je,ft]=yield Promise.all([V.firebaseInstallations.getId(),V.firebaseInstallations.getToken()]),Wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${V.projectId}/namespaces/${V.namespace}:fetch?key=${V.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},jt={sdk_version:V.sdkVersion,app_instance_id:Je,app_instance_id_token:ft,app_id:V.appId,language_code:Wl()},ji={method:"POST",headers:un,body:JSON.stringify(jt)},mr=fetch(Wt,ji),mc=new Promise((vc,Il)=>{P.signal.addEventListener(()=>{const yd=new Error("The operation was aborted.");yd.name="AbortError",Il(yd)})});let yc;try{yield Promise.race([mr,mc]),yc=yield mr}catch(vc){let Il="fetch-client-network";throw"AbortError"===(null===(ie=vc)||void 0===ie?void 0:ie.name)&&(Il="fetch-timeout"),Ri.create(Il,{originalErrorMessage:null===(Ie=vc)||void 0===Ie?void 0:Ie.message})}let _c=yc.status;const Dl=yc.headers.get("ETag")||void 0;let wo,ou;if(200===yc.status){let vc;try{vc=yield yc.json()}catch(Il){throw Ri.create("fetch-client-parse",{originalErrorMessage:null===(Pe=Il)||void 0===Pe?void 0:Pe.message})}wo=vc.entries,ou=vc.state}if("INSTANCE_STATE_UNSPECIFIED"===ou?_c=500:"NO_CHANGE"===ou?_c=304:("NO_TEMPLATE"===ou||"EMPTY_CONFIG"===ou)&&(wo={}),304!==_c&&200!==_c)throw Ri.create("fetch-status",{httpStatus:_c});return{status:_c,eTag:Dl,config:wo}})()}}class uo{constructor(P,V){this.client=P,this.storage=V}fetch(P){var V=this;return(0,O.Z)(function*(){const ie=(yield V.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return V.attemptFetch(P,ie)})()}attemptFetch(P,{throttleEndTimeMillis:V,backoffCount:ie}){var Ie=this;return(0,O.Z)(function*(){yield function us(R,P){return new Promise((V,ie)=>{const Ie=Math.max(P-Date.now(),0),Pe=setTimeout(V,Ie);R.addEventListener(()=>{clearTimeout(Pe),ie(Ri.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,V);try{const Pe=yield Ie.client.fetch(P);return yield Ie.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function Mm(R){if(!(R instanceof $.ZR&&R.customData))return!1;const P=Number(R.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Pe))throw Pe;const Je={throttleEndTimeMillis:Date.now()+(0,$.$s)(ie),backoffCount:ie+1};return yield Ie.storage.setThrottleMetadata(Je),Ie.attemptFetch(P,Je)}})()}}class Fo{constructor(P,V,ie,Ie,Pe){this.app=P,this._client=V,this._storageCache=ie,this._storage=Ie,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zl(R,P){var V;const ie=R.target.error||void 0;return Ri.create(P,{originalErrorMessage:ie&&(null===(V=ie)||void 0===V?void 0:V.message)})}const Wa="app_namespace_store";class yh{constructor(P,V,ie,Ie=function Om(){return new Promise((R,P)=>{var V;try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=Ie=>{P(Zl(Ie,"storage-open"))},ie.onsuccess=Ie=>{R(Ie.target.result)},ie.onupgradeneeded=Ie=>{0===Ie.oldVersion&&Ie.target.result.createObjectStore(Wa,{keyPath:"compositeKey"})}}catch(ie){P(Ri.create("storage-open",{originalErrorMessage:null===(V=ie)||void 0===V?void 0:V.message}))}})}()){this.appId=P,this.appName=V,this.namespace=ie,this.openDbPromise=Ie}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var V=this;return(0,O.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((Ie,Pe)=>{var Je;const Ut=ie.transaction([Wa],"readonly").objectStore(Wa),Wt=V.createCompositeKey(P);try{const un=Ut.get(Wt);un.onerror=jt=>{Pe(Zl(jt,"storage-get"))},un.onsuccess=jt=>{const ji=jt.target.result;Ie(ji?ji.value:void 0)}}catch(un){Pe(Ri.create("storage-get",{originalErrorMessage:null===(Je=un)||void 0===Je?void 0:Je.message}))}})})()}set(P,V){var ie=this;return(0,O.Z)(function*(){const Ie=yield ie.openDbPromise;return new Promise((Pe,Je)=>{var ft;const Wt=Ie.transaction([Wa],"readwrite").objectStore(Wa),un=ie.createCompositeKey(P);try{const jt=Wt.put({compositeKey:un,value:V});jt.onerror=ji=>{Je(Zl(ji,"storage-set"))},jt.onsuccess=()=>{Pe()}}catch(jt){Je(Ri.create("storage-set",{originalErrorMessage:null===(ft=jt)||void 0===ft?void 0:ft.message}))}})})()}delete(P){var V=this;return(0,O.Z)(function*(){const ie=yield V.openDbPromise;return new Promise((Ie,Pe)=>{var Je;const Ut=ie.transaction([Wa],"readwrite").objectStore(Wa),Wt=V.createCompositeKey(P);try{const un=Ut.delete(Wt);un.onerror=jt=>{Pe(Zl(jt,"storage-delete"))},un.onsuccess=()=>{Ie()}}catch(un){Pe(Ri.create("storage-delete",{originalErrorMessage:null===(Je=un)||void 0===Je?void 0:Je.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Za{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,O.Z)(function*(){const V=P.storage.getLastFetchStatus(),ie=P.storage.getLastSuccessfulFetchTimestampMillis(),Ie=P.storage.getActiveConfig(),Pe=yield V;Pe&&(P.lastFetchStatus=Pe);const Je=yield ie;Je&&(P.lastSuccessfulFetchTimestampMillis=Je);const ft=yield Ie;ft&&(P.activeConfig=ft)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function $v(){return qc.apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}!function _h(){(0,G._registerComponent)(new K.wA("remote-config",function R(P,{instanceIdentifier:V}){const ie=P.getProvider("app").getImmediate(),Ie=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ri.create("registration-window");if(!(0,$.hl)())throw Ri.create("indexed-db-unavailable");const{projectId:Pe,apiKey:Je,appId:ft}=ie.options;if(!Pe)throw Ri.create("registration-project-id");if(!Je)throw Ri.create("registration-api-key");if(!ft)throw Ri.create("registration-app-id");const Ut=new yh(ft,ie.name,V=V||"firebase"),Wt=new Za(Ut),un=new Z.Yd(lo);un.logLevel=Z.in.ERROR;const jt=new la(Ie,G.SDK_VERSION,V,Pe,Je,ft),ji=new uo(jt,Ut),mr=new ql(ji,Ut,Wt,un),mc=new Fo(ie,mr,Wt,Ut,un);return function En(R){const P=(0,$.m9)(R);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(mc),mc},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(lo,"0.3.11"),(0,G.registerVersion)(lo,"0.3.11","esm2017")}();const fr="/firebase-messaging-sw.js",Ka="/firebase-cloud-messaging-push-scope",No="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wc="google.c.a.c_id",Zu="google.c.a.c_l",wh="google.c.a.ts",Qa="google.c.a.e";var ds=(()=>{return(R=ds||(ds={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",ds;var R})();function ho(R){const P=new Uint8Array(R);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function es(R){const V=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(V),Ie=new Uint8Array(ie.length);for(let Pe=0;Pe<ie.length;++Pe)Ie[Pe]=ie.charCodeAt(Pe);return Ie}const ca="fcm_token_details_db",hs="fcm_token_object_Store";function Pm(R){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,O.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(ca))return null;let P=null;return(yield(0,X.X3)(ca,5,{upgrade:(ie=(0,O.Z)(function*(Ie,Pe,Je,ft){var Ut;if(Pe<2||!Ie.objectStoreNames.contains(hs))return;const Wt=ft.objectStore(hs),un=yield Wt.index("fcmSenderId").get(R);if(yield Wt.clear(),un)if(2===Pe){const jt=un;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;P={token:jt.fcmToken,createTime:null!==(Ut=jt.createTime)&&void 0!==Ut?Ut:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:ho(jt.vapidKey)}}}else if(3===Pe){const jt=un;P={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:ho(jt.auth),p256dh:ho(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:ho(jt.vapidKey)}}}else if(4===Pe){const jt=un;P={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:ho(jt.auth),p256dh:ho(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:ho(jt.vapidKey)}}}}),function(Pe,Je,ft,Ut){return ie.apply(this,arguments)})})).close(),yield(0,X.Lj)(ca),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),pi(P)?P:null;var ie}),Ku.apply(this,arguments)}function pi(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:P}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const Ms="firebase-messaging-store";let pr=null;function Zc(){return pr||(pr=(0,X.X3)("firebase-messaging-database",1,{upgrade:(R,P)=>{0===P&&R.createObjectStore(Ms)}})),pr}function ua(R){return qs.apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*(R){const P=fs(R),ie=yield(yield Zc()).transaction(Ms).objectStore(Ms).get(P);if(ie)return ie;{const Ie=yield Pm(R.appConfig.senderId);if(Ie)return yield Tn(R,Ie),Ie}})).apply(this,arguments)}function Tn(R,P){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,O.Z)(function*(R,P){const V=fs(R),Ie=(yield Zc()).transaction(Ms,"readwrite");return yield Ie.objectStore(Ms).put(P,V),yield Ie.done,P})).apply(this,arguments)}function Lo(R){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,O.Z)(function*(R){const P=fs(R),ie=(yield Zc()).transaction(Ms,"readwrite");yield ie.objectStore(Ms).delete(P),yield ie.done})).apply(this,arguments)}function fs({appConfig:R}){return R.appId}const wi=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Kt(R,P){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,O.Z)(function*(R,P){var V;const ie=yield Xl(R),Ie=Ye(P),Pe={method:"POST",headers:ie,body:JSON.stringify(Ie)};let Je;try{Je=yield(yield fetch(da(R.appConfig),Pe)).json()}catch(ft){throw wi.create("token-subscribe-failed",{errorInfo:null===(V=ft)||void 0===V?void 0:V.toString()})}if(Je.error)throw wi.create("token-subscribe-failed",{errorInfo:Je.error.message});if(!Je.token)throw wi.create("token-subscribe-no-token");return Je.token})).apply(this,arguments)}function Fm(R,P){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,O.Z)(function*(R,P){var V;const ie=yield Xl(R),Ie=Ye(P.subscriptionOptions),Pe={method:"PATCH",headers:ie,body:JSON.stringify(Ie)};let Je;try{Je=yield(yield fetch(`${da(R.appConfig)}/${P.token}`,Pe)).json()}catch(ft){throw wi.create("token-update-failed",{errorInfo:null===(V=ft)||void 0===V?void 0:V.toString()})}if(Je.error)throw wi.create("token-update-failed",{errorInfo:Je.error.message});if(!Je.token)throw wi.create("token-update-no-token");return Je.token})).apply(this,arguments)}function Eh(R,P){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,O.Z)(function*(R,P){var V;const Ie={method:"DELETE",headers:yield Xl(R)};try{const Je=yield(yield fetch(`${da(R.appConfig)}/${P}`,Ie)).json();if(Je.error)throw wi.create("token-unsubscribe-failed",{errorInfo:Je.error.message})}catch(Pe){throw wi.create("token-unsubscribe-failed",{errorInfo:null===(V=Pe)||void 0===V?void 0:V.toString()})}})).apply(this,arguments)}function da({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Xl(R){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,O.Z)(function*({appConfig:R,installations:P}){const V=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${V}`})})).apply(this,arguments)}function Ye({p256dh:R,auth:P,endpoint:V,vapidKey:ie}){const Ie={web:{endpoint:V,auth:P,p256dh:R}};return ie!==No&&(Ie.web.applicationPubKey=ie),Ie}const gn=6048e5;function rp(R){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(R){const P=yield sp(R.swRegistration,R.vapidKey),V={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:P.endpoint,auth:ho(P.getKey("auth")),p256dh:ho(P.getKey("p256dh"))},ie=yield ua(R.firebaseDependencies);if(ie){if(Nm(ie.subscriptionOptions,V))return Date.now()>=ie.createTime+gn?Yc(R,{token:ie.token,createTime:Date.now(),subscriptionOptions:V}):ie.token;try{yield Eh(R.firebaseDependencies,ie.token)}catch(Ie){console.warn(Ie)}return Kc(R.firebaseDependencies,V)}return Kc(R.firebaseDependencies,V)})).apply(this,arguments)}function Li(R){return el.apply(this,arguments)}function el(){return(el=(0,O.Z)(function*(R){const P=yield ua(R.firebaseDependencies);P&&(yield Eh(R.firebaseDependencies,P.token),yield Lo(R.firebaseDependencies));const V=yield R.swRegistration.pushManager.getSubscription();return!V||V.unsubscribe()})).apply(this,arguments)}function Yc(R,P){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(R,P){try{const V=yield Fm(R.firebaseDependencies,P),ie=Object.assign(Object.assign({},P),{token:V,createTime:Date.now()});return yield Tn(R.firebaseDependencies,ie),V}catch(V){throw yield Li(R),V}})).apply(this,arguments)}function Kc(R,P){return tl.apply(this,arguments)}function tl(){return(tl=(0,O.Z)(function*(R,P){const ie={token:yield Kt(R,P),createTime:Date.now(),subscriptionOptions:P};return yield Tn(R,ie),ie.token})).apply(this,arguments)}function sp(R,P){return ec.apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(R,P){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:es(P)})})).apply(this,arguments)}function Nm(R,P){return P.vapidKey===R.vapidKey&&P.endpoint===R.endpoint&&P.auth===R.auth&&P.p256dh===R.p256dh}function ha(R){const P={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function Bi(R,P){if(!P.notification)return;R.notification={};const V=P.notification.title;V&&(R.notification.title=V);const ie=P.notification.body;ie&&(R.notification.body=ie);const Ie=P.notification.image;Ie&&(R.notification.image=Ie)}(P,R),function Ws(R,P){!P.data||(R.data=P.data)}(P,R),function tc(R,P){var V,ie,Ie,Pe,Je;if(!(P.fcmOptions||null!==(V=P.notification)&&void 0!==V&&V.click_action))return;R.fcmOptions={};const ft=null!==(Ie=null===(ie=P.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==Ie?Ie:null===(Pe=P.notification)||void 0===Pe?void 0:Pe.click_action;ft&&(R.fcmOptions.link=ft);const Ut=null===(Je=P.fcmOptions)||void 0===Je?void 0:Je.analytics_label;Ut&&(R.fcmOptions.analyticsLabel=Ut)}(P,R),P}function nc(R){return"object"==typeof R&&!!R&&Wc in R}function fo(R,P){const V=[];for(let ie=0;ie<R.length;ie++)V.push(R.charAt(ie)),ie<P.length&&V.push(P.charAt(ie));return V.join("")}function Xu(R){return wi.create("missing-app-config-values",{valueName:R})}fo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Dh{constructor(P,V,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ie=function xh(R){if(!R||!R.options)throw Xu("App Configuration Object");if(!R.name)throw Xu("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:V}=R;for(const ie of P)if(!V[ie])throw Xu(ie);return{appName:R.name,projectId:V.projectId,apiKey:V.apiKey,appId:V.appId,senderId:V.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Ie,installations:V,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function op(R){return nl.apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(R){var P;try{R.swRegistration=yield navigator.serviceWorker.register(fr,{scope:Ka}),R.swRegistration.update().catch(()=>{})}catch(V){throw wi.create("failed-service-worker-registration",{browserErrorMessage:null===(P=V)||void 0===P?void 0:P.message})}})).apply(this,arguments)}function ed(R,P){return ic.apply(this,arguments)}function ic(){return(ic=(0,O.Z)(function*(R,P){if(!P&&!R.swRegistration&&(yield op(R)),P||!R.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw wi.create("invalid-sw-registration");R.swRegistration=P}})).apply(this,arguments)}function td(R,P){return rc.apply(this,arguments)}function rc(){return(rc=(0,O.Z)(function*(R,P){P?R.vapidKey=P:R.vapidKey||(R.vapidKey=No)})).apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(R,P){if(!navigator)throw wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wi.create("permission-blocked");return yield td(R,P?.vapidKey),yield ed(R,P?.serviceWorkerRegistration),rp(R)})).apply(this,arguments)}function ap(R,P,V){return sc.apply(this,arguments)}function sc(){return(sc=(0,O.Z)(function*(R,P,V){const ie=lp(P);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:V[Wc],message_name:V[Zu],message_time:V[wh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lp(R){switch(R){case ds.NOTIFICATION_CLICKED:return"notification_open";case ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bo(){return(Bo=(0,O.Z)(function*(R,P){const V=P.data;if(!V.isFirebaseMessaging)return;R.onMessageHandler&&V.messageType===ds.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(ha(V)):R.onMessageHandler.next(ha(V)));const ie=V.data;nc(ie)&&"1"===ie[Qa]&&(yield ap(R,V.messageType,ie))})).apply(this,arguments)}const Vo="@firebase/messaging",ci=R=>{const P=new Dh(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",V=>function Ah(R,P){return Bo.apply(this,arguments)}(P,V)),P},po=R=>{const P=R.getProvider("messaging").getImmediate();return{getToken:ie=>function Ih(R,P){return il.apply(this,arguments)}(P,ie)}};function nd(){return id.apply(this,arguments)}function id(){return(id=(0,O.Z)(function*(){try{yield(0,$.eu)()}catch{return!1}return typeof window<"u"&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ui(){(0,G._registerComponent)(new K.wA("messaging",ci,"PUBLIC")),(0,G._registerComponent)(new K.wA("messaging-internal",po,"PRIVATE")),(0,G.registerVersion)(Vo,"0.9.16"),(0,G.registerVersion)(Vo,"0.9.16","esm2017")}();const ol="analytics",Rh="firebase_id",ad="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kh="https://www.googletagmanager.com/gtag/js",Ci=new Z.Yd("@firebase/analytics");function Qc(R){return Promise.all(R.map(P=>P.catch(V=>V)))}function Jc(R,P){const V=document.createElement("script");V.src=`${kh}?l=${R}&id=${P}`,V.async=!0,document.head.appendChild(V)}function up(R,P,V,ie,Ie,Pe){return oc.apply(this,arguments)}function oc(){return(oc=(0,O.Z)(function*(R,P,V,ie,Ie,Pe){const Je=ie[Ie];try{if(Je)yield P[Je];else{const Ut=(yield Qc(V)).find(Wt=>Wt.measurementId===Ie);Ut&&(yield P[Ut.appId])}}catch(ft){Ci.error(ft)}R("config",Ie,Pe)})).apply(this,arguments)}function go(R,P,V,ie,Ie){return ac.apply(this,arguments)}function ac(){return(ac=(0,O.Z)(function*(R,P,V,ie,Ie){try{let Pe=[];if(Ie&&Ie.send_to){let Je=Ie.send_to;Array.isArray(Je)||(Je=[Je]);const ft=yield Qc(V);for(const Ut of Je){const Wt=ft.find(jt=>jt.measurementId===Ut),un=Wt&&P[Wt.appId];if(!un){Pe=[];break}Pe.push(un)}}0===Pe.length&&(Pe=Object.values(P)),yield Promise.all(Pe),R("event",ie,Ie||{})}catch(Pe){Ci.error(Pe)}})).apply(this,arguments)}function Oh(){const R=window.document.getElementsByTagName("script");for(const P of Object.values(R))if(P.src&&P.src.includes(kh))return P;return null}const Vi=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cc=new class cd{constructor(P={},V=1e3){this.throttleMetadata=P,this.intervalMillis=V}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,V){this.throttleMetadata[P]=V}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function al(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function fp(R){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,O.Z)(function*(R){var P;const{appId:V,apiKey:ie}=R,Ie={method:"GET",headers:al(ie)},Pe=ad.replace("{app-id}",V),Je=yield fetch(Pe,Ie);if(200!==Je.status&&304!==Je.status){let ft="";try{const Ut=yield Je.json();null!==(P=Ut.error)&&void 0!==P&&P.message&&(ft=Ut.error.message)}catch{}throw Vi.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:ft})}return Je.json()})).apply(this,arguments)}function Ph(R){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(R,P=cc,V){const{appId:ie,apiKey:Ie,measurementId:Pe}=R.options;if(!ie)throw Vi.create("no-app-id");if(!Ie){if(Pe)return{measurementId:Pe,appId:ie};throw Vi.create("no-api-key")}const Je=P.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ft=new uc;return setTimeout((0,O.Z)(function*(){ft.abort()}),void 0!==V?V:6e4),Fh({appId:ie,apiKey:Ie,measurementId:Pe},Je,ft,P)})).apply(this,arguments)}function Fh(R,P,V){return mo.apply(this,arguments)}function mo(){return(mo=(0,O.Z)(function*(R,{throttleEndTimeMillis:P,backoffCount:V},ie,Ie=cc){var Pe,Je;const{appId:ft,measurementId:Ut}=R;try{yield ud(ie,P)}catch(Wt){if(Ut)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${null===(Pe=Wt)||void 0===Pe?void 0:Pe.message}]`),{appId:ft,measurementId:Ut};throw Wt}try{const Wt=yield fp(R);return Ie.deleteThrottleMetadata(ft),Wt}catch(Wt){const un=Wt;if(!eu(un)){if(Ie.deleteThrottleMetadata(ft),Ut)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ut} provided in the "measurementId" field in the local Firebase config. [${un?.message}]`),{appId:ft,measurementId:Ut};throw Wt}const jt=503===Number(null===(Je=un?.customData)||void 0===Je?void 0:Je.httpStatus)?(0,$.$s)(V,Ie.intervalMillis,30):(0,$.$s)(V,Ie.intervalMillis),ji={throttleEndTimeMillis:Date.now()+jt,backoffCount:V+1};return Ie.setThrottleMetadata(ft,ji),Ci.debug(`Calling attemptFetch again in ${jt} millis`),Fh(R,ji,ie,Ie)}})).apply(this,arguments)}function ud(R,P){return new Promise((V,ie)=>{const Ie=Math.max(P-Date.now(),0),Pe=setTimeout(V,Ie);R.addEventListener(()=>{clearTimeout(Pe),ie(Vi.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function eu(R){if(!(R instanceof $.ZR&&R.customData))return!1;const P=Number(R.customData.httpStatus);return 429===P||500===P||503===P||504===P}class uc{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let fa,nu;function ll(){return(ll=(0,O.Z)(function*(R,P,V,ie,Ie){if(Ie&&Ie.global)R("event",V,ie);else{const Pe=yield P;R("event",V,Object.assign(Object.assign({},ie),{send_to:Pe}))}})).apply(this,arguments)}function dl(R){nu=R}function dd(R){fa=R}function jo(){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(){var R;if(!(0,$.hl)())return Ci.warn(Vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(P){return Ci.warn(Vi.create("indexeddb-unavailable",{errorInfo:null===(R=P)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(R,P,V,ie,Ie,Pe,Je){var ft;const Ut=Ph(R);Ut.then(mr=>{V[mr.measurementId]=mr.appId,R.options.measurementId&&mr.measurementId!==R.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mr=>Ci.error(mr)),P.push(Ut);const Wt=jo().then(mr=>{if(mr)return ie.getId()}),[un,jt]=yield Promise.all([Ut,Wt]);Oh()||Jc(Pe,un.measurementId),nu&&(Ie("consent","default",nu),dl(void 0)),Ie("js",new Date);const ji=null!==(ft=Je?.config)&&void 0!==ft?ft:{};return ji.origin="firebase",ji.update=!0,null!=jt&&(ji[Rh]=jt),Ie("config",un.measurementId,ji),fa&&(Ie("set",fa),dd(void 0)),un.measurementId})).apply(this,arguments)}class iu{constructor(P){this.app=P}_delete(){return delete Sr[this.app.options.appId],Promise.resolve()}}let Sr={},pl=[];const ga={};let ml,Ys,gl="dataLayer",Lh=!1;function mp(R,P,V){!function Lm(){const R=[];if((0,$.ru)()&&R.push("This is a browser extension environment."),(0,$.zI)()||R.push("Cookies are not available."),R.length>0){const P=R.map((ie,Ie)=>`(${Ie+1}) ${ie}`).join(" "),V=Vi.create("invalid-analytics-context",{errorInfo:P});Ci.warn(V.message)}}();const ie=R.options.appId;if(!ie)throw Vi.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Vi.create("no-api-key");Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sr[ie])throw Vi.create("already-exists",{id:ie});if(!Lh){!function Xc(R){let P=[];Array.isArray(window[R])?P=window[R]:window[R]=P}(gl);const{wrappedGtag:Pe,gtagCore:Je}=function lc(R,P,V,ie,Ie){let Pe=function(...Je){window[ie].push(arguments)};return window[Ie]&&"function"==typeof window[Ie]&&(Pe=window[Ie]),window[Ie]=function ld(R,P,V,ie){function Pe(){return(Pe=(0,O.Z)(function*(Je,ft,Ut){try{"event"===Je?yield go(R,P,V,ft,Ut):"config"===Je?yield up(R,P,V,ie,ft,Ut):"consent"===Je?R("consent","update",Ut):R("set",ft)}catch(Wt){Ci.error(Wt)}})).apply(this,arguments)}return function Ie(Je,ft,Ut){return Pe.apply(this,arguments)}}(Pe,R,P,V),{gtagCore:Pe,wrappedGtag:window[Ie]}}(Sr,pl,ga,gl,"gtag");Ys=Pe,ml=Je,Lh=!0}return Sr[ie]=function gp(R,P,V,ie,Ie,Pe,Je){return fl.apply(this,arguments)}(R,pl,ga,P,ml,gl,V),new iu(R)}function qv(){return yp.apply(this,arguments)}function yp(){return(yp=(0,O.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}const xi="@firebase/analytics";!function ki(){(0,G._registerComponent)(new K.wA(ol,(P,{options:V})=>mp(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),V),"PUBLIC")),(0,G._registerComponent)(new K.wA("analytics-internal",function R(P){try{const V=P.getProvider(ol).getImmediate();return{logEvent:(ie,Ie,Pe)=>function wt(R,P,V,ie){R=(0,$.m9)(R),function dc(R,P,V,ie,Ie){return ll.apply(this,arguments)}(Ys,Sr[R.app.options.appId],P,V,ie).catch(Ie=>Ci.error(Ie))}(V,ie,Ie,Pe)}}catch(V){throw Vi.create("interop-component-reg-failed",{reason:V})}},"PRIVATE")),(0,G.registerVersion)(xi,"0.8.0"),(0,G.registerVersion)(xi,"0.8.0","esm2017")}();var Ks=N(4408),ks=N(7565);const _l=new class ma extends ks.v{}(class fc extends Ks.o{constructor(P,V){super(P,V),this.scheduler=P,this.work=V}schedule(P,V=0){return V>0?super.schedule(P,V):(this.delay=V,this.state=P,this.scheduler.flush(this),this)}execute(P,V){return V>0||this.closed?super.execute(P,V):this._execute(P,V)}requestAsyncId(P,V,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(P,V,ie):(P.flush(this),0)}});var ya=N(4986),vl=N(8505),vp=N(9468),ru=N(5363);const ns=new s.GfV("7.4.1"),bl="__angularfire_symbol__analyticsIsSupportedValue",gs="__angularfire_symbol__analyticsIsSupported",_o="__angularfire_symbol__remoteConfigIsSupportedValue",wl="__angularfire_symbol__remoteConfigIsSupported",Qt="__angularfire_symbol__messagingIsSupportedValue",sr="__angularfire_symbol__messagingIsSupported";function su(R,P,V){if(P){if(1===P.length)return P[0];const Pe=P.filter(Je=>Je.app===V);if(1===Pe.length)return Pe[0]}return V.container.getProvider(R).getImmediate({optional:!0})}globalThis[gs]||(globalThis[gs]=qv().then(R=>globalThis[bl]=R).catch(()=>globalThis[bl]=!1)),globalThis[sr]||(globalThis[sr]=nd().then(R=>globalThis[Qt]=R).catch(()=>globalThis[Qt]=!1)),globalThis[wl]||(globalThis[wl]=$v().then(R=>globalThis[_o]=R).catch(()=>globalThis[_o]=!1));const fd=(R,P)=>{const V=P?[P]:(0,L.C6)(),ie=[];return V.forEach(Ie=>{Ie.container.getProvider(R).instances.forEach(Je=>{ie.includes(Je)||ie.push(Je)})}),ie};function vo(){}class gc{constructor(P,V=_l){this.zone=P,this.delegate=V}now(){return this.delegate.now()}schedule(P,V,ie){const Ie=this.zone;return this.delegate.schedule(function(Je){Ie.runGuarded(()=>{P.apply(this,[Je])})},V,ie)}}class pd{constructor(P){this.zone=P,this.task=null}call(P,V){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vo,{},vo,vo)),V.pipe((0,vl.b)({next:ie,complete:ie,error:ie})).subscribe(P).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Cl=(()=>{class R{constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new gc(Zone.current)),this.insideAngular=V.run(()=>new gc(Zone.current,ya.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(V){return new(V||R)(s.LFG(s.R0b))},R.\u0275prov=s.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function bo(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Go(R){return bo(),function Vm(R){return function(V){return(V=V.lift(new pd(R.ngZone))).pipe((0,vp.R)(R.outsideAngular),(0,ru.Q)(R.insideAngular))}}(bo())(R)}},5876:(we,H,N)=>{const L=N(532),O=N(7554),G=N(179),$=N(1036);function K(Z,X,oe,Q,J){const se=[].slice.call(arguments,1),Oe=se.length,me="function"==typeof se[Oe-1];if(!me&&!L())throw new Error("Callback required as last argument");if(!me){if(Oe<1)throw new Error("Too few arguments provided");return 1===Oe?(oe=X,X=Q=void 0):2===Oe&&!X.getContext&&(Q=oe,oe=X,X=void 0),new Promise(function(xe,ne){try{const ee=O.create(oe,Q);xe(Z(ee,X,Q))}catch(ee){ne(ee)}})}if(Oe<2)throw new Error("Too few arguments provided");2===Oe?(J=oe,oe=X,X=Q=void 0):3===Oe&&(X.getContext&&typeof J>"u"?(J=Q,Q=void 0):(J=Q,Q=oe,oe=X,X=void 0));try{const xe=O.create(oe,Q);J(null,Z(xe,X,Q))}catch(xe){J(xe)}}H.rT=K.bind(null,G.render),H.hz=K.bind(null,G.renderToDataURL),H.toString=K.bind(null,function(Z,X,oe){return $.render(Z,oe)})},532:we=>{we.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(we,H,N)=>{const s=N(4860).getSymbolSize;H.getRowColCoords=function(O){if(1===O)return[];const G=Math.floor(O/7)+2,$=s(O),K=145===$?26:2*Math.ceil(($-13)/(2*G-2)),Z=[$-7];for(let X=1;X<G-1;X++)Z[X]=Z[X-1]-K;return Z.push(6),Z.reverse()},H.getPositions=function(O){const G=[],$=H.getRowColCoords(O),K=$.length;for(let Z=0;Z<K;Z++)for(let X=0;X<K;X++)0===Z&&0===X||0===Z&&X===K-1||Z===K-1&&0===X||G.push([$[Z],$[X]]);return G}},812:(we,H,N)=>{const s=N(6906),L=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function O(G){this.mode=s.ALPHANUMERIC,this.data=G}O.getBitsLength=function($){return 11*Math.floor($/2)+$%2*6},O.prototype.getLength=function(){return this.data.length},O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)},O.prototype.write=function($){let K;for(K=0;K+2<=this.data.length;K+=2){let Z=45*L.indexOf(this.data[K]);Z+=L.indexOf(this.data[K+1]),$.put(Z,11)}this.data.length%2&&$.put(L.indexOf(this.data[K]),6)},we.exports=O},3044:we=>{function H(){this.buffer=[],this.length=0}H.prototype={get:function(N){const s=Math.floor(N/8);return 1==(this.buffer[s]>>>7-N%8&1)},put:function(N,s){for(let L=0;L<s;L++)this.putBit(1==(N>>>s-L-1&1))},getLengthInBits:function(){return this.length},putBit:function(N){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),N&&(this.buffer[s]|=128>>>this.length%8),this.length++}},we.exports=H},1973:we=>{function H(N){if(!N||N<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=N,this.data=new Uint8Array(N*N),this.reservedBit=new Uint8Array(N*N)}H.prototype.set=function(N,s,L,O){const G=N*this.size+s;this.data[G]=L,O&&(this.reservedBit[G]=!0)},H.prototype.get=function(N,s){return this.data[N*this.size+s]},H.prototype.xor=function(N,s,L){this.data[N*this.size+s]^=L},H.prototype.isReserved=function(N,s){return this.reservedBit[N*this.size+s]},we.exports=H},1824:(we,H,N)=>{const s=N(8419),L=N(6906);function O(G){this.mode=L.BYTE,this.data=new Uint8Array(s(G))}O.getBitsLength=function($){return 8*$},O.prototype.getLength=function(){return this.data.length},O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)},O.prototype.write=function(G){for(let $=0,K=this.data.length;$<K;$++)G.put(this.data[$],8)},we.exports=O},6194:(we,H,N)=>{const s=N(9020),L=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],O=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];H.getBlocksCount=function($,K){switch(K){case s.L:return L[4*($-1)+0];case s.M:return L[4*($-1)+1];case s.Q:return L[4*($-1)+2];case s.H:return L[4*($-1)+3];default:return}},H.getTotalCodewordsCount=function($,K){switch(K){case s.L:return O[4*($-1)+0];case s.M:return O[4*($-1)+1];case s.Q:return O[4*($-1)+2];case s.H:return O[4*($-1)+3];default:return}}},9020:(we,H)=>{H.L={bit:1},H.M={bit:0},H.Q={bit:3},H.H={bit:2},H.isValid=function(L){return L&&typeof L.bit<"u"&&L.bit>=0&&L.bit<4},H.from=function(L,O){if(H.isValid(L))return L;try{return function N(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return H.L;case"m":case"medium":return H.M;case"q":case"quartile":return H.Q;case"h":case"high":return H.H;default:throw new Error("Unknown EC Level: "+s)}}(L)}catch{return O}}},9172:(we,H,N)=>{const s=N(4860).getSymbolSize;H.getPositions=function(G){const $=s(G);return[[0,0],[$-7,0],[0,$-7]]}},611:(we,H,N)=>{const s=N(4860),G=s.getBCHDigit(1335);H.getEncodedBits=function(K,Z){const X=K.bit<<3|Z;let oe=X<<10;for(;s.getBCHDigit(oe)-G>=0;)oe^=1335<<s.getBCHDigit(oe)-G;return 21522^(X<<10|oe)}},7794:(we,H)=>{const N=new Uint8Array(512),s=new Uint8Array(256);(function(){let O=1;for(let G=0;G<255;G++)N[G]=O,s[O]=G,O<<=1,256&O&&(O^=285);for(let G=255;G<512;G++)N[G]=N[G-255]})(),H.log=function(O){if(O<1)throw new Error("log("+O+")");return s[O]},H.exp=function(O){return N[O]},H.mul=function(O,G){return 0===O||0===G?0:N[s[O]+s[G]]}},8043:(we,H,N)=>{const s=N(6906),L=N(4860);function O(G){this.mode=s.KANJI,this.data=G}O.getBitsLength=function($){return 13*$},O.prototype.getLength=function(){return this.data.length},O.prototype.getBitsLength=function(){return O.getBitsLength(this.data.length)},O.prototype.write=function(G){let $;for($=0;$<this.data.length;$++){let K=L.toSJIS(this.data[$]);if(K>=33088&&K<=40956)K-=33088;else{if(!(K>=57408&&K<=60351))throw new Error("Invalid SJIS character: "+this.data[$]+"\nMake sure your charset is UTF-8");K-=49472}K=192*(K>>>8&255)+(255&K),G.put(K,13)}},we.exports=O},7135:(we,H)=>{H.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(L,O,G){switch(L){case H.Patterns.PATTERN000:return(O+G)%2==0;case H.Patterns.PATTERN001:return O%2==0;case H.Patterns.PATTERN010:return G%3==0;case H.Patterns.PATTERN011:return(O+G)%3==0;case H.Patterns.PATTERN100:return(Math.floor(O/2)+Math.floor(G/3))%2==0;case H.Patterns.PATTERN101:return O*G%2+O*G%3==0;case H.Patterns.PATTERN110:return(O*G%2+O*G%3)%2==0;case H.Patterns.PATTERN111:return(O*G%3+(O+G)%2)%2==0;default:throw new Error("bad maskPattern:"+L)}}H.isValid=function(O){return null!=O&&""!==O&&!isNaN(O)&&O>=0&&O<=7},H.from=function(O){return H.isValid(O)?parseInt(O,10):void 0},H.getPenaltyN1=function(O){const G=O.size;let $=0,K=0,Z=0,X=null,oe=null;for(let Q=0;Q<G;Q++){K=Z=0,X=oe=null;for(let J=0;J<G;J++){let se=O.get(Q,J);se===X?K++:(K>=5&&($+=K-5+3),X=se,K=1),se=O.get(J,Q),se===oe?Z++:(Z>=5&&($+=Z-5+3),oe=se,Z=1)}K>=5&&($+=K-5+3),Z>=5&&($+=Z-5+3)}return $},H.getPenaltyN2=function(O){const G=O.size;let $=0;for(let K=0;K<G-1;K++)for(let Z=0;Z<G-1;Z++){const X=O.get(K,Z)+O.get(K,Z+1)+O.get(K+1,Z)+O.get(K+1,Z+1);(4===X||0===X)&&$++}return 3*$},H.getPenaltyN3=function(O){const G=O.size;let $=0,K=0,Z=0;for(let X=0;X<G;X++){K=Z=0;for(let oe=0;oe<G;oe++)K=K<<1&2047|O.get(X,oe),oe>=10&&(1488===K||93===K)&&$++,Z=Z<<1&2047|O.get(oe,X),oe>=10&&(1488===Z||93===Z)&&$++}return 40*$},H.getPenaltyN4=function(O){let G=0;const $=O.data.length;for(let Z=0;Z<$;Z++)G+=O.data[Z];return 10*Math.abs(Math.ceil(100*G/$/5)-10)},H.applyMask=function(O,G){const $=G.size;for(let K=0;K<$;K++)for(let Z=0;Z<$;Z++)G.isReserved(Z,K)||G.xor(Z,K,s(O,Z,K))},H.getBestMask=function(O,G){const $=Object.keys(H.Patterns).length;let K=0,Z=1/0;for(let X=0;X<$;X++){G(X),H.applyMask(X,O);const oe=H.getPenaltyN1(O)+H.getPenaltyN2(O)+H.getPenaltyN3(O)+H.getPenaltyN4(O);H.applyMask(X,O),oe<Z&&(Z=oe,K=X)}return K}},6906:(we,H,N)=>{const s=N(2316),L=N(4677);H.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},H.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},H.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},H.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},H.MIXED={bit:-1},H.getCharCountIndicator=function($,K){if(!$.ccBits)throw new Error("Invalid mode: "+$);if(!s.isValid(K))throw new Error("Invalid version: "+K);return K>=1&&K<10?$.ccBits[0]:K<27?$.ccBits[1]:$.ccBits[2]},H.getBestModeForData=function($){return L.testNumeric($)?H.NUMERIC:L.testAlphanumeric($)?H.ALPHANUMERIC:L.testKanji($)?H.KANJI:H.BYTE},H.toString=function($){if($&&$.id)return $.id;throw new Error("Invalid mode")},H.isValid=function($){return $&&$.bit&&$.ccBits},H.from=function($,K){if(H.isValid($))return $;try{return function O(G){if("string"!=typeof G)throw new Error("Param is not a string");switch(G.toLowerCase()){case"numeric":return H.NUMERIC;case"alphanumeric":return H.ALPHANUMERIC;case"kanji":return H.KANJI;case"byte":return H.BYTE;default:throw new Error("Unknown mode: "+G)}}($)}catch{return K}}},6002:(we,H,N)=>{const s=N(6906);function L(O){this.mode=s.NUMERIC,this.data=O.toString()}L.getBitsLength=function(G){return 10*Math.floor(G/3)+(G%3?G%3*3+1:0)},L.prototype.getLength=function(){return this.data.length},L.prototype.getBitsLength=function(){return L.getBitsLength(this.data.length)},L.prototype.write=function(G){let $,K,Z;for($=0;$+3<=this.data.length;$+=3)K=this.data.substr($,3),Z=parseInt(K,10),G.put(Z,10);const X=this.data.length-$;X>0&&(K=this.data.substr($),Z=parseInt(K,10),G.put(Z,3*X+1))},we.exports=L},7793:(we,H,N)=>{const s=N(7794);H.mul=function(O,G){const $=new Uint8Array(O.length+G.length-1);for(let K=0;K<O.length;K++)for(let Z=0;Z<G.length;Z++)$[K+Z]^=s.mul(O[K],G[Z]);return $},H.mod=function(O,G){let $=new Uint8Array(O);for(;$.length-G.length>=0;){const K=$[0];for(let X=0;X<G.length;X++)$[X]^=s.mul(G[X],K);let Z=0;for(;Z<$.length&&0===$[Z];)Z++;$=$.slice(Z)}return $},H.generateECPolynomial=function(O){let G=new Uint8Array([1]);for(let $=0;$<O;$++)G=H.mul(G,new Uint8Array([1,s.exp($)]));return G}},7554:(we,H,N)=>{const s=N(4860),L=N(9020),O=N(3044),G=N(1973),$=N(3012),K=N(9172),Z=N(7135),X=N(6194),oe=N(8098),Q=N(6602),J=N(611),se=N(6906),Oe=N(9465);function re(De,Ge,ge){const ve=De.size,Se=J.getEncodedBits(Ge,ge);let ce,de;for(ce=0;ce<15;ce++)de=1==(Se>>ce&1),De.set(ce<6?ce:ce<8?ce+1:ve-15+ce,8,de,!0),De.set(8,ce<8?ve-ce-1:ce<9?15-ce-1+1:15-ce-1,de,!0);De.set(ve-8,8,1,!0)}function Le(De,Ge,ge,ve){let Se;if(Array.isArray(De))Se=Oe.fromArray(De);else{if("string"!=typeof De)throw new Error("Invalid data");{let Qe=Ge;if(!Qe){const tt=Oe.rawSplit(De);Qe=Q.getBestVersionForData(tt,ge)}Se=Oe.fromString(De,Qe||40)}}const ce=Q.getBestVersionForData(Se,ge);if(!ce)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ge){if(Ge<ce)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ce+".\n")}else Ge=ce;const de=function Ve(De,Ge,ge){const ve=new O;ge.forEach(function(Ce){ve.put(Ce.mode.bit,4),ve.put(Ce.getLength(),se.getCharCountIndicator(Ce.mode,De)),Ce.write(ve)});const de=8*(s.getSymbolTotalCodewords(De)-X.getTotalCodewordsCount(De,Ge));for(ve.getLengthInBits()+4<=de&&ve.put(0,4);ve.getLengthInBits()%8!=0;)ve.putBit(0);const Ae=(de-ve.getLengthInBits())/8;for(let Ce=0;Ce<Ae;Ce++)ve.put(Ce%2?17:236,8);return function Ne(De,Ge,ge){const ve=s.getSymbolTotalCodewords(Ge),ce=ve-X.getTotalCodewordsCount(Ge,ge),de=X.getBlocksCount(Ge,ge),Ce=de-ve%de,Qe=Math.floor(ve/de),tt=Math.floor(ce/de),Tt=tt+1,yn=Qe-tt,cn=new oe(yn);let ut=0;const Sn=new Array(de),ii=new Array(de);let Cn=0;const Dn=new Uint8Array(De.buffer);for(let ai=0;ai<de;ai++){const qn=ai<Ce?tt:Tt;Sn[ai]=Dn.slice(ut,ut+qn),ii[ai]=cn.encode(Sn[ai]),ut+=qn,Cn=Math.max(Cn,qn)}const rn=new Uint8Array(ve);let Kn,cr,Xt=0;for(Kn=0;Kn<Cn;Kn++)for(cr=0;cr<de;cr++)Kn<Sn[cr].length&&(rn[Xt++]=Sn[cr][Kn]);for(Kn=0;Kn<yn;Kn++)for(cr=0;cr<de;cr++)rn[Xt++]=ii[cr][Kn];return rn}(ve,De,Ge)}(Ge,ge,Se),Ae=s.getSymbolSize(Ge),Ce=new G(Ae);return function me(De,Ge){const ge=De.size,ve=K.getPositions(Ge);for(let Se=0;Se<ve.length;Se++){const ce=ve[Se][0],de=ve[Se][1];for(let Ae=-1;Ae<=7;Ae++)if(!(ce+Ae<=-1||ge<=ce+Ae))for(let Ce=-1;Ce<=7;Ce++)de+Ce<=-1||ge<=de+Ce||De.set(ce+Ae,de+Ce,Ae>=0&&Ae<=6&&(0===Ce||6===Ce)||Ce>=0&&Ce<=6&&(0===Ae||6===Ae)||Ae>=2&&Ae<=4&&Ce>=2&&Ce<=4,!0)}}(Ce,Ge),function xe(De){const Ge=De.size;for(let ge=8;ge<Ge-8;ge++){const ve=ge%2==0;De.set(ge,6,ve,!0),De.set(6,ge,ve,!0)}}(Ce),function ne(De,Ge){const ge=$.getPositions(Ge);for(let ve=0;ve<ge.length;ve++){const Se=ge[ve][0],ce=ge[ve][1];for(let de=-2;de<=2;de++)for(let Ae=-2;Ae<=2;Ae++)De.set(Se+de,ce+Ae,-2===de||2===de||-2===Ae||2===Ae||0===de&&0===Ae,!0)}}(Ce,Ge),re(Ce,ge,0),Ge>=7&&function ee(De,Ge){const ge=De.size,ve=Q.getEncodedBits(Ge);let Se,ce,de;for(let Ae=0;Ae<18;Ae++)Se=Math.floor(Ae/3),ce=Ae%3+ge-8-3,de=1==(ve>>Ae&1),De.set(Se,ce,de,!0),De.set(ce,Se,de,!0)}(Ce,Ge),function ke(De,Ge){const ge=De.size;let ve=-1,Se=ge-1,ce=7,de=0;for(let Ae=ge-1;Ae>0;Ae-=2)for(6===Ae&&Ae--;;){for(let Ce=0;Ce<2;Ce++)if(!De.isReserved(Se,Ae-Ce)){let Qe=!1;de<Ge.length&&(Qe=1==(Ge[de]>>>ce&1)),De.set(Se,Ae-Ce,Qe),ce--,-1===ce&&(de++,ce=7)}if(Se+=ve,Se<0||ge<=Se){Se-=ve,ve=-ve;break}}}(Ce,de),isNaN(ve)&&(ve=Z.getBestMask(Ce,re.bind(null,Ce,ge))),Z.applyMask(ve,Ce),re(Ce,ge,ve),{modules:Ce,version:Ge,errorCorrectionLevel:ge,maskPattern:ve,segments:Se}}H.create=function(Ge,ge){if(typeof Ge>"u"||""===Ge)throw new Error("No input text");let Se,ce,ve=L.M;return typeof ge<"u"&&(ve=L.from(ge.errorCorrectionLevel,L.M),Se=Q.from(ge.version),ce=Z.from(ge.maskPattern),ge.toSJISFunc&&s.setToSJISFunction(ge.toSJISFunc)),Le(Ge,Se,ve,ce)}},8098:(we,H,N)=>{const s=N(7793);function L(O){this.genPoly=void 0,this.degree=O,this.degree&&this.initialize(this.degree)}L.prototype.initialize=function(G){this.degree=G,this.genPoly=s.generateECPolynomial(this.degree)},L.prototype.encode=function(G){if(!this.genPoly)throw new Error("Encoder not initialized");const $=new Uint8Array(G.length+this.degree);$.set(G);const K=s.mod($,this.genPoly),Z=this.degree-K.length;if(Z>0){const X=new Uint8Array(this.degree);return X.set(K,Z),X}return K},we.exports=L},4677:(we,H)=>{const N="[0-9]+";let L="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";L=L.replace(/u/g,"\\u");const O="(?:(?![A-Z0-9 $%*+\\-./:]|"+L+")(?:.|[\r\n]))+";H.KANJI=new RegExp(L,"g"),H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),H.BYTE=new RegExp(O,"g"),H.NUMERIC=new RegExp(N,"g"),H.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const G=new RegExp("^"+L+"$"),$=new RegExp("^"+N+"$"),K=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(X){return G.test(X)},H.testNumeric=function(X){return $.test(X)},H.testAlphanumeric=function(X){return K.test(X)}},9465:(we,H,N)=>{const s=N(6906),L=N(6002),O=N(812),G=N(1824),$=N(8043),K=N(4677),Z=N(4860),X=N(4901);function oe(ee){return unescape(encodeURIComponent(ee)).length}function Q(ee,re,ke){const Ve=[];let Ne;for(;null!==(Ne=ee.exec(ke));)Ve.push({data:Ne[0],index:Ne.index,mode:re,length:Ne[0].length});return Ve}function J(ee){const re=Q(K.NUMERIC,s.NUMERIC,ee),ke=Q(K.ALPHANUMERIC,s.ALPHANUMERIC,ee);let Ve,Ne;return Z.isKanjiModeEnabled()?(Ve=Q(K.BYTE,s.BYTE,ee),Ne=Q(K.KANJI,s.KANJI,ee)):(Ve=Q(K.BYTE_KANJI,s.BYTE,ee),Ne=[]),re.concat(ke,Ve,Ne).sort(function(De,Ge){return De.index-Ge.index}).map(function(De){return{data:De.data,mode:De.mode,length:De.length}})}function se(ee,re){switch(re){case s.NUMERIC:return L.getBitsLength(ee);case s.ALPHANUMERIC:return O.getBitsLength(ee);case s.KANJI:return $.getBitsLength(ee);case s.BYTE:return G.getBitsLength(ee)}}function ne(ee,re){let ke;const Ve=s.getBestModeForData(ee);if(ke=s.from(re,Ve),ke!==s.BYTE&&ke.bit<Ve.bit)throw new Error('"'+ee+'" cannot be encoded with mode '+s.toString(ke)+".\n Suggested mode is: "+s.toString(Ve));switch(ke===s.KANJI&&!Z.isKanjiModeEnabled()&&(ke=s.BYTE),ke){case s.NUMERIC:return new L(ee);case s.ALPHANUMERIC:return new O(ee);case s.KANJI:return new $(ee);case s.BYTE:return new G(ee)}}H.fromArray=function(re){return re.reduce(function(ke,Ve){return"string"==typeof Ve?ke.push(ne(Ve,null)):Ve.data&&ke.push(ne(Ve.data,Ve.mode)),ke},[])},H.fromString=function(re,ke){const Ne=function me(ee){const re=[];for(let ke=0;ke<ee.length;ke++){const Ve=ee[ke];switch(Ve.mode){case s.NUMERIC:re.push([Ve,{data:Ve.data,mode:s.ALPHANUMERIC,length:Ve.length},{data:Ve.data,mode:s.BYTE,length:Ve.length}]);break;case s.ALPHANUMERIC:re.push([Ve,{data:Ve.data,mode:s.BYTE,length:Ve.length}]);break;case s.KANJI:re.push([Ve,{data:Ve.data,mode:s.BYTE,length:oe(Ve.data)}]);break;case s.BYTE:re.push([{data:Ve.data,mode:s.BYTE,length:oe(Ve.data)}])}}return re}(J(re,Z.isKanjiModeEnabled())),Le=function xe(ee,re){const ke={},Ve={start:{}};let Ne=["start"];for(let Le=0;Le<ee.length;Le++){const De=ee[Le],Ge=[];for(let ge=0;ge<De.length;ge++){const ve=De[ge],Se=""+Le+ge;Ge.push(Se),ke[Se]={node:ve,lastCount:0},Ve[Se]={};for(let ce=0;ce<Ne.length;ce++){const de=Ne[ce];ke[de]&&ke[de].node.mode===ve.mode?(Ve[de][Se]=se(ke[de].lastCount+ve.length,ve.mode)-se(ke[de].lastCount,ve.mode),ke[de].lastCount+=ve.length):(ke[de]&&(ke[de].lastCount=ve.length),Ve[de][Se]=se(ve.length,ve.mode)+4+s.getCharCountIndicator(ve.mode,re))}}Ne=Ge}for(let Le=0;Le<Ne.length;Le++)Ve[Ne[Le]].end=0;return{map:Ve,table:ke}}(Ne,ke),De=X.find_path(Le.map,"start","end"),Ge=[];for(let ge=1;ge<De.length-1;ge++)Ge.push(Le.table[De[ge]].node);return H.fromArray(function Oe(ee){return ee.reduce(function(re,ke){const Ve=re.length-1>=0?re[re.length-1]:null;return Ve&&Ve.mode===ke.mode?(re[re.length-1].data+=ke.data,re):(re.push(ke),re)},[])}(Ge))},H.rawSplit=function(re){return H.fromArray(J(re,Z.isKanjiModeEnabled()))}},4860:(we,H)=>{let N;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(O){if(!O)throw new Error('"version" cannot be null or undefined');if(O<1||O>40)throw new Error('"version" should be in range from 1 to 40');return 4*O+17},H.getSymbolTotalCodewords=function(O){return s[O]},H.getBCHDigit=function(L){let O=0;for(;0!==L;)O++,L>>>=1;return O},H.setToSJISFunction=function(O){if("function"!=typeof O)throw new Error('"toSJISFunc" is not a valid function.');N=O},H.isKanjiModeEnabled=function(){return typeof N<"u"},H.toSJIS=function(O){return N(O)}},2316:(we,H)=>{H.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},6602:(we,H,N)=>{const s=N(4860),L=N(6194),O=N(9020),G=N(6906),$=N(2316),Z=s.getBCHDigit(7973);function oe(se,Oe){return G.getCharCountIndicator(se,Oe)+4}function Q(se,Oe){let me=0;return se.forEach(function(xe){me+=oe(xe.mode,Oe)+xe.getBitsLength()}),me}H.from=function(Oe,me){return $.isValid(Oe)?parseInt(Oe,10):me},H.getCapacity=function(Oe,me,xe){if(!$.isValid(Oe))throw new Error("Invalid QR Code version");typeof xe>"u"&&(xe=G.BYTE);const re=8*(s.getSymbolTotalCodewords(Oe)-L.getTotalCodewordsCount(Oe,me));if(xe===G.MIXED)return re;const ke=re-oe(xe,Oe);switch(xe){case G.NUMERIC:return Math.floor(ke/10*3);case G.ALPHANUMERIC:return Math.floor(ke/11*2);case G.KANJI:return Math.floor(ke/13);default:return Math.floor(ke/8)}},H.getBestVersionForData=function(Oe,me){let xe;const ne=O.from(me,O.M);if(Array.isArray(Oe)){if(Oe.length>1)return function J(se,Oe){for(let me=1;me<=40;me++)if(Q(se,me)<=H.getCapacity(me,Oe,G.MIXED))return me}(Oe,ne);if(0===Oe.length)return 1;xe=Oe[0]}else xe=Oe;return function X(se,Oe,me){for(let xe=1;xe<=40;xe++)if(Oe<=H.getCapacity(xe,me,se))return xe}(xe.mode,xe.getLength(),ne)},H.getEncodedBits=function(Oe){if(!$.isValid(Oe)||Oe<7)throw new Error("Invalid QR Code version");let me=Oe<<12;for(;s.getBCHDigit(me)-Z>=0;)me^=7973<<s.getBCHDigit(me)-Z;return Oe<<12|me}},179:(we,H,N)=>{const s=N(714);H.render=function($,K,Z){let X=Z,oe=K;typeof X>"u"&&(!K||!K.getContext)&&(X=K,K=void 0),K||(oe=function O(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),X=s.getOptions(X);const Q=s.getImageWidth($.modules.size,X),J=oe.getContext("2d"),se=J.createImageData(Q,Q);return s.qrToImageData(se.data,$,X),function L(G,$,K){G.clearRect(0,0,$.width,$.height),$.style||($.style={}),$.height=K,$.width=K,$.style.height=K+"px",$.style.width=K+"px"}(J,oe,Q),J.putImageData(se,0,0),oe},H.renderToDataURL=function($,K,Z){let X=Z;return typeof X>"u"&&(!K||!K.getContext)&&(X=K,K=void 0),X||(X={}),H.render($,K,X).toDataURL(X.type||"image/png",(X.rendererOpts||{}).quality)}},1036:(we,H,N)=>{const s=N(714);function L($,K){const Z=$.a/255,X=K+'="'+$.hex+'"';return Z<1?X+" "+K+'-opacity="'+Z.toFixed(2).slice(1)+'"':X}function O($,K,Z){let X=$+K;return typeof Z<"u"&&(X+=" "+Z),X}H.render=function(K,Z,X){const oe=s.getOptions(Z),Q=K.modules.size,J=K.modules.data,se=Q+2*oe.margin,Oe=oe.color.light.a?"<path "+L(oe.color.light,"fill")+' d="M0 0h'+se+"v"+se+'H0z"/>':"",me="<path "+L(oe.color.dark,"stroke")+' d="'+function G($,K,Z){let X="",oe=0,Q=!1,J=0;for(let se=0;se<$.length;se++){const Oe=Math.floor(se%K),me=Math.floor(se/K);!Oe&&!Q&&(Q=!0),$[se]?(J++,se>0&&Oe>0&&$[se-1]||(X+=Q?O("M",Oe+Z,.5+me+Z):O("m",oe,0),oe=0,Q=!1),Oe+1<K&&$[se+1]||(X+=O("h",J),J=0)):oe++}return X}(J,Q,oe.margin)+'"/>',ee='<svg xmlns="http://www.w3.org/2000/svg" '+(oe.width?'width="'+oe.width+'" height="'+oe.width+'" ':"")+'viewBox="0 0 '+se+" "+se+'" shape-rendering="crispEdges">'+Oe+me+"</svg>\n";return"function"==typeof X&&X(null,ee),ee}},714:(we,H)=>{function N(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let L=s.slice().replace("#","").split("");if(L.length<3||5===L.length||L.length>8)throw new Error("Invalid hex color: "+s);(3===L.length||4===L.length)&&(L=Array.prototype.concat.apply([],L.map(function(G){return[G,G]}))),6===L.length&&L.push("F","F");const O=parseInt(L.join(""),16);return{r:O>>24&255,g:O>>16&255,b:O>>8&255,a:255&O,hex:"#"+L.slice(0,6).join("")}}H.getOptions=function(L){L||(L={}),L.color||(L.color={});const G=L.width&&L.width>=21?L.width:void 0;return{width:G,scale:G?4:L.scale||4,margin:typeof L.margin>"u"||null===L.margin||L.margin<0?4:L.margin,color:{dark:N(L.color.dark||"#000000ff"),light:N(L.color.light||"#ffffffff")},type:L.type,rendererOpts:L.rendererOpts||{}}},H.getScale=function(L,O){return O.width&&O.width>=L+2*O.margin?O.width/(L+2*O.margin):O.scale},H.getImageWidth=function(L,O){const G=H.getScale(L,O);return Math.floor((L+2*O.margin)*G)},H.qrToImageData=function(L,O,G){const $=O.modules.size,K=O.modules.data,Z=H.getScale($,G),X=Math.floor(($+2*G.margin)*Z),oe=G.margin*Z,Q=[G.color.light,G.color.dark];for(let J=0;J<X;J++)for(let se=0;se<X;se++){let Oe=4*(J*X+se),me=G.color.light;J>=oe&&se>=oe&&J<X-oe&&se<X-oe&&(me=Q[K[Math.floor((J-oe)/Z)*$+Math.floor((se-oe)/Z)]?1:0]),L[Oe++]=me.r,L[Oe++]=me.g,L[Oe++]=me.b,L[Oe]=me.a}}},7143:(we,H,N)=>{"use strict";N.d(H,{$:()=>da,A:()=>J,B:()=>me,G:()=>qa,H:()=>Jr,J:()=>uo,L:()=>Fn,M:()=>qc,N:()=>bh,P:()=>ya,Q:()=>Wc,R:()=>Bm,T:()=>Zu,U:()=>No,V:()=>ds,W:()=>ho,X:()=>Pm,Y:()=>Yl,Z:()=>Kt,_:()=>Fm,a:()=>Uo,a0:()=>rp,a1:()=>Li,a2:()=>Yc,a3:()=>Kc,a4:()=>sp,a5:()=>Nm,a6:()=>Bi,a7:()=>Ws,a8:()=>nc,a9:()=>fo,aA:()=>mr,aB:()=>Ut,aC:()=>bp,aD:()=>El,aE:()=>Pt,aI:()=>al,aL:()=>Qa,aa:()=>op,ab:()=>ed,ac:()=>td,af:()=>ap,ag:()=>lp,ah:()=>Ah,ak:()=>Ms,al:()=>rd,an:()=>kh,ao:()=>oc,ap:()=>_n,aq:()=>Se,ar:()=>vt,as:()=>Ot,at:()=>Ve,au:()=>xp,av:()=>Dl,aw:()=>Ne,ax:()=>ge,ay:()=>de,az:()=>Mn,b:()=>Vi,c:()=>Qt,d:()=>Nn,e:()=>gr,f:()=>Vm,g:()=>ie,h:()=>R,i:()=>hl,j:()=>Je,k:()=>eb,l:()=>_p,m:()=>Al,n:()=>lx,o:()=>X,r:()=>Ks,s:()=>yl,u:()=>_l});var s=N(5861),L=N(2090),O=N(9681),G=N(655),$=N(1877),K=N(4859);const X={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},J={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const me=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},xe=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ne=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),re=new $.Yd("@firebase/auth");function ke(x,..._){re.logLevel<=$.in.ERROR&&re.error(`Auth (${O.SDK_VERSION}): ${x}`,..._)}function Ve(x,..._){throw Ge(x,..._)}function Ne(x,..._){return Ge(x,..._)}function Le(x,_,w){const A=Object.assign(Object.assign({},xe()),{[_]:w});return new L.LL("auth","Firebase",A).create(_,{appName:x.name})}function De(x,_,w){if(!(_ instanceof w))throw w.name!==_.constructor.name&&Ve(x,"argument-error"),Le(x,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(x,..._){if("string"!=typeof x){const w=_[0],A=[..._.slice(1)];return A[0]&&(A[0].appName=x.name),x._errorFactory.create(w,...A)}return ne.create(x,..._)}function ge(x,_,...w){if(!x)throw Ge(_,...w)}function ve(x){const _="INTERNAL ASSERTION FAILED: "+x;throw ke(_),new Error(_)}function Se(x,_){x||ve(_)}const ce=new Map;function de(x){Se(x instanceof Function,"Expected a class definition");let _=ce.get(x);return _?(Se(_ instanceof x,"Instance stored in cache mismatched with class"),_):(_=new x,ce.set(x,_),_)}function Qe(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function tt(){return"http:"===Tt()||"https:"===Tt()}function Tt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class ut{constructor(_,w){this.shortDelay=_,this.longDelay=w,Se(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(x,_){Se(x.emulator,"Emulator should always be set here");const{url:w}=x.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}class ii{static initialize(_,w,A){this.fetchImpl=_,w&&(this.headersImpl=w),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dn=new ut(3e4,6e4);function rn(x,_){return x.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:x.tenantId}):_}function Xt(x,_,w,A){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,s.Z)(function*(x,_,w,A,B={}){return cr(x,B,(0,s.Z)(function*(){let q={},Me={};A&&("GET"===_?Me=A:q={body:JSON.stringify(A)});const qe=(0,L.xO)(Object.assign({key:x.config.apiKey},Me)).slice(1),mt=yield x._getAdditionalHeaders();return mt["Content-Type"]="application/json",x.languageCode&&(mt["X-Firebase-Locale"]=x.languageCode),ii.fetch()(Hs(x,x.config.apiHost,w,qe),Object.assign({method:_,headers:mt,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function cr(x,_,w){return ai.apply(this,arguments)}function ai(){return(ai=(0,s.Z)(function*(x,_,w){x._canInitEmulator=!1;const A=Object.assign(Object.assign({},Cn),_);try{const B=new Kr(x),q=yield Promise.race([w(),B.promise]);B.clearNetworkTimeout();const Me=yield q.json();if("needConfirmation"in Me)throw vi(x,"account-exists-with-different-credential",Me);if(q.ok&&!("errorMessage"in Me))return Me;{const qe=q.ok?Me.errorMessage:Me.error.message,[mt,Lt]=qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===mt)throw vi(x,"credential-already-in-use",Me);if("EMAIL_EXISTS"===mt)throw vi(x,"email-already-in-use",Me);if("USER_DISABLED"===mt)throw vi(x,"user-disabled",Me);const fn=A[mt]||mt.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw Le(x,fn,Lt);Ve(x,fn)}}catch(B){if(B instanceof L.ZR)throw B;Ve(x,"network-request-failed")}})).apply(this,arguments)}function qn(x,_,w,A){return so.apply(this,arguments)}function so(){return(so=(0,s.Z)(function*(x,_,w,A,B={}){const q=yield Xt(x,_,w,A,B);return"mfaPendingCredential"in q&&Ve(x,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function Hs(x,_,w,A){const B=`${_}${w}?${A}`;return x.config.emulator?Sn(x.config,B):`${x.config.apiScheme}://${B}`}class Kr{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,A)=>{this.timer=setTimeout(()=>A(Ne(this.auth,"network-request-failed")),Dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vi(x,_,w){const A={appName:x.name};w.email&&(A.email=w.email),w.phoneNumber&&(A.phoneNumber=w.phoneNumber);const B=Ne(x,_,A);return B.customData._tokenResponse=w,B}function zs(){return(zs=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function yt(x,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function bi(x,_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ur(x){if(x)try{const _=new Date(Number(x));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ri(){return(ri=(0,s.Z)(function*(x,_=!1){const w=(0,L.m9)(x),A=yield w.getIdToken(_),B=Mt(A);ge(B&&B.exp&&B.auth_time&&B.iat,w.auth,"internal-error");const q="object"==typeof B.firebase?B.firebase:void 0,Me=q?.sign_in_provider;return{claims:B,token:A,authTime:ur(Qn(B.auth_time)),issuedAtTime:ur(Qn(B.iat)),expirationTime:ur(Qn(B.exp)),signInProvider:Me||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function Qn(x){return 1e3*Number(x)}function Mt(x){var _;const[w,A,B]=x.split(".");if(void 0===w||void 0===A||void 0===B)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,L.tV)(A);return q?JSON.parse(q):(ke("Failed to decode base64 JWT payload"),null)}catch(q){return ke("Caught error parsing JWT payload as JSON",null===(_=q)||void 0===_?void 0:_.toString()),null}}function en(x,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(x,_,w=!1){if(w)return _;try{return yield _}catch(A){throw A instanceof L.ZR&&ir(A)&&x.auth.currentUser===x&&(yield x.auth.signOut()),A}})).apply(this,arguments)}function ir({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class dr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const B=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const A=this.getInterval(_);this.timerId=setTimeout((0,s.Z)(function*(){yield w.iteration()}),A)}iteration(){var _=this;return(0,s.Z)(function*(){var w;try{yield _.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(w=A)||void 0===w?void 0:w.code)&&_.schedule(!0))}_.schedule()})()}}class qt{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ar(x){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(x){var _;const w=x.auth,A=yield x.getIdToken(),B=yield en(x,bi(w,{idToken:A}));ge(B?.users.length,w,"internal-error");const q=B.users[0];x._notifyReloadListener(q);const Me=null!==(_=q.providerUserInfo)&&void 0!==_&&_.length?he(q.providerUserInfo):[],qe=be(x.providerData,Me),fn=!!x.isAnonymous&&!(x.email&&q.passwordHash||qe?.length),gi={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:qe,metadata:new qt(q.createdAt,q.lastLoginAt),isAnonymous:fn};Object.assign(x,gi)})).apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(x){const _=(0,L.m9)(x);yield Ar(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function be(x,_){return[...x.filter(A=>!_.some(B=>B.providerId===A.providerId)),..._]}function he(x){return x.map(_=>{var{providerId:w}=_,A=(0,G._T)(_,["providerId"]);return{providerId:w,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function pe(){return(pe=(0,s.Z)(function*(x,_){const w=yield cr(x,{},(0,s.Z)(function*(){const A=(0,L.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:B,apiKey:q}=x.config,Me=Hs(x,B,"/v1/token",`key=${q}`),qe=yield x._getAdditionalHeaders();return qe["Content-Type"]="application/x-www-form-urlencoded",ii.fetch()(Me,{method:"POST",headers:qe,body:A})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ge(_.idToken,"internal-error"),ge(typeof _.idToken<"u","internal-error"),ge(typeof _.refreshToken<"u","internal-error");const w="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Rt(x){const _=Mt(x);return ge(_,"internal-error"),ge(typeof _.exp<"u","internal-error"),ge(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var A=this;return(0,s.Z)(function*(){return ge(!A.accessToken||A.refreshToken,_,"user-token-expired"),w||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(_,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var A=this;return(0,s.Z)(function*(){const{accessToken:B,refreshToken:q,expiresIn:Me}=yield function ae(x,_){return pe.apply(this,arguments)}(_,w);A.updateTokensAndExpiration(B,q,Number(Me))})()}updateTokensAndExpiration(_,w,A){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(_,w){const{refreshToken:A,accessToken:B,expirationTime:q}=w,Me=new ye;return A&&(ge("string"==typeof A,"internal-error",{appName:_}),Me.refreshToken=A),B&&(ge("string"==typeof B,"internal-error",{appName:_}),Me.accessToken=B),q&&(ge("number"==typeof q,"internal-error",{appName:_}),Me.expirationTime=q),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return ve("not implemented")}}function We(x,_){ge("string"==typeof x||typeof x>"u","internal-error",{appName:_})}class ct{constructor(_){var{uid:w,auth:A,stsTokenManager:B}=_,q=(0,G._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=A,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new qt(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,s.Z)(function*(){const A=yield en(w,w.stsTokenManager.getToken(w.auth,_));return ge(A,w.auth,"internal-error"),w.accessToken!==A&&(w.accessToken=A,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),A})()}getIdTokenResult(_){return function Xn(x){return ri.apply(this,arguments)}(this,_)}reload(){return function Qr(x){return pn.apply(this,arguments)}(this)}_assign(_){this!==_&&(ge(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new ct(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var A=this;return(0,s.Z)(function*(){let B=!1;_.idToken&&_.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(_),B=!0),w&&(yield Ar(A)),yield A.auth._persistUserIfCurrent(A),B&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var _=this;return(0,s.Z)(function*(){const w=yield _.getIdToken();return yield en(_,function $s(x,_){return zs.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var A,B,q,Me,qe,mt,Lt,fn;const gi=null!==(A=w.displayName)&&void 0!==A?A:void 0,Sl=null!==(B=w.email)&&void 0!==B?B:void 0,cu=null!==(q=w.phoneNumber)&&void 0!==q?q:void 0,$m=null!==(Me=w.photoURL)&&void 0!==Me?Me:void 0,Ip=null!==(qe=w.tenantId)&&void 0!==qe?qe:void 0,Bh=null!==(mt=w._redirectEventId)&&void 0!==mt?mt:void 0,cx=null!==(Lt=w.createdAt)&&void 0!==Lt?Lt:void 0,ux=null!==(fn=w.lastLoginAt)&&void 0!==fn?fn:void 0,{uid:Ap,emailVerified:nb,isAnonymous:ib,providerData:zm,stsTokenManager:rb}=w;ge(Ap&&rb,_,"internal-error");const sb=ye.fromJSON(this.name,rb);ge("string"==typeof Ap,_,"internal-error"),We(gi,_.name),We(Sl,_.name),ge("boolean"==typeof nb,_,"internal-error"),ge("boolean"==typeof ib,_,"internal-error"),We(cu,_.name),We($m,_.name),We(Ip,_.name),We(Bh,_.name),We(cx,_.name),We(ux,_.name);const vd=new ct({uid:Ap,auth:_,email:Sl,emailVerified:nb,displayName:gi,isAnonymous:ib,photoURL:$m,phoneNumber:cu,tenantId:Ip,stsTokenManager:sb,createdAt:cx,lastLoginAt:ux});return zm&&Array.isArray(zm)&&(vd.providerData=zm.map(ob=>Object.assign({},ob))),Bh&&(vd._redirectEventId=Bh),vd}static _fromIdTokenResponse(_,w,A=!1){return(0,s.Z)(function*(){const B=new ye;B.updateFromServerResponse(w);const q=new ct({uid:w.localId,auth:_,stsTokenManager:B,isAnonymous:A});return yield Ar(q),q})()}}const Fn=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(w,A){var B=this;return(0,s.Z)(function*(){B.storage[w]=A})()}_get(w){var A=this;return(0,s.Z)(function*(){const B=A.storage[w];return void 0===B?null:B})()}_remove(w){var A=this;return(0,s.Z)(function*(){delete A.storage[w]})()}_addListener(w,A){}_removeListener(w,A){}}return x.type="NONE",x})();function Mn(x,_,w){return`firebase:${x}:${_}:${w}`}class Fi{constructor(_,w,A){this.persistence=_,this.auth=w,this.userKey=A;const{config:B,name:q}=this.auth;this.fullUserKey=Mn(this.userKey,B.apiKey,q),this.fullPersistenceKey=Mn("persistence",B.apiKey,q),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,s.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?ct._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,s.Z)(function*(){if(w.persistence===_)return;const A=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,A?w.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,A="authUser"){return(0,s.Z)(function*(){if(!w.length)return new Fi(de(Fn),_,A);const B=(yield Promise.all(w.map(function(){var Lt=(0,s.Z)(function*(fn){if(yield fn._isAvailable())return fn});return function(fn){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let q=B[0]||de(Fn);const Me=Mn(A,_.config.apiKey,_.name);let qe=null;for(const Lt of w)try{const fn=yield Lt._get(Me);if(fn){const gi=ct._fromJSON(_,fn);Lt!==q&&(qe=gi),q=Lt;break}}catch{}const mt=B.filter(Lt=>Lt._shouldAllowMigration);return q._shouldAllowMigration&&mt.length?(q=mt[0],qe&&(yield q._set(Me,qe.toJSON())),yield Promise.all(w.map(function(){var Lt=(0,s.Z)(function*(fn){if(fn!==q)try{yield fn._remove(Me)}catch{}});return function(fn){return Lt.apply(this,arguments)}}())),new Fi(q,_,A)):new Fi(q,_,A)})()}}function Te(x){const _=x.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(dt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(ue(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ht(_))return"Blackberry";if(Xe(_))return"Webos";if(fe(_))return"Safari";if((_.includes("chrome/")||He(_))&&!_.includes("edge/"))return"Chrome";if(Ot(_))return"Android";{const A=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function ue(x=(0,L.z$)()){return/firefox\//i.test(x)}function fe(x=(0,L.z$)()){const _=x.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function He(x=(0,L.z$)()){return/crios\//i.test(x)}function dt(x=(0,L.z$)()){return/iemobile/i.test(x)}function Ot(x=(0,L.z$)()){return/android/i.test(x)}function Ht(x=(0,L.z$)()){return/blackberry/i.test(x)}function Xe(x=(0,L.z$)()){return/webos/i.test(x)}function vt(x=(0,L.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function _n(x=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Hn(x=(0,L.z$)()){return vt(x)||Ot(x)||Xe(x)||Ht(x)||/windows phone/i.test(x)||dt(x)}function ei(x,_=[]){let w;switch(x){case"Browser":w=Te((0,L.z$)());break;case"Worker":w=`${Te((0,L.z$)())}-${x}`;break;default:w=x}const A=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${O.SDK_VERSION}/${A}`}class ia{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,w){const A=q=>new Promise((Me,qe)=>{try{Me(_(q))}catch(mt){qe(mt)}});A.onAbort=w,this.queue.push(A);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(_){var w=this;return(0,s.Z)(function*(){var A;if(w.auth.currentUser===_)return;const B=[];try{for(const q of w.queue)yield q(_),q.onAbort&&B.push(q.onAbort)}catch(q){B.reverse();for(const Me of B)try{Me()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=q)||void 0===A?void 0:A.message})}})()}}class za{constructor(_,w,A){this.app=_,this.heartbeatServiceProvider=w,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ra(this),this.idTokenSubscription=new ra(this),this.beforeStateQueue=new ia(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(_,w){var A=this;return w&&(this._popupRedirectResolver=de(w)),this._initializationPromise=this.queue((0,s.Z)(function*(){var B,q;if(!A._deleted&&(A.persistenceManager=yield Fi.create(A,_),!A._deleted)){if(null!==(B=A._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(w),A.lastNotifiedUid=(null===(q=A.currentUser)||void 0===q?void 0:q.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,s.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w,!0)}})()}initializeCurrentUser(_){var w=this;return(0,s.Z)(function*(){var A;const B=yield w.assertedPersistence.getCurrentUser();let q=B,Me=!1;if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const qe=null===(A=w.redirectUser)||void 0===A?void 0:A._redirectEventId,mt=q?._redirectEventId,Lt=yield w.tryRedirectSignIn(_);(!qe||qe===mt)&&Lt?.user&&(q=Lt.user,Me=!0)}if(!q)return w.directlySetCurrentUser(null);if(!q._redirectEventId){if(Me)try{yield w.beforeStateQueue.runMiddleware(q)}catch(qe){q=B,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(qe))}return q?w.reloadAndSetCurrentUserOrClear(q):w.directlySetCurrentUser(null)}return ge(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===q._redirectEventId?w.directlySetCurrentUser(q):w.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(_){var w=this;return(0,s.Z)(function*(){let A=null;try{A=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch{yield w._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,s.Z)(function*(){var A;try{yield Ar(_)}catch(B){if("auth/network-request-failed"!==(null===(A=B)||void 0===A?void 0:A.code))return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function cn(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var _=this;return(0,s.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,s.Z)(function*(){const A=_?(0,L.m9)(_):null;return A&&ge(A.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(A&&A._clone(w))})()}_updateCurrentUser(_,w=!1){var A=this;return(0,s.Z)(function*(){if(!A._deleted)return _&&ge(A.tenantId===_.tenantId,A,"tenant-id-mismatch"),w||(yield A.beforeStateQueue.runMiddleware(_)),A.queue((0,s.Z)(function*(){yield A.directlySetCurrentUser(_),A.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,s.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var w=this;return this.queue((0,s.Z)(function*(){yield w.assertedPersistence.setPersistence(de(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new L.LL("auth","Firebase",_())}onAuthStateChanged(_,w,A){return this.registerStateListener(this.authStateSubscription,_,w,A)}beforeAuthStateChanged(_,w){return this.beforeStateQueue.pushCallback(_,w)}onIdTokenChanged(_,w,A){return this.registerStateListener(this.idTokenSubscription,_,w,A)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var A=this;return(0,s.Z)(function*(){const B=yield A.getOrInitRedirectPersistenceManager(w);return null===_?B.removeCurrentUser():B.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,s.Z)(function*(){if(!w.redirectPersistenceManager){const A=_&&de(_)||w._popupRedirectResolver;ge(A,w,"argument-error"),w.redirectPersistenceManager=yield Fi.create(w,[de(A._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,s.Z)(function*(){var A,B;return w._isInitialized&&(yield w.queue((0,s.Z)(function*(){}))),(null===(A=w._currentUser)||void 0===A?void 0:A._redirectEventId)===_?w._currentUser:(null===(B=w.redirectUser)||void 0===B?void 0:B._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,s.Z)(function*(){if(_===w.currentUser)return w.queue((0,s.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,A,B){if(this._deleted)return()=>{};const q="function"==typeof w?w:w.next.bind(w),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(Me,this,"internal-error"),Me.then(()=>q(this.currentUser)),"function"==typeof w?_.addObserver(w,A,B):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,s.Z)(function*(){w.currentUser&&w.currentUser!==_&&w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh(),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=ei(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,s.Z)(function*(){var w;const A={"X-Client-Version":_.clientVersion};_.app.options.appId&&(A["X-Firebase-gmpid"]=_.app.options.appId);const B=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return B&&(A["X-Firebase-Client"]=B),A})()}}function Pt(x){return(0,L.m9)(x)}class ra{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,L.ne)(w=>this.observer=w)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qa(x,_,w){const A=Pt(x);ge(A._canInitEmulator,A,"emulator-config-failed"),ge(/^https?:\/\//.test(_),A,"invalid-emulator-scheme");const B=!!w?.disableWarnings,q=$c(_),{host:Me,port:qe}=function lo(x){const _=$c(x),w=/(\/\/)?([^?#/]+)/.exec(x.substr(_.length));if(!w)return{host:"",port:null};const A=w[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(A);if(B){const q=B[1];return{host:q,port:Mi(A.substr(q.length+1))}}{const[q,Me]=A.split(":");return{host:q,port:Mi(Me)}}}(_);A.config.emulator={url:`${q}//${Me}${null===qe?"":`:${qe}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Me,port:qe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function sa(){function x(){const _=document.createElement("p"),w=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function $c(x){const _=x.indexOf(":");return _<0?"":x.substr(0,_+1)}function Mi(x){if(!x)return null;const _=Number(x);return isNaN(_)?null:_}class Jr{constructor(_,w){this.providerId=_,this.signInMethod=w}toJSON(){return ve("not implemented")}_getIdTokenResponse(_){return ve("not implemented")}_linkToIdToken(_,w){return ve("not implemented")}_getReauthenticationResolver(_){return ve("not implemented")}}function ls(x,_){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:resetPassword",rn(x,_))})).apply(this,arguments)}function zc(x,_){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function tp(x,_){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:update",rn(x,_))})).apply(this,arguments)}function oa(){return(oa=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithPassword",rn(x,_))})).apply(this,arguments)}function hr(x,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:sendOobCode",rn(x,_))})).apply(this,arguments)}function co(x,_){return En.apply(this,arguments)}function En(){return(En=(0,s.Z)(function*(x,_){return hr(x,_)})).apply(this,arguments)}function np(x,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(x,_){return hr(x,_)})).apply(this,arguments)}function cs(x,_){return Po.apply(this,arguments)}function Po(){return(Po=(0,s.Z)(function*(x,_){return hr(x,_)})).apply(this,arguments)}function $l(x,_){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(x,_){return hr(x,_)})).apply(this,arguments)}function Wu(){return(Wu=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithEmailLink",rn(x,_))})).apply(this,arguments)}function ql(){return(ql=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithEmailLink",rn(x,_))})).apply(this,arguments)}class Wl extends Jr{constructor(_,w,A,B=null){super("password",A),this._email=_,this._password=w,this._tenantId=B}static _fromEmailAndPassword(_,w){return new Wl(_,w,"password")}static _fromEmailAndCode(_,w,A=null){return new Wl(_,w,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return function Hl(x,_){return oa.apply(this,arguments)}(_,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Xr(x,_){return Wu.apply(this,arguments)}(_,{email:w._email,oobCode:w._password});default:Ve(_,"internal-error")}})()}_linkToIdToken(_,w){var A=this;return(0,s.Z)(function*(){switch(A.signInMethod){case"password":return zc(_,{idToken:w,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Tm(x,_){return ql.apply(this,arguments)}(_,{idToken:w,email:A._email,oobCode:A._password});default:Ve(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function la(x,_){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithIdp",rn(x,_))})).apply(this,arguments)}class uo extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const w=new uo(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(w.idToken=_.idToken),_.accessToken&&(w.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(w.nonce=_.nonce),_.pendingToken&&(w.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(w.accessToken=_.oauthToken,w.secret=_.oauthTokenSecret):Ve("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:A,signInMethod:B}=w,q=(0,G._T)(w,["providerId","signInMethod"]);if(!A||!B)return null;const Me=new uo(A,B);return Me.idToken=q.idToken||void 0,Me.accessToken=q.accessToken||void 0,Me.secret=q.secret,Me.nonce=q.nonce,Me.pendingToken=q.pendingToken||null,Me}_getIdTokenResponse(_){return la(_,this.buildRequest())}_linkToIdToken(_,w){const A=this.buildRequest();return A.idToken=w,la(_,A)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,la(_,w)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),_.postBody=(0,L.xO)(w)}return _}}function Rm(x,_){return gh.apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:sendVerificationCode",rn(x,_))})).apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithPhoneNumber",rn(x,_))})).apply(this,arguments)}function mh(){return(mh=(0,s.Z)(function*(x,_){const w=yield qn(x,"POST","/v1/accounts:signInWithPhoneNumber",rn(x,_));if(w.temporaryProof)throw vi(x,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const km={USER_NOT_FOUND:"user-not-found"};function yh(){return(yh=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithPhoneNumber",rn(x,Object.assign(Object.assign({},_),{operation:"REAUTH"})),km)})).apply(this,arguments)}class Za extends Jr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,w){return new Za({verificationId:_,verificationCode:w})}static _fromTokenResponse(_,w){return new Za({phoneNumber:_,temporaryProof:w})}_getIdTokenResponse(_){return function Fo(x,_){return Zl.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,w){return function Wa(x,_){return mh.apply(this,arguments)}(_,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Om(x,_){return yh.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:w,verificationId:A,verificationCode:B}=this.params;return _&&w?{temporaryProof:_,phoneNumber:w}:{sessionInfo:A,code:B}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:w,verificationCode:A,phoneNumber:B,temporaryProof:q}=_;return A||w||B||q?new Za({verificationId:w,verificationCode:A,phoneNumber:B,temporaryProof:q}):null}}class Ya{constructor(_){var w,A,B,q,Me,qe;const mt=(0,L.zd)((0,L.pd)(_)),Lt=null!==(w=mt.apiKey)&&void 0!==w?w:null,fn=null!==(A=mt.oobCode)&&void 0!==A?A:null,gi=function _h(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=mt.mode)&&void 0!==B?B:null);ge(Lt&&fn&&gi,"argument-error"),this.apiKey=Lt,this.operation=gi,this.code=fn,this.continueUrl=null!==(q=mt.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(Me=mt.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(qe=mt.tenantId)&&void 0!==qe?qe:null}static parseLink(_){const w=function vh(x){const _=(0,L.zd)((0,L.pd)(x)).link,w=_?(0,L.zd)((0,L.pd)(_)).deep_link_id:null,A=(0,L.zd)((0,L.pd)(x)).deep_link_id;return(A?(0,L.zd)((0,L.pd)(A)).link:null)||A||w||_||x}(_);try{return new Ya(w)}catch{return null}}}let qc=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(w,A){return Wl._fromEmailAndPassword(w,A)}static credentialWithLink(w,A){const B=Ya.parseLink(A);return ge(B,"argument-error"),Wl._fromEmailAndCode(w,B.code,B.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class fr{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ka extends fr{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class No extends Ka{static credentialFromJSON(_){const w="string"==typeof _?JSON.parse(_):_;return ge("providerId"in w&&"signInMethod"in w,"argument-error"),uo._fromParams(w)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ge(_.idToken||_.accessToken,"argument-error"),uo._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return No.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return No.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A,oauthTokenSecret:B,pendingToken:q,nonce:Me,providerId:qe}=_;if(!A&&!B&&!w&&!q||!qe)return null;try{return new No(qe)._credential({idToken:w,accessToken:A,nonce:Me,pendingToken:q})}catch{return null}}}let bh=(()=>{class x extends Ka{constructor(){super("facebook.com")}static credential(w){return uo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),Wc=(()=>{class x extends Ka{constructor(){super("google.com"),this.addScope("profile")}static credential(w,A){return uo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:A})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:A,oauthAccessToken:B}=w;if(!A&&!B)return null;try{return x.credential(A,B)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Zu=(()=>{class x extends Ka{constructor(){super("github.com")}static credential(w){return uo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return x.credential(w.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Qa extends Jr{constructor(_,w){super(_,_),this.pendingToken=w}_getIdTokenResponse(_){return la(_,this.buildRequest())}_linkToIdToken(_,w){const A=this.buildRequest();return A.idToken=w,la(_,A)}_getReauthenticationResolver(_){const w=this.buildRequest();return w.autoCreate=!1,la(_,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const w="string"==typeof _?JSON.parse(_):_,{providerId:A,signInMethod:B,pendingToken:q}=w;return A&&B&&q&&A===B?new Qa(A,q):null}static _create(_,w){return new Qa(_,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ds extends fr{constructor(_){ge(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return ds.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return ds.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const w=Qa.fromJSON(_);return ge(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:w,providerId:A}=_;if(!w||!A)return null;try{return Qa._create(A,w)}catch{return null}}}let ho=(()=>{class x extends Ka{constructor(){super("twitter.com")}static credential(w,A){return uo._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:A})}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:A,oauthTokenSecret:B}=w;if(!A||!B)return null;try{return x.credential(A,B)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function es(x,_){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signUp",rn(x,_))})).apply(this,arguments)}class zi{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,w,A,B=!1){return(0,s.Z)(function*(){const q=yield ct._fromIdTokenResponse(_,A,B),Me=hs(A);return new zi({user:q,providerId:Me,_tokenResponse:A,operationType:w})})()}static _forOperation(_,w,A){return(0,s.Z)(function*(){yield _._updateTokensIfNecessary(A,!0);const B=hs(A);return new zi({user:_,providerId:B,_tokenResponse:A,operationType:w})})()}}function hs(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function Pm(x){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,s.Z)(function*(x){var _;const w=Pt(x);if(yield w._initializationPromise,null!==(_=w.currentUser)&&void 0!==_&&_.isAnonymous)return new zi({user:w.currentUser,providerId:null,operationType:"signIn"});const A=yield es(w,{returnSecureToken:!0}),B=yield zi._fromIdTokenResponse(w,"signIn",A,!0);return yield w._updateCurrentUser(B.user),B})).apply(this,arguments)}class pi extends L.ZR{constructor(_,w,A,B){var q;super(w.code,w.message),this.operationType=A,this.user=B,Object.setPrototypeOf(this,pi.prototype),this.customData={appName:_.name,tenantId:null!==(q=_.tenantId)&&void 0!==q?q:void 0,_serverResponse:w.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(_,w,A,B){return new pi(_,w,A,B)}}function Ch(x,_,w,A){return("reauthenticate"===_?w._getReauthenticationResolver(x):w._getIdTokenResponse(x)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?pi._fromErrorAndOperation(x,q,_,A):q})}function ip(x){return new Set(x.map(({providerId:_})=>_).filter(_=>!!_))}function Ms(x,_){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(function*(x,_){const w=(0,L.m9)(x);yield qs(!0,w,_);const{providerUserInfo:A}=yield yt(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[_]}),B=ip(A||[]);return w.providerData=w.providerData.filter(q=>B.has(q.providerId)),B.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function Zc(x,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(x,_,w=!1){const A=yield en(x,_._linkToIdToken(x.auth,yield x.getIdToken()),w);return zi._forOperation(x,"link",A)})).apply(this,arguments)}function qs(x,_,w){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(x,_,w){yield Ar(_);const B=!1===x?"provider-already-linked":"no-such-provider";ge(ip(_.providerData).has(w)===x,_.auth,B)})).apply(this,arguments)}function Qu(x,_){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,s.Z)(function*(x,_,w=!1){var A;const{auth:B}=x,q="reauthenticate";try{const Me=yield en(x,Ch(B,q,_,x),w);ge(Me.idToken,B,"internal-error");const qe=Mt(Me.idToken);ge(qe,B,"internal-error");const{sub:mt}=qe;return ge(x.uid===mt,B,"user-mismatch"),zi._forOperation(x,q,Me)}catch(Me){throw"auth/user-not-found"===(null===(A=Me)||void 0===A?void 0:A.code)&&Ve(B,"user-mismatch"),Me}})).apply(this,arguments)}function Ju(x,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,s.Z)(function*(x,_,w=!1){const A="signIn",B=yield Ch(x,A,_),q=yield zi._fromIdTokenResponse(x,A,B);return w||(yield x._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Yl(x,_){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(x,_){return Ju(Pt(x),_)})).apply(this,arguments)}function Kt(x,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,s.Z)(function*(x,_){const w=(0,L.m9)(x);return yield qs(!1,w,_.providerId),Zc(w,_)})).apply(this,arguments)}function Fm(x,_){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(x,_){return Qu((0,L.m9)(x),_)})).apply(this,arguments)}function Eh(x,_){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(x,_){return qn(x,"POST","/v1/accounts:signInWithCustomToken",rn(x,_))})).apply(this,arguments)}function da(x,_){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,s.Z)(function*(x,_){const w=Pt(x),A=yield Eh(w,{token:_,returnSecureToken:!0}),B=yield zi._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(B.user),B})).apply(this,arguments)}class Ja{constructor(_,w){this.factorId=_,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(_,w){return"phoneInfo"in w?Ye._fromServerResponse(_,w):Ve(_,"internal-error")}}class Ye extends Ja{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,w){return new Ye(w)}}function gn(x,_,w){var A;ge((null===(A=w.url)||void 0===A?void 0:A.length)>0,x,"invalid-continue-uri"),ge(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),_.continueUrl=w.url,_.dynamicLinkDomain=w.dynamicLinkDomain,_.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ge(w.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),_.iOSBundleId=w.iOS.bundleId),w.android&&(ge(w.android.packageName.length>0,x,"missing-android-pkg-name"),_.androidInstallApp=w.android.installApp,_.androidMinimumVersionCode=w.android.minimumVersion,_.androidPackageName=w.android.packageName)}function rp(x,_,w){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x),B={requestType:"PASSWORD_RESET",email:_};w&&gn(A,B,w),yield np(A,B)})).apply(this,arguments)}function Li(x,_,w){return el.apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(x,_,w){yield ls((0,L.m9)(x),{oobCode:_,newPassword:w})})).apply(this,arguments)}function Yc(x,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,s.Z)(function*(x,_){yield tp((0,L.m9)(x),{oobCode:_})})).apply(this,arguments)}function Kc(x,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(x,_){const w=(0,L.m9)(x),A=yield ls(w,{oobCode:_}),B=A.requestType;switch(ge(B,w,"internal-error"),B){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(A.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(A.mfaInfo,w,"internal-error");default:ge(A.email,w,"internal-error")}let q=null;return A.mfaInfo&&(q=Ja._fromServerResponse(Pt(w),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:q},operation:B}})).apply(this,arguments)}function sp(x,_){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(x,_){const{data:w}=yield Kc((0,L.m9)(x),_);return w.email})).apply(this,arguments)}function Nm(x,_,w){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(x,_,w){const A=Pt(x),B=yield es(A,{returnSecureToken:!0,email:_,password:w}),q=yield zi._fromIdTokenResponse(A,"signIn",B);return yield A._updateCurrentUser(q.user),q})).apply(this,arguments)}function Bi(x,_,w){return Yl((0,L.m9)(x),qc.credential(_,w))}function Ws(x,_,w){return tc.apply(this,arguments)}function tc(){return(tc=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x),B={requestType:"EMAIL_SIGNIN",email:_};ge(w.handleCodeInApp,A,"argument-error"),w&&gn(A,B,w),yield cs(A,B)})).apply(this,arguments)}function nc(x,_){return"EMAIL_SIGNIN"===Ya.parseLink(_)?.operation}function fo(x,_,w){return xh.apply(this,arguments)}function xh(){return(xh=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x),B=qc.credentialWithLink(_,w||Qe());return ge(B._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Yl(A,B)})).apply(this,arguments)}function Xu(x,_){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:createAuthUri",rn(x,_))})).apply(this,arguments)}function op(x,_){return nl.apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(x,_){const A={identifier:_,continueUri:tt()?Qe():"http://localhost"},{signinMethods:B}=yield Xu((0,L.m9)(x),A);return B||[]})).apply(this,arguments)}function ed(x,_){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(x,_){const w=(0,L.m9)(x),B={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};_&&gn(w.auth,B,_);const{email:q}=yield co(w.auth,B);q!==x.email&&(yield x.reload())})).apply(this,arguments)}function td(x,_,w){return rc.apply(this,arguments)}function rc(){return(rc=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x),q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:_};w&&gn(A.auth,q,w);const{email:Me}=yield $l(A.auth,q);Me!==x.email&&(yield x.reload())})).apply(this,arguments)}function Ih(x,_){return il.apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(x,_){return Xt(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ap(x,_){return sc.apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(x,{displayName:_,photoURL:w}){if(void 0===_&&void 0===w)return;const A=(0,L.m9)(x),q={idToken:yield A.getIdToken(),displayName:_,photoUrl:w,returnSecureToken:!0},Me=yield en(A,Ih(A.auth,q));A.displayName=Me.displayName||null,A.photoURL=Me.photoUrl||null;const qe=A.providerData.find(({providerId:mt})=>"password"===mt);qe&&(qe.displayName=A.displayName,qe.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Me)})).apply(this,arguments)}function lp(x,_){return Bo((0,L.m9)(x),_,null)}function Ah(x,_){return Bo((0,L.m9)(x),null,_)}function Bo(x,_,w){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(x,_,w){const{auth:A}=x,q={idToken:yield x.getIdToken(),returnSecureToken:!0};_&&(q.email=_),w&&(q.password=w);const Me=yield en(x,zc(A,q));yield x._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class ci{constructor(_,w,A={}){this.isNewUser=_,this.providerId=w,this.profile=A}}class po extends ci{constructor(_,w,A,B){super(_,w,A),this.username=B}}class ui extends ci{constructor(_,w){super(_,"facebook.com",w)}}class nd extends po{constructor(_,w){super(_,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class id extends ci{constructor(_,w){super(_,"google.com",w)}}class cp extends po{constructor(_,w,A){super(_,"twitter.com",w,A)}}function rd(x){const{user:_,_tokenResponse:w}=x;return _.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function Sh(x){var _,w;if(!x)return null;const{providerId:A}=x,B=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},q=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!A&&x?.idToken){const Me=null===(w=null===(_=Mt(x.idToken))||void 0===_?void 0:_.firebase)||void 0===w?void 0:w.sign_in_provider;if(Me)return new ci(q,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!A)return null;switch(A){case"facebook.com":return new ui(q,B);case"github.com":return new nd(q,B);case"google.com":return new id(q,B);case"twitter.com":return new cp(q,B,x.screenName||null);case"custom":case"anonymous":return new ci(q,null);default:return new ci(q,A,B)}}(w)}class ps{constructor(_,w,A){this.type=_,this.credential=w,this.auth=A}static _fromIdtoken(_,w){return new ps("enroll",_,w)}static _fromMfaPendingCredential(_){return new ps("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var w,A;if(_?.multiFactorSession){if(null!==(w=_.multiFactorSession)&&void 0!==w&&w.pendingCredential)return ps._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(A=_.multiFactorSession)&&void 0!==A&&A.idToken)return ps._fromIdtoken(_.multiFactorSession.idToken)}return null}}class ad{constructor(_,w,A){this.session=_,this.hints=w,this.signInResolver=A}static _fromError(_,w){const A=Pt(_),B=w.customData._serverResponse,q=(B.mfaInfo||[]).map(qe=>Ja._fromServerResponse(A,qe));ge(B.mfaPendingCredential,A,"internal-error");const Me=ps._fromMfaPendingCredential(B.mfaPendingCredential);return new ad(Me,q,function(){var qe=(0,s.Z)(function*(mt){const Lt=yield mt._process(A,Me);delete B.mfaInfo,delete B.mfaPendingCredential;const fn=Object.assign(Object.assign({},B),{idToken:Lt.idToken,refreshToken:Lt.refreshToken});switch(w.operationType){case"signIn":const gi=yield zi._fromIdTokenResponse(A,w.operationType,fn);return yield A._updateCurrentUser(gi.user),gi;case"reauthenticate":return ge(w.user,A,"internal-error"),zi._forOperation(w.user,w.operationType,fn);default:Ve(A,"internal-error")}});return function(mt){return qe.apply(this,arguments)}}())}resolveSignIn(_){var w=this;return(0,s.Z)(function*(){return w.signInResolver(_)})()}}function kh(x,_){var w;const A=(0,L.m9)(x),B=_;return ge(_.customData.operationType,A,"argument-error"),ge(null===(w=B.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,A,"argument-error"),ad._fromError(A,B)}function Ci(x,_){return Xt(x,"POST","/v2/accounts/mfaEnrollment:start",rn(x,_))}class Xc{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(A=>Ja._fromServerResponse(_.auth,A)))})}static _fromUser(_){return new Xc(_)}getSession(){var _=this;return(0,s.Z)(function*(){return ps._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,w){var A=this;return(0,s.Z)(function*(){const B=_,q=yield A.getSession(),Me=yield en(A.user,B._process(A.user.auth,q,w));return yield A.user._updateTokensIfNecessary(Me),A.user.reload()})()}unenroll(_){var w=this;return(0,s.Z)(function*(){var A;const B="string"==typeof _?_:_.uid,q=yield w.user.getIdToken(),Me=yield en(w.user,function Jc(x,_){return Xt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",rn(x,_))}(w.user.auth,{idToken:q,mfaEnrollmentId:B}));w.enrolledFactors=w.enrolledFactors.filter(({uid:qe})=>qe!==B),yield w.user._updateTokensIfNecessary(Me);try{yield w.user.reload()}catch(qe){if("auth/user-token-expired"!==(null===(A=qe)||void 0===A?void 0:A.code))throw qe}})()}}const up=new WeakMap;function oc(x){const _=(0,L.m9)(x);return up.has(_)||up.set(_,Xc._fromUser(_)),up.get(_)}const go="__sak";class ac{constructor(_,w){this.storageRetriever=_,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(go,"1"),this.storage.removeItem(go),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,w){return this.storage.setItem(_,JSON.stringify(w)),Promise.resolve()}_get(_){const w=this.storage.getItem(_);return Promise.resolve(w?JSON.parse(w):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vi=(()=>{class x extends ac{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,A)=>this.onStorageEvent(w,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ld(){const x=(0,L.z$)();return fe(x)||vt(x)}()&&function ao(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Hn(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const A of Object.keys(this.listeners)){const B=this.storage.getItem(A),q=this.localCache[A];B!==q&&w(A,q,B)}}onStorageEvent(w,A=!1){if(!w.key)return void this.forAllChangedKeys((qe,mt,Lt)=>{this.notifyListeners(qe,Lt)});const B=w.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const qe=this.storage.getItem(B);if(w.newValue!==qe)null!==w.newValue?this.storage.setItem(B,w.newValue):this.storage.removeItem(B);else if(this.localCache[B]===w.newValue&&!A)return}const q=()=>{const qe=this.storage.getItem(B);!A&&this.localCache[B]===qe||this.notifyListeners(B,qe)},Me=this.storage.getItem(B);!function sn(){return(0,L.w1)()&&10===document.documentMode}()||Me===w.newValue||w.newValue===w.oldValue?q():setTimeout(q,10)}notifyListeners(w,A){this.localCache[w]=A;const B=this.listeners[w];if(B)for(const q of Array.from(B))q(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,A,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:A,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(A)}_removeListener(w,A){this.listeners[w]&&(this.listeners[w].delete(A),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,A){var B=()=>super._set,q=this;return(0,s.Z)(function*(){yield B().call(q,w,A),q.localCache[w]=JSON.stringify(A)})()}_get(w){var A=()=>super._get,B=this;return(0,s.Z)(function*(){const q=yield A().call(B,w);return B.localCache[w]=JSON.stringify(q),q})()}_remove(w){var A=()=>super._remove,B=this;return(0,s.Z)(function*(){yield A().call(B,w),delete B.localCache[w]})()}}return x.type="LOCAL",x})(),Uo=(()=>{class x extends ac{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,A){}_removeListener(w,A){}}return x.type="SESSION",x})();let cc=(()=>{class x{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const A=this.receivers.find(q=>q.isListeningto(w));if(A)return A;const B=new x(w);return this.receivers.push(B),B}isListeningto(w){return this.eventTarget===w}handleEvent(w){var A=this;return(0,s.Z)(function*(){const B=w,{eventId:q,eventType:Me,data:qe}=B.data,mt=A.handlersMap[Me];if(!mt?.size)return;B.ports[0].postMessage({status:"ack",eventId:q,eventType:Me});const Lt=Array.from(mt).map(function(){var gi=(0,s.Z)(function*(Sl){return Sl(B.origin,qe)});return function(Sl){return gi.apply(this,arguments)}}()),fn=yield function cd(x){return Promise.all(x.map(function(){var _=(0,s.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(A){return{fulfilled:!1,reason:A}}});return function(w){return _.apply(this,arguments)}}()))}(Lt);B.ports[0].postMessage({status:"done",eventId:q,eventType:Me,response:fn})})()}_subscribe(w,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(A)}_unsubscribe(w,A){this.handlersMap[w]&&A&&this.handlersMap[w].delete(A),(!A||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function al(x="",_=10){let w="";for(let A=0;A<_;A++)w+=Math.floor(10*Math.random());return x+w}class fp{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,w,A=50){var B=this;return(0,s.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let Me,qe;return new Promise((mt,Lt)=>{const fn=al("",20);q.port1.start();const gi=setTimeout(()=>{Lt(new Error("unsupported_event"))},A);qe={messageChannel:q,onMessage(Sl){const cu=Sl;if(cu.data.eventId===fn)switch(cu.data.status){case"ack":clearTimeout(gi),Me=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),mt(cu.data.response);break;default:clearTimeout(gi),clearTimeout(Me),Lt(new Error("invalid_response"))}}},B.handlers.add(qe),q.port1.addEventListener("message",qe.onMessage),B.target.postMessage({eventType:_,eventId:fn,data:w},[q.port2])}).finally(()=>{qe&&B.removeMessageHandler(qe)})})()}}function Ei(){return window}function ts(){return typeof Ei().WorkerGlobalScope<"u"&&"function"==typeof Ei().importScripts}function mo(){return(mo=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const uc="firebaseLocalStorageDb",dc="firebaseLocalStorage",ll="fbase_key";class pa{constructor(_){this.request=_}toPromise(){return new Promise((_,w)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function cl(x,_){return x.transaction([dc],_?"readwrite":"readonly").objectStore(dc)}function tu(){const x=indexedDB.open(uc,1);return new Promise((_,w)=>{x.addEventListener("error",()=>{w(x.error)}),x.addEventListener("upgradeneeded",()=>{const A=x.result;try{A.createObjectStore(dc,{keyPath:ll})}catch(B){w(B)}}),x.addEventListener("success",(0,s.Z)(function*(){const A=x.result;A.objectStoreNames.contains(dc)?_(A):(A.close(),yield function Nh(){const x=indexedDB.deleteDatabase(uc);return new pa(x).toPromise()}(),_(yield tu()))}))})}function hc(x,_,w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,s.Z)(function*(x,_,w){const A=cl(x,!0).put({[ll]:_,value:w});return new pa(A).toPromise()})).apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(x,_){const w=cl(x,!1).get(_),A=yield new pa(w).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function nu(x,_){const w=cl(x,!0).delete(_);return new pa(w).toPromise()}const hl=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,s.Z)(function*(){return w.db||(w.db=yield tu()),w.db})()}_withRetries(w){var A=this;return(0,s.Z)(function*(){let B=0;for(;;)try{const q=yield A._openDb();return yield w(q)}catch(q){if(B++>3)throw q;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,s.Z)(function*(){return ts()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,s.Z)(function*(){w.receiver=cc._getInstance(function eu(){return ts()?self:null}()),w.receiver._subscribe("keyChanged",function(){var A=(0,s.Z)(function*(B,q){return{keyProcessed:(yield w._poll()).includes(q.key)}});return function(B,q){return A.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var A=(0,s.Z)(function*(B,q){return["keyChanged"]});return function(B,q){return A.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,s.Z)(function*(){var A,B;if(w.activeServiceWorker=yield function Fh(){return mo.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new fp(w.activeServiceWorker);const q=yield w.sender._send("ping",{},800);!q||(null===(A=q[0])||void 0===A?void 0:A.fulfilled)&&(null===(B=q[0])||void 0===B?void 0:B.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var A=this;return(0,s.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function ud(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:w},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const w=yield tu();return yield hc(w,go,"1"),yield nu(w,go),!0}catch{}return!1})()}_withPendingWrite(w){var A=this;return(0,s.Z)(function*(){A.pendingWrites++;try{yield w()}finally{A.pendingWrites--}})()}_set(w,A){var B=this;return(0,s.Z)(function*(){return B._withPendingWrite((0,s.Z)(function*(){return yield B._withRetries(q=>hc(q,w,A)),B.localCache[w]=A,B.notifyServiceWorker(w)}))})()}_get(w){var A=this;return(0,s.Z)(function*(){const B=yield A._withRetries(q=>function pp(x,_){return ul.apply(this,arguments)}(q,w));return A.localCache[w]=B,B})()}_remove(w){var A=this;return(0,s.Z)(function*(){return A._withPendingWrite((0,s.Z)(function*(){return yield A._withRetries(B=>nu(B,w)),delete A.localCache[w],A.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,s.Z)(function*(){const A=yield w._withRetries(Me=>{const qe=cl(Me,!1).getAll();return new pa(qe).toPromise()});if(!A)return[];if(0!==w.pendingWrites)return[];const B=[],q=new Set;for(const{fbase_key:Me,value:qe}of A)q.add(Me),JSON.stringify(w.localCache[Me])!==JSON.stringify(qe)&&(w.notifyListeners(Me,qe),B.push(Me));for(const Me of Object.keys(w.localCache))w.localCache[Me]&&!q.has(Me)&&(w.notifyListeners(Me,null),B.push(Me));return B})()}notifyListeners(w,A){this.localCache[w]=A;const B=this.listeners[w];if(B)for(const q of Array.from(B))q(A)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(A)}_removeListener(w,A){this.listeners[w]&&(this.listeners[w].delete(A),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function gp(x,_){return Xt(x,"POST","/v2/accounts/mfaSignIn:start",rn(x,_))}function Sr(){return(Sr=(0,s.Z)(function*(x){return(yield Xt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ga(x){return new Promise((_,w)=>{const A=document.createElement("script");A.setAttribute("src",x),A.onload=_,A.onerror=B=>{const q=Ne("internal-error");q.customData=B,w(q)},A.type="text/javascript",A.charset="UTF-8",function pl(){var x,_;return null!==(_=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==_?_:document}().appendChild(A)})}function gl(x){return`__${x}${Math.floor(1e6*Math.random())}`}const Ys=1e12;class Lh{constructor(_){this.auth=_,this.counter=Ys,this._widgets=new Map}render(_,w){const A=this.counter;return this._widgets.set(A,new ti(_,this.auth.name,w||{})),this.counter++,A}reset(_){var w;const A=_||Ys;null===(w=this._widgets.get(A))||void 0===w||w.delete(),this._widgets.delete(A)}getResponse(_){var w;return(null===(w=this._widgets.get(_||Ys))||void 0===w?void 0:w.getResponse())||""}execute(_){var w=this;return(0,s.Z)(function*(){var A;return null===(A=w._widgets.get(_||Ys))||void 0===A||A.execute(),""})()}}class ti{constructor(_,w,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const B="string"==typeof _?document.getElementById(_):_;ge(B,"argument-error",{appName:w}),this.container=B,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Lm(x){const _=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<x;A++)_.push(w.charAt(Math.floor(Math.random()*w.length)));return _.join("")}(50);const{callback:_,"expired-callback":w}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mp=gl("rcb"),WE=new ut(3e4,6e4);class qv{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Ei().grecaptcha)||void 0===_||!_.render)}load(_,w=""){return ge(function yp(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(w),_,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(Ei().grecaptcha):new Promise((A,B)=>{const q=Ei().setTimeout(()=>{B(Ne(_,"network-request-failed"))},WE.get());Ei()[mp]=()=>{Ei().clearTimeout(q),delete Ei()[mp];const qe=Ei().grecaptcha;if(!qe)return void B(Ne(_,"internal-error"));const mt=qe.render;qe.render=(Lt,fn)=>{const gi=mt(Lt,fn);return this.counter++,gi},this.hostLanguage=w,A(qe)},ga(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:mp,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(q),B(Ne(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var w;return!(null===(w=Ei().grecaptcha)||void 0===w||!w.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ZE{load(_){return(0,s.Z)(function*(){return new Lh(_)})()}clearedOneInstance(){}}const yo="recaptcha",Wv={theme:"light",type:"image"};class Bm{constructor(_,w=Object.assign({},Wv),A){this.parameters=w,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(A),this.isInvisible="invisible"===this.parameters.size,ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const B="string"==typeof _?document.getElementById(_):_;ge(B,this.auth,"argument-error"),this.container=B,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ZE:new qv,this.validateStartingState()}verify(){var _=this;return(0,s.Z)(function*(){_.assertNotDestroyed();const w=yield _.render(),A=_.getAssertedRecaptcha();return A.getResponse(w)||new Promise(q=>{const Me=qe=>{!qe||(_.tokenChangeListeners.delete(Me),q(qe))};_.tokenChangeListeners.add(Me),_.isInvisible&&A.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return w=>{if(this.tokenChangeListeners.forEach(A=>A(w)),"function"==typeof _)_(w);else if("string"==typeof _){const A=Ei()[_];"function"==typeof A&&A(w)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,s.Z)(function*(){if(yield _.init(),!_.widgetId){let w=_.container;if(!_.isInvisible){const A=document.createElement("div");w.appendChild(A),w=A}_.widgetId=_.getAssertedRecaptcha().render(w,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,s.Z)(function*(){ge(tt()&&!ts(),_.auth,"internal-error"),yield function rr(){let x=null;return new Promise(_=>{"complete"!==document.readyState?(x=()=>_(),window.addEventListener("load",x)):_()}).catch(_=>{throw x&&window.removeEventListener("load",x),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const w=yield function iu(x){return Sr.apply(this,arguments)}(_.auth);ge(w,_.auth,"internal-error"),_.parameters.sitekey=w})()}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wt{constructor(_,w){this.verificationId=_,this.onConfirmation=w}confirm(_){const w=Za._fromVerification(this.verificationId,_);return this.onConfirmation(w)}}function yl(x,_,w){return xi.apply(this,arguments)}function xi(){return(xi=(0,s.Z)(function*(x,_,w){const A=Pt(x),B=yield ks(A,_,(0,L.m9)(w));return new wt(B,q=>Yl(A,q))})).apply(this,arguments)}function _p(x,_,w){return ki.apply(this,arguments)}function ki(){return(ki=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x);yield qs(!1,A,"phone");const B=yield ks(A.auth,_,(0,L.m9)(w));return new wt(B,q=>Kt(A,q))})).apply(this,arguments)}function Ks(x,_,w){return fc.apply(this,arguments)}function fc(){return(fc=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x),B=yield ks(A.auth,_,(0,L.m9)(w));return new wt(B,q=>Fm(A,q))})).apply(this,arguments)}function ks(x,_,w){return ma.apply(this,arguments)}function ma(){return(ma=(0,s.Z)(function*(x,_,w){var A;const B=yield w.verify();try{let q;if(ge("string"==typeof B,x,"argument-error"),ge(w.type===yo,x,"argument-error"),q="string"==typeof _?{phoneNumber:_}:_,"session"in q){const Me=q.session;if("phoneNumber"in q)return ge("enroll"===Me.type,x,"internal-error"),(yield Ci(x,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:q.phoneNumber,recaptchaToken:B}})).phoneSessionInfo.sessionInfo;{ge("signin"===Me.type,x,"internal-error");const qe=(null===(A=q.multiFactorHint)||void 0===A?void 0:A.uid)||q.multiFactorUid;return ge(qe,x,"missing-multi-factor-info"),(yield gp(x,{mfaPendingCredential:Me.credential,mfaEnrollmentId:qe,phoneSignInInfo:{recaptchaToken:B}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield Rm(x,{phoneNumber:q.phoneNumber,recaptchaToken:B});return Me}}finally{w._reset()}})).apply(this,arguments)}function _l(x,_){return pc.apply(this,arguments)}function pc(){return(pc=(0,s.Z)(function*(x,_){yield Zc((0,L.m9)(x),_)})).apply(this,arguments)}let ya=(()=>{class x{constructor(w){this.providerId=x.PROVIDER_ID,this.auth=Pt(w)}verifyPhoneNumber(w,A){return ks(this.auth,w,(0,L.m9)(A))}static credential(w,A){return Za._fromVerification(w,A)}static credentialFromResult(w){return x.credentialFromTaggedObject(w)}static credentialFromError(w){return x.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:A,temporaryProof:B}=w;return A&&B?Za._fromTokenResponse(A,B):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function vl(x,_){return _?de(_):(ge(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class vp extends Jr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return la(_,this._buildIdpRequest())}_linkToIdToken(_,w){return la(_,this._buildIdpRequest(w))}_getReauthenticationResolver(_){return la(_,this._buildIdpRequest())}_buildIdpRequest(_){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(w.idToken=_),w}}function ru(x){return Ju(x.auth,new vp(x),x.bypassAuthState)}function ns(x){const{auth:_,user:w}=x;return ge(w,_,"internal-error"),Qu(w,new vp(x),x.bypassAuthState)}function bl(x){return gs.apply(this,arguments)}function gs(){return(gs=(0,s.Z)(function*(x){const{auth:_,user:w}=x;return ge(w,_,"internal-error"),Zc(w,new vp(x),x.bypassAuthState)})).apply(this,arguments)}class _o{constructor(_,w,A,B,q=!1){this.auth=_,this.resolver=A,this.user=B,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var _=this;return new Promise(function(){var w=(0,s.Z)(function*(A,B){_.pendingPromise={resolve:A,reject:B};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(q){_.reject(q)}});return function(A,B){return w.apply(this,arguments)}}())}onAuthEvent(_){var w=this;return(0,s.Z)(function*(){const{urlResponse:A,sessionId:B,postBody:q,tenantId:Me,error:qe,type:mt}=_;if(qe)return void w.reject(qe);const Lt={auth:w.auth,requestUri:A,sessionId:B,tenantId:Me||void 0,postBody:q||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(mt)(Lt))}catch(fn){w.reject(fn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ru;case"linkViaPopup":case"linkViaRedirect":return bl;case"reauthViaPopup":case"reauthViaRedirect":return ns;default:Ve(this.auth,"internal-error")}}resolve(_){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wl=new ut(2e3,1e4);function Qt(x,_,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)(function*(x,_,w){const A=Pt(x);De(x,_,fr);const B=vl(A,w);return new su(A,"signInViaPopup",_,B).executeNotNull()})).apply(this,arguments)}function gr(x,_,w){return _a.apply(this,arguments)}function _a(){return(_a=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x);De(A.auth,_,fr);const B=vl(A.auth,w);return new su(A.auth,"reauthViaPopup",_,B,A).executeNotNull()})).apply(this,arguments)}function Nn(x,_,w){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x);De(A.auth,_,fr);const B=vl(A.auth,w);return new su(A.auth,"linkViaPopup",_,B,A).executeNotNull()})).apply(this,arguments)}let su=(()=>{class x extends _o{constructor(w,A,B,q,Me){super(w,A,q,Me),this.provider=B,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var w=this;return(0,s.Z)(function*(){const A=yield w.execute();return ge(A,w.auth,"internal-error"),A})()}onExecution(){var w=this;return(0,s.Z)(function*(){Se(1===w.filter.length,"Popup operations only handle one event");const A=al();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],A),w.authWindow.associatedEvent=A,w.resolver._originValidation(w.auth).catch(B=>{w.reject(B)}),w.resolver._isIframeWebStorageSupported(w.auth,B=>{B||w.reject(Ne(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const w=()=>{var A,B;this.pollId=null!==(B=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==B&&B.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,wl.get())};w()}}return x.currentPopupAction=null,x})();const vo=new Map;class gc extends _o{constructor(_,w,A=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,A),this.eventId=null}execute(){var _=()=>super.execute,w=this;return(0,s.Z)(function*(){let A=vo.get(w.auth._key());if(!A){try{const q=(yield function pd(x,_){return Cl.apply(this,arguments)}(w.resolver,w.auth))?yield _().call(w):null;A=()=>Promise.resolve(q)}catch(B){A=()=>Promise.reject(B)}vo.set(w.auth._key(),A)}return w.bypassAuthState||vo.set(w.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(_){var w=()=>super.onAuthEvent,A=this;return(0,s.Z)(function*(){if("signInViaRedirect"===_.type)return w().call(A,_);if("unknown"!==_.type){if(_.eventId){const B=yield A.auth._redirectUserForId(_.eventId);if(B)return A.user=B,w().call(A,_);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Cl(){return(Cl=(0,s.Z)(function*(x,_){const w=Go(_),A=xl(x);if(!(yield A._isAvailable()))return!1;const B="true"===(yield A._get(w));return yield A._remove(w),B})).apply(this,arguments)}function bo(x,_){return gd.apply(this,arguments)}function gd(){return(gd=(0,s.Z)(function*(x,_){return xl(x)._set(Go(_),"true")})).apply(this,arguments)}function El(){vo.clear()}function bp(x,_){vo.set(x._key(),_)}function xl(x){return de(x._redirectPersistence)}function Go(x){return Mn("pendingRedirect",x.config.apiKey,x.name)}function Vm(x,_,w){return function Ui(x,_,w){return md.apply(this,arguments)}(x,_,w)}function md(){return(md=(0,s.Z)(function*(x,_,w){const A=Pt(x);De(x,_,fr);const B=vl(A,w);return yield bo(B,A),B._openRedirect(A,_,"signInViaRedirect")})).apply(this,arguments)}function R(x,_,w){return function P(x,_,w){return V.apply(this,arguments)}(x,_,w)}function V(){return(V=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x);De(A.auth,_,fr);const B=vl(A.auth,w);yield bo(B,A.auth);const q=yield un(A);return B._openRedirect(A.auth,_,"reauthViaRedirect",q)})).apply(this,arguments)}function ie(x,_,w){return function Ie(x,_,w){return Pe.apply(this,arguments)}(x,_,w)}function Pe(){return(Pe=(0,s.Z)(function*(x,_,w){const A=(0,L.m9)(x);De(A.auth,_,fr);const B=vl(A.auth,w);yield qs(!1,A,_.providerId),yield bo(B,A.auth);const q=yield un(A);return B._openRedirect(A.auth,_,"linkViaRedirect",q)})).apply(this,arguments)}function Je(x,_){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(x,_){return yield Pt(x)._initializationPromise,Ut(x,_,!1)})).apply(this,arguments)}function Ut(x,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(x,_,w=!1){const A=Pt(x),B=vl(A,_),Me=yield new gc(A,B,w).execute();return Me&&!w&&(delete Me.user._redirectEventId,yield A._persistUserIfCurrent(Me.user),yield A._setRedirectUser(null,_)),Me})).apply(this,arguments)}function un(x){return jt.apply(this,arguments)}function jt(){return(jt=(0,s.Z)(function*(x){const _=al(`${x.uid}:::`);return x._redirectEventId=_,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),_})).apply(this,arguments)}class mr{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let w=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(_,A)&&(w=!0,this.sendToConsumer(_,A),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function _c(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(x);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=_,w=!0)),w}sendToConsumer(_,w){var A;if(_.error&&!yc(_)){const B=(null===(A=_.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";w.onError(Ne(this.auth,B))}else w.onAuthEvent(_)}isEventForConsumer(_,w){const A=null===w.eventId||!!_.eventId&&_.eventId===w.eventId;return w.filter.includes(_.type)&&A}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mc(_))}saveEventToCache(_){this.cachedEventUids.add(mc(_)),this.lastProcessedEventTime=Date.now()}}function mc(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(_=>_).join("-")}function yc({type:x,error:_}){return"unknown"===x&&"auth/no-auth-event"===_?.code}function Dl(x){return wo.apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(x,_={}){return Xt(x,"GET","/v1/projects",_)})).apply(this,arguments)}const ou=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vc=/^https?/;function yd(){return(yd=(0,s.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:_}=yield Dl(x);for(const w of _)try{if(YE(w))return}catch{}Ve(x,"unauthorized-domain")})).apply(this,arguments)}function YE(x){const _=Qe(),{protocol:w,hostname:A}=new URL(_);if(x.startsWith("chrome-extension://")){const Me=new URL(x);return""===Me.hostname&&""===A?"chrome-extension:"===w&&x.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===w&&Me.hostname===A}if(!vc.test(w))return!1;if(ou.test(x))return A===x;const B=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(A)}const KE=new ut(3e4,6e4);function Zv(){const x=Ei().___jsl;if(x?.H)for(const _ of Object.keys(x.H))if(x.H[_].r=x.H[_].r||[],x.H[_].L=x.H[_].L||[],x.H[_].r=[...x.H[_].L],x.CP)for(let w=0;w<x.CP.length;w++)x.CP[w]=null}let au=null;function Yv(x){return au=au||function QE(x){return new Promise((_,w)=>{var A,B,q;function Me(){Zv(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Zv(),w(Ne(x,"network-request-failed"))},timeout:KE.get()})}if(null!==(B=null===(A=Ei().gapi)||void 0===A?void 0:A.iframes)&&void 0!==B&&B.Iframe)_(gapi.iframes.getContext());else{if(null===(q=Ei().gapi)||void 0===q||!q.load){const qe=gl("iframefcb");return Ei()[qe]=()=>{gapi.load?Me():w(Ne(x,"network-request-failed"))},ga(`https://apis.google.com/js/api.js?onload=${qe}`).catch(mt=>w(mt))}Me()}}).catch(_=>{throw au=null,_})}(x),au}const JE=new ut(5e3,15e3),Qv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Um(x){const _=x.config;ge(_.authDomain,x,"auth-domain-config-required");const w=_.emulator?Sn(_,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,A={apiKey:_.apiKey,appName:x.name,v:O.SDK_VERSION},B=Y1.get(x.config.apiHost);B&&(A.eid=B);const q=x._getFrameworks();return q.length&&(A.fw=q.join(",")),`${w}?${(0,L.xO)(A).slice(1)}`}function wp(){return wp=(0,s.Z)(function*(x){const _=yield Yv(x),w=Ei().gapi;return ge(w,x,"internal-error"),_.open({where:document.body,url:Um(x),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qv,dontclear:!0},A=>new Promise(function(){var B=(0,s.Z)(function*(q,Me){yield A.restyle({setHideOnLeave:!1});const qe=Ne(x,"network-request-failed"),mt=Ei().setTimeout(()=>{Me(qe)},JE.get());function Lt(){Ei().clearTimeout(mt),q(A)}A.ping(Lt).then(Lt,()=>{Me(qe)})});return function(q,Me){return B.apply(this,arguments)}}()))}),wp.apply(this,arguments)}const Cp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nx{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xp(x,_,w,A,B,q){ge(x.config.authDomain,x,"auth-domain-config-required"),ge(x.config.apiKey,x,"invalid-api-key");const Me={apiKey:x.config.apiKey,appName:x.name,authType:w,redirectUrl:A,v:O.SDK_VERSION,eventId:B};if(_ instanceof fr){_.setDefaultLanguage(x.languageCode),Me.providerId=_.providerId||"",(0,L.xb)(_.getCustomParameters())||(Me.customParameters=JSON.stringify(_.getCustomParameters()));for(const[mt,Lt]of Object.entries(q||{}))Me[mt]=Lt}if(_ instanceof Ka){const mt=_.getScopes().filter(Lt=>""!==Lt);mt.length>0&&(Me.scopes=mt.join(","))}x.tenantId&&(Me.tid=x.tenantId);const qe=Me;for(const mt of Object.keys(qe))void 0===qe[mt]&&delete qe[mt];return`${function bc({config:x}){return x.emulator?Sn(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,L.xO)(qe).slice(1)}`}const Dp="webStorageSupport",eb=class ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uo,this._completeRedirectFn=Ut,this._overrideRedirectResult=bp}_openPopup(_,w,A,B){var q=this;return(0,s.Z)(function*(){var Me;Se(null===(Me=q.eventManagers[_._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const qe=xp(_,w,A,Qe(),B);return function Ep(x,_,w,A=500,B=600){const q=Math.max((window.screen.availHeight-B)/2,0).toString(),Me=Math.max((window.screen.availWidth-A)/2,0).toString();let qe="";const mt=Object.assign(Object.assign({},Cp),{width:A.toString(),height:B.toString(),top:q,left:Me}),Lt=(0,L.z$)().toLowerCase();w&&(qe=He(Lt)?"_blank":w),ue(Lt)&&(_=_||"http://localhost",mt.scrollbars="yes");const fn=Object.entries(mt).reduce((Sl,[cu,$m])=>`${Sl}${cu}=${$m},`,"");if(function li(x=(0,L.z$)()){var _;return vt(x)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Lt)&&"_self"!==qe)return function Gm(x,_){const w=document.createElement("a");w.href=x,w.target=_;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(A)}(_||"",qe),new nx(null);const gi=window.open(_||"",qe,fn);ge(gi,x,"popup-blocked");try{gi.focus()}catch{}return new nx(gi)}(_,qe,al())})()}_openRedirect(_,w,A,B){var q=this;return(0,s.Z)(function*(){return yield q._originValidation(_),function Ph(x){Ei().location.href=x}(xp(_,w,A,Qe(),B)),new Promise(()=>{})})()}_initialize(_){const w=_._key();if(this.eventManagers[w]){const{manager:B,promise:q}=this.eventManagers[w];return B?Promise.resolve(B):(Se(q,"If manager is not set, promise should be"),q)}const A=this.initAndGetManager(_);return this.eventManagers[w]={promise:A},A.catch(()=>{delete this.eventManagers[w]}),A}initAndGetManager(_){var w=this;return(0,s.Z)(function*(){const A=yield function XE(x){return wp.apply(this,arguments)}(_),B=new mr(_);return A.register("authEvent",q=>(ge(q?.authEvent,_,"invalid-auth-event"),{status:B.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[_._key()]={manager:B},w.iframes[_._key()]=A,B})()}_isIframeWebStorageSupported(_,w){this.iframes[_._key()].send(Dp,{type:Dp},B=>{var q;const Me=null===(q=B?.[0])||void 0===q?void 0:q[Dp];void 0!==Me&&w(!!Me),Ve(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const w=_._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function Il(x){return yd.apply(this,arguments)}(_)),this.originValidationPromises[w]}get _shouldInitProactively(){return Hn()||fe()||vt()}};class Hm extends class rx{constructor(_){this.factorId=_}_process(_,w,A){switch(w.type){case"enroll":return this._finalizeEnroll(_,w.credential,A);case"signin":return this._finalizeSignIn(_,w.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Hm(_)}_finalizeEnroll(_,w,A){return function Qc(x,_){return Xt(x,"POST","/v2/accounts/mfaEnrollment:finalize",rn(x,_))}(_,{idToken:w,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,w){return function fl(x,_){return Xt(x,"POST","/v2/accounts/mfaSignIn:finalize",rn(x,_))}(_,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Al=(()=>{class x{constructor(){}static assertion(w){return Hm._fromCredential(w)}}return x.FACTOR_ID="phone",x})();var lu="@firebase/auth";class sx{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,s.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(A=>{var B;_((null===(B=A)||void 0===B?void 0:B.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);!w||(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lx(x=(0,O.getApp)()){const _=(0,O._getProvider)(x,"auth");return _.isInitialized()?_.getImmediate():function Ae(x,_){const w=(0,O._getProvider)(x,"auth");if(w.isInitialized()){const B=w.getImmediate(),q=w.getOptions();if((0,L.vZ)(q,_??{}))return B;Ve(B,"already-initialized")}return w.initialize({options:_})}(x,{popupRedirectResolver:eb,persistence:[hl,Vi,Uo]})}!function ax(x){(0,O._registerComponent)(new K.wA("auth",(_,{options:w})=>{const A=_.getProvider("app").getImmediate(),B=_.getProvider("heartbeat"),{apiKey:q,authDomain:Me}=A.options;return((qe,mt)=>{ge(q&&!q.includes(":"),"invalid-api-key",{appName:qe.name}),ge(!Me?.includes(":"),"argument-error",{appName:qe.name});const Lt={apiKey:q,authDomain:Me,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ei(x)},fn=new za(qe,mt,Lt);return function Ce(x,_){const w=_?.persistence||[],A=(Array.isArray(w)?w:[w]).map(de);_?.errorMap&&x._updateErrorMap(_.errorMap),x._initializeWithPersistence(A,_?.popupRedirectResolver)}(fn,w),fn})(A,B)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,A)=>{_.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new K.wA("auth-internal",_=>{const w=Pt(_.getProvider("auth").getImmediate());return new sx(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(lu,"0.20.7",function ox(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,O.registerVersion)(lu,"0.20.7","esm2017")}("Browser")},2090:(we,H,N)=>{"use strict";N.d(H,{$s:()=>Ar,BH:()=>Oe,G6:()=>ge,L:()=>X,LL:()=>Qe,Sg:()=>me,UG:()=>ee,US:()=>K,ZB:()=>J,ZR:()=>Ce,b$:()=>Ve,eu:()=>Se,hl:()=>ve,jU:()=>re,m9:()=>pn,ne:()=>zs,pd:()=>vi,r3:()=>rn,ru:()=>ke,tV:()=>oe,uI:()=>ne,vZ:()=>ai,w1:()=>Le,xO:()=>Hs,xb:()=>Kn,z$:()=>xe,zI:()=>ce,zd:()=>Kr});const G=function(be){const he=[];let ae=0;for(let pe=0;pe<be.length;pe++){let ye=be.charCodeAt(pe);ye<128?he[ae++]=ye:ye<2048?(he[ae++]=ye>>6|192,he[ae++]=63&ye|128):55296==(64512&ye)&&pe+1<be.length&&56320==(64512&be.charCodeAt(pe+1))?(ye=65536+((1023&ye)<<10)+(1023&be.charCodeAt(++pe)),he[ae++]=ye>>18|240,he[ae++]=ye>>12&63|128,he[ae++]=ye>>6&63|128,he[ae++]=63&ye|128):(he[ae++]=ye>>12|224,he[ae++]=ye>>6&63|128,he[ae++]=63&ye|128)}return he},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,he){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ae=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ye=0;ye<be.length;ye+=3){const We=be[ye],ct=ye+1<be.length,Vt=ct?be[ye+1]:0,Fn=ye+2<be.length,Mn=Fn?be[ye+2]:0;let ue=(15&Vt)<<2|Mn>>6,fe=63&Mn;Fn||(fe=64,ct||(ue=64)),pe.push(ae[We>>2],ae[(3&We)<<4|Vt>>4],ae[ue],ae[fe])}return pe.join("")},encodeString(be,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(be):this.encodeByteArray(G(be),he)},decodeString(be,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(be):function(be){const he=[];let ae=0,pe=0;for(;ae<be.length;){const ye=be[ae++];if(ye<128)he[pe++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const We=be[ae++];he[pe++]=String.fromCharCode((31&ye)<<6|63&We)}else if(ye>239&&ye<365){const Fn=((7&ye)<<18|(63&be[ae++])<<12|(63&be[ae++])<<6|63&be[ae++])-65536;he[pe++]=String.fromCharCode(55296+(Fn>>10)),he[pe++]=String.fromCharCode(56320+(1023&Fn))}else{const We=be[ae++],ct=be[ae++];he[pe++]=String.fromCharCode((15&ye)<<12|(63&We)<<6|63&ct)}}return he.join("")}(this.decodeStringToByteArray(be,he))},decodeStringToByteArray(be,he){this.init_();const ae=he?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ye=0;ye<be.length;){const We=ae[be.charAt(ye++)],Vt=ye<be.length?ae[be.charAt(ye)]:0;++ye;const Mn=ye<be.length?ae[be.charAt(ye)]:64;++ye;const Te=ye<be.length?ae[be.charAt(ye)]:64;if(++ye,null==We||null==Vt||null==Mn||null==Te)throw Error();pe.push(We<<2|Vt>>4),64!==Mn&&(pe.push(Vt<<4&240|Mn>>2),64!==Te&&pe.push(Mn<<6&192|Te))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},X=function(be){return function(be){const he=G(be);return K.encodeByteArray(he,!0)}(be).replace(/\./g,"")},oe=function(be){try{return K.decodeString(be,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function J(be,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return he}for(const ae in he)!he.hasOwnProperty(ae)||!se(ae)||(be[ae]=J(be[ae],he[ae]));return be}function se(be){return"__proto__"!==be}class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,ae)=>{this.resolve=he,this.reject=ae})}wrapCallback(he){return(ae,pe)=>{ae?this.reject(ae):this.resolve(pe),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(ae):he(ae,pe))}}}function me(be,he){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=he||"demo-project",ye=be.iat||0,We=be.sub||be.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ye,exp:ye+3600,auth_time:ye,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},be);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(ct)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function re(){return"object"==typeof self&&self.self===self}function ke(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const be=xe();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function ge(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){return"object"==typeof indexedDB}function Se(){return new Promise((be,he)=>{try{let ae=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(pe);ye.onsuccess=()=>{ye.result.close(),ae||self.indexedDB.deleteDatabase(pe),be(!0)},ye.onupgradeneeded=()=>{ae=!1},ye.onerror=()=>{var We;he((null===(We=ye.error)||void 0===We?void 0:We.message)||"")}}catch(ae){he(ae)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(he,ae,pe){super(ae),this.code=he,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(he,ae,pe){this.service=he,this.serviceName=ae,this.errors=pe}create(he,...ae){const pe=ae[0]||{},ye=`${this.service}/${he}`,We=this.errors[he],ct=We?function tt(be,he){return be.replace(Tt,(ae,pe)=>{const ye=he[pe];return null!=ye?String(ye):`<${pe}?>`})}(We,pe):"Error";return new Ce(ye,`${this.serviceName}: ${ct} (${ye}).`,pe)}}const Tt=/\{\$([^}]+)}/g;function rn(be,he){return Object.prototype.hasOwnProperty.call(be,he)}function Kn(be){for(const he in be)if(Object.prototype.hasOwnProperty.call(be,he))return!1;return!0}function ai(be,he){if(be===he)return!0;const ae=Object.keys(be),pe=Object.keys(he);for(const ye of ae){if(!pe.includes(ye))return!1;const We=be[ye],ct=he[ye];if(qn(We)&&qn(ct)){if(!ai(We,ct))return!1}else if(We!==ct)return!1}for(const ye of pe)if(!ae.includes(ye))return!1;return!0}function qn(be){return null!==be&&"object"==typeof be}function Hs(be){const he=[];for(const[ae,pe]of Object.entries(be))Array.isArray(pe)?pe.forEach(ye=>{he.push(encodeURIComponent(ae)+"="+encodeURIComponent(ye))}):he.push(encodeURIComponent(ae)+"="+encodeURIComponent(pe));return he.length?"&"+he.join("&"):""}function Kr(be){const he={};return be.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ye,We]=pe.split("=");he[decodeURIComponent(ye)]=decodeURIComponent(We)}}),he}function vi(be){const he=be.indexOf("?");if(!he)return"";const ae=be.indexOf("#",he);return be.substring(he,ae>0?ae:void 0)}function zs(be,he){const ae=new yt(be,he);return ae.subscribe.bind(ae)}class yt{constructor(he,ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ae,this.task.then(()=>{he(this)}).catch(pe=>{this.error(pe)})}next(he){this.forEachObserver(ae=>{ae.next(he)})}error(he){this.forEachObserver(ae=>{ae.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,ae,pe){let ye;if(void 0===he&&void 0===ae&&void 0===pe)throw new Error("Missing Observer.");ye=function bi(be,he){if("object"!=typeof be||null===be)return!1;for(const ae of he)if(ae in be&&"function"==typeof be[ae])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:ae,complete:pe},void 0===ye.next&&(ye.next=Gn),void 0===ye.error&&(ye.error=Gn),void 0===ye.complete&&(ye.complete=Gn);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),We}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let ae=0;ae<this.observers.length;ae++)this.sendOne(ae,he)}sendOne(he,ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{ae(this.observers[he])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function Ar(be,he=1e3,ae=2){const pe=he*Math.pow(ae,be),ye=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+ye)}function pn(be){return be&&be._delegate?be._delegate:be}},8201:(we,H,N)=>{"use strict";var s=N(4650);let L=null;function O(){return L}const Z=new s.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function oe(){return(0,s.LFG)(J)}()},providedIn:"platform"}),n})();const Q=new s.OlP("Location Initialized");let J=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){se()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){se()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Oe(){return new J((0,s.LFG)(Z))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(ke)},providedIn:"root"}),n})();const re=new s.OlP("appBaseHref");let ke=(()=>{class n extends ee{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const d=this.prepareExternalUrl(r+ne(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){const d=this.prepareExternalUrl(r+ne(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ve=(()=>{class n extends ee{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let d=this.prepareExternalUrl(r+ne(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){let d=this.prepareExternalUrl(r+ne(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X),s.LFG(re,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=xe(Ge(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ne(i))}normalize(e){return n.stripTrailingSlash(function De(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ge(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ne,n.joinWithSlash=me,n.stripTrailingSlash=xe,n.\u0275fac=function(e){return new(e||n)(s.LFG(ee))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Le(){return new Ne((0,s.LFG)(ee))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}function zc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}let Rn=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class oa{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new oa(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===l?void 0:l);else if(null!==l){const p=i.get(l);i.move(p,d),aa(p,r)}});for(let r=0,l=i.length;r<l;r++){const p=i.get(r).context;p.index=r,p.count=l,p.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{aa(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function aa(n,t){n.context.$implicit=t.item}let En=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new np,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ni("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ni("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class np{constructor(){this.$implicit=null,this.ngIf=null}}function Ni(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class cs{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Po=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),$l=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new cs(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Po,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class Mm{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class uo{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Rm=new uo,gh=new Mm;let Fo=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Rm;if((0,s.F4k)(e))return gh;throw function us(n,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Yu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ds="browser";function zi(n){return n===ds}function hs(n){return"server"===n}let Ch=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new ip((0,s.LFG)(Z),window)}),n})();class ip{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function pr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ms(this.window.history)||Ms(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ua{}class Bo extends class Ah extends class K{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $(n){L||(L=n)}(new Bo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Sh(){return Vo=Vo||document.querySelector("base"),Vo?Vo.getAttribute("href"):null}();return null==e?null:function po(n){ci=ci||document.createElement("a"),ci.setAttribute("href",n);const t=ci.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zc(document.cookie,t)}}let ci,Vo=null;const ui=new s.OlP("TRANSITION_ID"),id=[{provide:s.ip1,useFactory:function nd(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[ui,Z,s.zs3],multi:!0}];let rd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const sd=new s.OlP("EventManagerPlugins");let Th=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const d=r[l];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sd),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class od{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let rl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),sl=(()=>{class n extends rl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,r.push(i.appendChild(d))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Mh),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Mh))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mh(n){O().remove(n)}const ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Rh=/%COMP%/g;function Jc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Jc(n,r,e):(r=r.replace(Rh,n),e.push(r))}return e}function Xc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let oc=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new go(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Oh(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new dp(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Th),s.LFG(sl),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class go{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ol[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(lc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(lc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=ol[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ol[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Xc(i)):this.eventManager.addEventListener(t,e,Xc(i))}}function lc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Oh extends go{constructor(t,e,i,r){super(t),this.component=i;const l=Jc(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function Ci(n){return"_ngcontent-%COMP%".replace(Rh,n)}(r+"-"+i.id),this.hostAttr=function Qc(n){return"_nghost-%COMP%".replace(Rh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class dp extends go{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Jc(r.id,r.styles,[]);for(let d=0;d<l.length;d++){const p=document.createElement("style");p.textContent=l[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vi=(()=>{class n extends od{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hp=["alt","control","meta","shift"],Uo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cc=(()=>{class n extends od{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),d="code."),hp.forEach(E=>{const M=i.indexOf(E);M>-1&&(i.splice(M,1),d+=E+".")}),d+=l,0!=i.length||0===l.length)return null;const v={};return v.domEventName=r,v.fullKey=d,v}static matchEventFullKeyCode(e,i){let r=Uo[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(r=e.code,l="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hp.forEach(d=>{d!==r&&(0,cd[d])(e)&&(l+=d+".")}),l+=r,l===i)}static eventCallback(e,i,r){return l=>{n.matchEventFullKeyCode(l,e)&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:ds},{provide:s.g9A,useValue:function Fh(){Bo.makeCurrent()},multi:!0},{provide:Z,useFactory:function ud(){return(0,s.RDi)(document),document},deps:[]}]),fa=new s.OlP(""),dc=[{provide:s.rWj,useClass:class cp{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let l=r.length,d=!1;const p=function(v){d=d||v,l--,0==l&&i(d)};r.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],ll=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function mo(){return new s.qLn},deps:[]},{provide:sd,useClass:Vi,multi:!0,deps:[Z,s.R0b,s.Lbi]},{provide:sd,useClass:cc,multi:!0,deps:[Z]},{provide:oc,useClass:oc,deps:[Th,sl,s.AFp]},{provide:s.FYo,useExisting:oc},{provide:rl,useExisting:sl},{provide:sl,useClass:sl,deps:[Z]},{provide:Th,useClass:Th,deps:[sd,s.R0b]},{provide:ua,useClass:rd,deps:[]},[]];let pa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:ui,useExisting:s.AFp},id]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fa,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...ll,...dc],imports:[Yu,s.hGG]}),n})(),Zs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function hc(){return new Zs((0,s.LFG)(Z))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let yo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Bm),i},providedIn:"root"}),n})(),Bm=(()=>{class n extends yo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Wv(n){return new Bm(n.get(Z))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var wt=N(127);let yl;try{yl=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yl=!1}let ki,xi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?zi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yl)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ks=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fc(){if(ki)return ki;if("object"!=typeof document||!document)return ki=new Set(Ks),ki;let n=document.createElement("input");return ki=new Set(Ks.filter(t=>(n.setAttribute("type",t),n.type===t))),ki}let ks,ya,ru;function _l(n){return function ma(){if(null==ks&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ks=!0}))}finally{ks=ks||!1}return ks}()?n:!!n.capture}function vl(){if(null==ya){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ya=!1,ya;if("scrollBehavior"in document.documentElement.style)ya=!0;else{const n=Element.prototype.scrollTo;ya=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ya}function bl(n){if(function ns(){if(null==ru){const n=typeof document<"u"?document.head:null;ru=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ru}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function gs(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function _o(n){return n.composedPath?n.composedPath()[0]:n.target}function wl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Qt=N(7579),sr=N(727);class gr extends Qt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var _a=N(3269),Nn=N(8996);function ot(...n){const t=(0,_a.yG)(n);return(0,Nn.D)(n,t)}function Sp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var qi=N(8505),Tp=N(4986),Lr=N(4482),or=N(5403);function Mp(n,t=Tp.z){return(0,Lr.e)((e,i)=>{let r=null,l=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const E=l;l=null,i.next(E)}};function v(){const E=d+n,M=t.now();if(M<E)return r=this.schedule(void 0,E-M),void i.add(r);p()}e.subscribe((0,or.x)(i,E=>{l=E,d=t.now(),r||(r=t.schedule(v,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{l=r=null}))})}function Oi(n,t){return(0,Lr.e)((e,i)=>{let r=0;e.subscribe((0,or.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}var It=N(4004),ms=N(515);function Ln(n){return n<=0?()=>ms.E:(0,Lr.e)((t,e)=>{let i=0;t.subscribe((0,or.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Wm(n){return Oi((t,e)=>n<=e)}var Vh=N(4671);function Tl(n,t=Vh.y){return n=n??Q1,(0,Lr.e)((e,i)=>{let r,l=!0;e.subscribe((0,or.x)(i,d=>{const p=t(d);(l||!n(r,p))&&(l=!1,r=p,i.next(d))}))})}function Q1(n,t){return n===t}var wc=N(8421),Zm=N(5032);function Br(n){return(0,Lr.e)((t,e)=>{(0,wc.Xf)(n).subscribe((0,or.x)(e,()=>e.complete(),Zm.Z)),!e.closed&&t.subscribe(e)})}function di(n){return null!=n&&"false"!=`${n}`}function va(n,t=0){return function bd(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Rp(n){return Array.isArray(n)?n:[n]}function Wi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Cc(n){return n instanceof s.SBq?n.nativeElement:n}var Vr=N(9751);let wd=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J1=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Cc(e);return new Vr.y(r=>{const d=this._observeElement(i).subscribe(r);return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Qt.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lb=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=va(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Mp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J1),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Ym=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[wd]}),n})();const{isArray:X1}=Array,{getPrototypeOf:cb,prototype:eM,keys:fx}=Object;function px(n){if(1===n.length){const t=n[0];if(X1(t))return{args:t,keys:null};if(function gx(n){return n&&"object"==typeof n&&cb(n)===eM}(t)){const e=fx(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:UB}=Array;function Cd(n){return(0,It.U)(t=>function tM(n,t){return UB(t)?n(...t):n(t)}(n,t))}function mx(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Uh=N(9672);function Ur(...n){const t=(0,_a.yG)(n),e=(0,_a.jO)(n),{args:i,keys:r}=px(n);if(0===i.length)return(0,Nn.D)([],t);const l=new Vr.y(function nM(n,t,e=Vh.y){return i=>{iM(t,()=>{const{length:r}=n,l=new Array(r);let d=r,p=r;for(let v=0;v<r;v++)iM(t,()=>{const E=(0,Nn.D)(n[v],t);let M=!1;E.subscribe((0,or.x)(i,k=>{l[v]=k,M||(M=!0,p--),p||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>mx(r,d):Vh.y));return e?l.pipe(Cd(e)):l}function iM(n,t,e){n?(0,Uh.f)(e,n,t):t()}var jh=N(8189);function Km(...n){return function rM(){return(0,jh.J)(1)}()((0,Nn.D)(n,(0,_a.yG)(n)))}function Co(...n){const t=(0,_a.yG)(n);return(0,Lr.e)((e,i)=>{(t?Km(n,e,t):Km(n,e)).subscribe(i)})}const ub=new Set;let uu,oM=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):db}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function aM(n){if(!ub.has(n))try{uu||(uu=document.createElement("style"),uu.setAttribute("type","text/css"),document.head.appendChild(uu)),uu.sheet&&(uu.sheet.insertRule(`@media ${n} {body{ }}`,0),ub.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function db(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jB=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Qt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return lM(Rp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let l=Ur(lM(Rp(e)).map(d=>this._registerQuery(d).observable));return l=Km(l.pipe(Ln(1)),l.pipe(Wm(1),Mp(0))),l.pipe((0,It.U)(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:v,query:E})=>{p.matches=p.matches||v,p.breakpoints[E]=v}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new Vr.y(d=>{const p=v=>this._zone.run(()=>d.next(v));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Co(i),(0,It.U)(({matches:d})=>({query:e,matches:d})),Br(this._destroySubject)),mql:i};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oM),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lM(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class pb extends class fb{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Qt.x,this._typeaheadSubscription=sr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Qt.x,this.change=new Qt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,qi.b)(e=>this._pressedLetters.push(e)),Mp(t),Oi(()=>this._pressedLetters.length>0),(0,It.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,d=i[l];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Sp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Jm=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function yM(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function mM(n){try{return n.frameElement}catch{return null}}(function bx(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===vx(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=vx(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function CM(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function EM(n){return!function _M(n){return function bM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function _x(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function vM(n){return function wM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Xm(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xm(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vx(n){if(!Xm(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class xM{constructor(t,e,i,r,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ln(1)).subscribe(t)}}let gb=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new xM(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Jm),s.LFG(s.R0b),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ex(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const IM=new s.OlP("cdk-input-modality-detector-options"),xx={ignoreKeys:[18,17,224,91,16]},Ed=_l({passive:!0,capture:!0});let AM=(()=>{class n{constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new gr(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(p=>p===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_o(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mb(d)?"keyboard":"mouse"),this._mostRecentTarget=_o(d))},this._onTouchstart=d=>{Ex(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_o(d))},this._options={...xx,...l},this.modalityDetected=this._modality.pipe(Wm(1)),this.modalityChanged=this.modalityDetected.pipe(Tl()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ed),r.addEventListener("mousedown",this._onMousedown,Ed),r.addEventListener("touchstart",this._onTouchstart,Ed)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ed),document.removeEventListener("mousedown",this._onMousedown,Ed),document.removeEventListener("touchstart",this._onTouchstart,Ed))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b),s.LFG(Z),s.LFG(IM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MM=new s.OlP("cdk-focus-monitor-default-options"),Ec=_l({passive:!0,capture:!0});let Js=(()=>{class n{constructor(e,i,r,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Qt.x,this._rootNodeFocusAndBlurListener=p=>{for(let E=_o(p);E;E=E.parentElement)"focus"===p.type?this._onFocus(p,E):this._onBlur(p,E)},this._document=l,this._detectionMode=d?.detectionMode||0}monitor(e,i=!1){const r=Cc(e);if(!this._platform.isBrowser||1!==r.nodeType)return ot(null);const l=bl(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const p={checkChildren:i,subject:new Qt.x,rootNode:l};return this._elementInfo.set(r,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const i=Cc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=Cc(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,v])=>this._originChanged(p,i,v)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=_o(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ec),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ec)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Br(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ec),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ec),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const l=e.labels;if(l)for(let d=0;d<l.length;d++)if(l[d].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(xi),s.LFG(AM),s.LFG(Z,8),s.LFG(MM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RM=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new s.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Js))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const Ix="cdk-high-contrast-black-on-white",kM="cdk-high-contrast-white-on-black",Ax="cdk-high-contrast-active";let yb=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(jB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ax,Ix,kM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Ax,Ix):2===i&&e.add(Ax,kM)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OM=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yb))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ym]}),n})();var mi=N(5577),_b=N(1144),Ho=N(576);const PM=["addListener","removeListener"],Sx=["addEventListener","removeEventListener"],FM=["on","off"];function ba(n,t,e,i){if((0,Ho.m)(e)&&(i=e,e=void 0),i)return ba(n,t,e).pipe(Cd(i));const[r,l]=function bb(n){return(0,Ho.m)(n.addEventListener)&&(0,Ho.m)(n.removeEventListener)}(n)?Sx.map(d=>p=>n[d](t,p,e)):function NM(n){return(0,Ho.m)(n.addListener)&&(0,Ho.m)(n.removeListener)}(n)?PM.map(Tx(n,t)):function vb(n){return(0,Ho.m)(n.on)&&(0,Ho.m)(n.off)}(n)?FM.map(Tx(n,t)):[];if(!r&&(0,_b.z)(n))return(0,mi.z)(d=>ba(d,t,e))((0,wc.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Vr.y(d=>{const p=(...v)=>d.next(1<v.length?v:v[0]);return r(p),()=>l(p)})}function Tx(n,t){return e=>i=>n[e](t,i)}var wb=N(4408);const ty={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ty;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new sr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ty;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ty;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var ny=N(7565);new class Mx extends ny.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Gh extends wb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ty.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(ty.cancelAnimationFrame(e),t._scheduled=void 0)}});let Cb,BM=1;const iy={};function kx(n){return n in iy&&(delete iy[n],!0)}const VM={setImmediate(n){const t=BM++;return iy[t]=!0,Cb||(Cb=Promise.resolve()),Cb.then(()=>kx(t)&&n()),t},clearImmediate(n){kx(n)}},{setImmediate:Ox,clearImmediate:Eb}=VM,kp={setImmediate(...n){const{delegate:t}=kp;return(t?.setImmediate||Ox)(...n)},clearImmediate(n){const{delegate:t}=kp;return(t?.clearImmediate||Eb)(n)},delegate:void 0};new class UM extends ny.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class xb extends wb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=kp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(kp.clearImmediate(e),t._scheduled=void 0)}});var xd=N(3532);function Db(n=0,t,e=Tp.P){let i=-1;return null!=t&&((0,xd.K)(t)?e=t:i=t),new Vr.y(r=>{let l=function Fx(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}function Nx(n,t=Tp.z){return function Px(n){return(0,Lr.e)((t,e)=>{let i=!1,r=null,l=null,d=!1;const p=()=>{if(l?.unsubscribe(),l=null,i){i=!1;const E=r;r=null,e.next(E)}d&&e.complete()},v=()=>{l=null,d&&e.complete()};t.subscribe((0,or.x)(e,E=>{i=!0,r=E,l||(0,wc.Xf)(n(E)).subscribe(l=(0,or.x)(e,p,v))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>Db(n,t))}const WB=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function ry(){return(0,s.f3M)(Z)}}),HM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $o=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Lx(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?HM.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(WB,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),du=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Op=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Qt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Vr.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Nx(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ot()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Oi(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Cc(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ba(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(xi),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hh=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Qt.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Nx(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[du,jx,du,jx]}),n})();class sy{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Tb extends sy{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class oy extends sy{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class XM extends sy{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class on{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Tb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof oy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof XM?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gx extends on{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const p=d.element,v=this._document.createComment("dom-portal");p.parentNode.insertBefore(v,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(p,v)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let nR=(()=>{class n extends oy{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[s.qOj]}),n})(),Dd=(()=>{class n extends on{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=l=>{const d=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(Z))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),$h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var xc=N(6451);const iR=vl();class Hx{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wi(-this._previousScrollPosition.left),t.style.top=Wi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iR&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iR&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Id{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $x{enable(){}disable(){}attach(){}}function Pp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ay(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class sR{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Pp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let oV=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new $x,this.close=d=>new Id(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Hx(this._viewportRuler,this._document),this.reposition=d=>new sR(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Op),s.LFG(Hh),s.LFG(s.R0b),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oR{constructor(t){if(this.scrollStrategy=new $x,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class zx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ad=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aR=(()=>{class n extends Ad{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const p=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(r)):p.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qx=(()=>{class n extends Ad{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=_o(l)},this._clickListener=l=>{const d=_o(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let E=v.length-1;E>-1;E--){const M=v[E];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(d)||M.overlayElement.contains(p))break;const k=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(l)):k.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z),s.LFG(xi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sd=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||wl()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(e),wl()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z),s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fp{constructor(t,e,i,r,l,d,p,v,E,M=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=p,this._location=v,this._outsideClickDispatcher=E,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new Qt.x,this._attachments=new Qt.x,this._detachments=new Qt.x,this._locationChanges=sr.w0.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new Qt.x,this._outsidePointerEvents=new Qt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Wi(this._config.width),t.height=Wi(this._config.height),t.minWidth=Wi(this._config.minWidth),t.minHeight=Wi(this._config.minHeight),t.maxWidth=Wi(this._config.maxWidth),t.maxHeight=Wi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Rp(e||[]).filter(l=>!!l);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Br((0,xc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Mb="cdk-overlay-connected-position-bounding-box",lR=/([A-Za-z%]+)$/;class cR{constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qt.x,this._resizeSubscription=sr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Mb),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let p of this._preferredPositions){let v=this._getOriginPoint(t,r,p),E=this._getOverlayPoint(v,e,p),M=this._getOverlayFit(E,e,i,p);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,v);this._canFitWithFlexibleDimensions(M,E,i)?l.push({position:p,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,p)}):(!d||d.overlayFit.visibleArea<M.visibleArea)&&(d={overlayFit:M,overlayPoint:E,originPoint:v,position:p,overlayRect:e})}if(l.length){let p=null,v=-1;for(const E of l){const M=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);M>v&&(v=M,p=E)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Td(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mb),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,l;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;r="start"==i.originX?d:p}return e.left<0&&(r-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:r,y:l}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=Zx(e);let{x:d,y:p}=t,v=this._getOffset(r,"x"),E=this._getOffset(r,"y");v&&(d+=v),E&&(p+=E);let z=0-p,W=p+l.height-i.height,te=this._subtractOverflows(l.width,0-d,d+l.width-i.width),Ee=this._subtractOverflows(l.height,z,W),Be=te*Ee;return{visibleArea:Be,isCompletelyWithinViewport:l.width*l.height===Be,fitsInViewportVertically:Ee===l.height,fitsInViewportHorizontally:te==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,d=Wx(this._overlayRef.getConfig().minHeight),p=Wx(this._overlayRef.getConfig().minWidth),E=t.fitsInViewportHorizontally||null!=p&&p<=l;return(t.fitsInViewportVertically||null!=d&&d<=r)&&E}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Zx(e),l=this._viewportRect,d=Math.max(t.x+r.width-l.width,0),p=Math.max(t.y+r.height-l.height,0),v=Math.max(l.top-i.top-t.y,0),E=Math.max(l.left-i.left-t.x,0);let M=0,k=0;return M=r.width<=l.width?E||-d:t.x<this._viewportMargin?l.left-i.left-t.x:0,k=r.height<=l.height?v||-p:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:M,y:k},{x:t.x+M,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new zx(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,d,p,M,k,z;if("top"===e.overlayY)d=t.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=i.height-t.y+2*this._viewportMargin,l=i.height-p+this._viewportMargin;else{const W=Math.min(i.bottom-t.y+i.top,t.y),te=this._lastBoundingBoxSize.height;l=2*W,d=t.y-W,l>te&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-te/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)z=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)k=t.x,M=i.right-t.x;else{const W=Math.min(i.right-t.x+i.left,t.x),te=this._lastBoundingBoxSize.width;M=2*W,k=t.x-W,M>te&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-te/2)}return{top:d,left:k,bottom:p,right:z,width:M,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=Wi(i.height),r.top=Wi(i.top),r.bottom=Wi(i.bottom),r.width=Wi(i.width),r.left=Wi(i.left),r.right=Wi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=Wi(l)),d&&(r.maxWidth=Wi(d))}this._lastBoundingBoxSize=i,Td(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Td(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Td(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();Td(i,this._getExactOverlayY(e,t,M)),Td(i,this._getExactOverlayX(e,t,M))}else i.position="static";let p="",v=this._getOffset(e,"x"),E=this._getOffset(e,"y");v&&(p+=`translateX(${v}px) `),E&&(p+=`translateY(${E}px)`),i.transform=p.trim(),d.maxHeight&&(r?i.maxHeight=Wi(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=Wi(d.maxWidth):l&&(i.maxWidth="")),Td(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=Wi(l.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=Wi(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ay(t,i),isOriginOutsideView:Pp(t,i),isOverlayClipped:ay(e,i),isOverlayOutsideView:Pp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Rp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Td(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Wx(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(lR);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Zx(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Rb="cdk-global-overlay-wrapper";class Yx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Rb),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:p}=i,v=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==l&&"100vh"!==l||p&&"100%"!==p&&"100vh"!==p),M=this._xPosition,k=this._xOffset,z="rtl"===this._overlayRef.getConfig().direction;let W="",te="",Ee="";v?Ee="flex-start":"center"===M?(Ee="center",z?te=k:W=k):z?"left"===M||"end"===M?(Ee="flex-end",W=k):("right"===M||"start"===M)&&(Ee="flex-start",te=k):"left"===M||"start"===M?(Ee="flex-start",W=k):("right"===M||"end"===M)&&(Ee="flex-end",te=k),t.position=this._cssPosition,t.marginLeft=v?"0":W,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=v?"0":te,e.justifyContent=Ee,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Rb),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let kb=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new Yx}flexibleConnectedTo(e){return new cR(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Hh),s.LFG(Z),s.LFG(xi),s.LFG(Sd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uV=0,hu=(()=>{class n{constructor(e,i,r,l,d,p,v,E,M,k,z,W){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=p,this._ngZone=v,this._document=E,this._directionality=M,this._location=k,this._outsideClickDispatcher=z,this._animationsModuleType=W}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new oR(e);return d.direction=d.direction||this._directionality.value,new Fp(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+uV++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new Gx(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oV),s.LFG(Sd),s.LFG(s._Vd),s.LFG(kb),s.LFG(aR),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(Z),s.LFG($o),s.LFG(Ne),s.LFG(qx),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ly={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[hu],useFactory:function Kx(n){return()=>n.scrollStrategies.reposition()}};let qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[hu,ly],imports:[du,$h,zo,zo]}),n})();function cy(n){return new Vr.y(t=>{(0,wc.Xf)(n()).subscribe(t)})}function Ob(n,t){}class Wo{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Pb=(()=>{class n extends on{constructor(e,i,r,l,d,p,v,E){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=l,this._interactivityChecker=d,this._ngZone=p,this._overlayRef=v,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>{this._portalOutlet.hasAttached();const k=this._portalOutlet.attachDomPortal(M);return this._contentAttached(),k},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=gs(),l=this._elementRef.nativeElement;(!r||r===this._document.body||r===l||l.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=gs();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=gs())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gb),s.Y36(Z,8),s.Y36(Wo),s.Y36(Jm),s.Y36(s.R0b),s.Y36(Fp),s.Y36(Js))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Dd,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Ob,0,0,"ng-template",0)},dependencies:[Dd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Lp{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Qt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sp(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const fR=new s.OlP("DialogScrollStrategy"),Jx=new s.OlP("DialogData"),fV=new s.OlP("DefaultDialogConfig"),dy={provide:fR,deps:[hu],useFactory:function uy(n){return()=>n.scrollStrategies.block()}};let Fb=0,hy=(()=>{class n{constructor(e,i,r,l,d,p){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qt.x,this._afterOpenedAtThisLevel=new Qt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=cy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Co(void 0))),this._scrollStrategy=p}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Wo,...i}).id=i.id||"cdk-dialog-"+Fb++,i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),d=this._overlay.create(l),p=new Lp(d,i),v=this._attachContainer(d,p,i);return p.containerInstance=v,this._attachDialogContent(e,p,v,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){Bp(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Bp(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Bp(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new oR({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const l=r.injector||r.viewContainerRef?.injector,d=[{provide:Wo,useValue:r},{provide:Lp,useValue:i},{provide:Fp,useValue:e}];let p;r.container?"function"==typeof r.container?p=r.container:(p=r.container.type,d.push(...r.container.providers(r))):p=Pb;const v=new Tb(p,r.viewContainerRef,s.zs3.create({parent:l||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(v).instance}_attachDialogContent(e,i,r,l){if(e instanceof s.Rgc){const d=this._createInjector(l,i,r,void 0);let p={$implicit:l.data,dialogRef:i};l.templateContext&&(p={...p,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),r.attachTemplatePortal(new oy(e,null,p,d))}else{const d=this._createInjector(l,i,r,this._injector),p=r.attachComponentPortal(new Tb(e,l.viewContainerRef,d,l.componentFactoryResolver));i.componentInstance=p.instance}}_createInjector(e,i,r,l){const d=e.injector||e.viewContainerRef?.injector,p=[{provide:Jx,useValue:e.data},{provide:Lp,useValue:i}];return e.providers&&("function"==typeof e.providers?p.push(...e.providers(i,e,r)):p.push(...e.providers)),e.direction&&(!d||!d.get($o,null,s.XFs.Optional))&&p.push({provide:$o,useValue:{value:e.direction,change:ot()}}),s.zs3.create({parent:d||l,providers:p})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,d)=>{l?d.setAttribute("aria-hidden",l):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hu),s.LFG(s.zs3),s.LFG(fV,8),s.LFG(n,12),s.LFG(Sd),s.LFG(fR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Bp(n,t){let e=n.length;for(;e--;)t(n[e])}let pV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[hy,dy],imports:[qo,$h,OM,$h]}),n})();const mR=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function tD(){return!0}});let Di=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!wl()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yb),s.LFG(mR,8),s.LFG(Z))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[du,du]}),n})();function Nb(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=di(t)}}}function zh(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function nD(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=di(t)}}}function _V(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?va(e):this.defaultTabIndex}}}function vV(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let oD=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fy{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rd={enterDuration:225,exitDuration:150},pu=_l({passive:!0}),py=["mousedown","touchstart"],Up=["mouseup","mouseleave","touchend","touchcancel"];class aD{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Cc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...Rd,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function lD(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),p=t-r.left,v=e-r.top,E=l.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=p-d+"px",M.style.top=v-d+"px",M.style.height=2*d+"px",M.style.width=2*d+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(M);const k=window.getComputedStyle(M),W=k.transitionDuration,te="none"===k.transitionProperty||"0s"===W||"0s, 0s"===W,Ee=new fy(this,M,i,te);M.style.transform="scale3d(1, 1, 1)",Ee.state=0,i.persistent||(this._mostRecentTransientRipple=Ee);let Be=null;return!te&&(E||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ze=()=>this._finishRippleTransition(Ee),ht=()=>this._destroyRipple(Ee);M.addEventListener("transitionend",Ze),M.addEventListener("transitioncancel",ht),Be={onTransitionEnd:Ze,onTransitionCancel:ht}}),this._activeRipples.set(Ee,Be),(te||!E)&&this._finishRippleTransition(Ee),Ee}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Rd,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Cc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(py))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Up),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=mb(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ex(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,pu)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(py.forEach(t=>{this._triggerElement.removeEventListener(t,this,pu)}),this._pointerUpEventsRegistered&&Up.forEach(t=>{this._triggerElement.removeEventListener(t,this,pu)}))}}const Bb=new s.OlP("mat-ripple-global-options");let kd=(()=>{class n{constructor(e,i,r,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new aD(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xi),s.Y36(Bb,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),gy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Di]}),n})();class Vb{}const Dc="*";function Ub(n,t){return{type:7,name:n,definitions:t,options:{}}}function Od(n,t=null){return{type:4,styles:t,timings:n}}function dD(n,t=null){return{type:3,steps:n,options:t}}function jb(n,t=null){return{type:2,steps:n,options:t}}function Eo(n){return{type:6,styles:n,offset:null}}function qh(n,t,e){return{type:0,name:n,styles:t,options:e}}function Pd(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function wa(n=null){return{type:9,options:n}}function fD(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function AR(n){Promise.resolve().then(n)}class Wh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class pD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?AR(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==l&&this._onFinish()}),d.onDestroy(()=>{++i==l&&this._onDestroy()}),d.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function SR(n,t){}const gu={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},TR={dialogContainer:Ub("dialogContainer",[qh("void, exit",Eo({opacity:0,transform:"scale(0.7)"})),qh("enter",Eo({transform:"none"})),Pd("* => enter",dD([Od("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Eo({transform:"none",opacity:1})),fD("@*",wa(),{optional:!0})]),gu),Pd("* => void, * => exit",dD([Od("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Eo({opacity:0})),fD("@*",wa(),{optional:!0})]),gu)])};class my{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=gu.params.enterAnimationDuration,this.exitAnimationDuration=gu.params.exitAnimationDuration}}let yy=(()=>{class n extends Pb{constructor(e,i,r,l,d,p,v,E){super(e,i,r,l,d,p,v,E),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gb),s.Y36(Z,8),s.Y36(my),s.Y36(Jm),s.Y36(s.R0b),s.Y36(Fp),s.Y36(Js))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),Hb=(()=>{class n extends yy{constructor(e,i,r,l,d,p,v,E,M){super(e,i,r,l,d,p,v,M),this._changeDetectorRef=E,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||gu.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||gu.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(gb),s.Y36(Z,8),s.Y36(my),s.Y36(Jm),s.Y36(s.R0b),s.Y36(Fp),s.Y36(s.sBO),s.Y36(Js))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,SR,0,0,"ng-template",0)},dependencies:[Dd],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[TR.dialogContainer]}}),n})();class mu{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Qt.x,this._beforeClosed=new Qt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Oi(r=>"opened"===r.state),Ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Oi(r=>"closed"===r.state),Ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,xc.T)(this.backdropClick(),this.keydownEvents().pipe(Oi(r=>27===r.keyCode&&!this.disableClose&&!Sp(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function kV(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Oi(e=>"closing"===e.state),Ln(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Zh=new s.OlP("MatDialogData"),MR=new s.OlP("mat-dialog-default-options"),$b=new s.OlP("mat-dialog-scroll-strategy"),mD={provide:$b,deps:[hu],useFactory:function gD(n){return()=>n.scrollStrategies.block()}};let zb=0,Ic=(()=>{class n{constructor(e,i,r,l,d,p,v,E,M,k){this._overlay=e,this._defaultOptions=r,this._parentDialog=l,this._dialogRefConstructor=v,this._dialogContainerType=E,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Qt.x,this._afterOpenedAtThisLevel=new Qt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=cy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Co(void 0))),this._scrollStrategy=p,this._dialog=i.get(hy)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new my,...i}).id=i.id||`${this._idPrefix}${zb++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:my,useValue:i},{provide:Wo,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(d,p,v)=>(r=new this._dialogRefConstructor(d,i,v),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:v},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=l.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Yo=(()=>{class n extends Ic{constructor(e,i,r,l,d,p,v,E){super(e,i,l,p,v,d,mu,Hb,Zh,E)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(hu),s.LFG(s.zs3),s.LFG(Ne,8),s.LFG(MR,8),s.LFG($b),s.LFG(n,12),s.LFG(Sd),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_y=0,qb=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+_y++}ngOnInit(){this._dialogRef||(this._dialogRef=function OR(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu,8),s.Y36(s.SBq),s.Y36(Yo))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&s.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),PR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Yo,mD],imports:[pV,qo,$h,Di,Di]}),n})();const jp=["*",[["mat-toolbar-row"]]],FR=["*","mat-toolbar-row"],OV=zh(class{constructor(n){this._elementRef=n}});let NR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Ac=(()=>{class n extends OV{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xi),s.Y36(Z))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,NR,5),2&e){let l;s.iGM(l=s.CRH())&&(i._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:FR,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(jp),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Di]}),n})();function Yh(n,t){const e=(0,Ho.m)(n)?n:()=>n,i=r=>r.error(e());return new Vr.y(t?r=>t.schedule(i,0,r):i)}function Wb(...n){const t=(0,_a.jO)(n),{args:e,keys:i}=px(n),r=new Vr.y(l=>{const{length:d}=e;if(!d)return void l.complete();const p=new Array(d);let v=d,E=d;for(let M=0;M<d;M++){let k=!1;(0,wc.Xf)(e[M]).subscribe((0,or.x)(l,z=>{k||(k=!0,E--),p[M]=z},()=>v--,void 0,()=>{(!v||!k)&&(E||l.next(i?mx(i,p):p),l.complete())}))}});return t?r.pipe(Cd(t)):r}function Ca(n){return(0,Lr.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,or.x)(e,void 0,void 0,d=>{l=(0,wc.Xf)(n(d,Ca(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}function by(n){return(0,Lr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var wy=N(3099);function yu(n,t){return(0,Ho.m)(t)?(0,mi.z)(n,t,1):(0,mi.z)(n,1)}class _D{}class vD{}class Sc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),l=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Sc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Sc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Sc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===l.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class BR{encodeKey(t){return Kh(t)}encodeValue(t){return Kh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Fd=/%(\d[a-f0-9])/gi,NV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kh(n){return encodeURIComponent(n).replace(Fd,(t,e)=>NV[e]??t)}function Ey(n){return`${n}`}class _u{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new BR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Cy(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,p]=-1==l?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,l)),t.decodeValue(r.slice(l+1))],v=e.get(d)||[];v.push(p),e.set(d,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Ey):[Ey(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _u({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ey(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Ey(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VR{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Qh(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function is(n){return typeof Blob<"u"&&n instanceof Blob}function vu(n){return typeof FormData<"u"&&n instanceof FormData}class ys{constructor(t,e,i,r){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Ml(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Sc),this.context||(this.context=new VR),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new _u,this.urlWithParams=e}serializeBody(){return null===this.body?null:Qh(this.body)||is(this.body)||vu(this.body)||function xy(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _u?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vu(this.body)?null:is(this.body)?this.body.type||null:Qh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _u?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,E=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((k,z)=>k.set(z,t.setHeaders[z]),v)),t.setParams&&(E=Object.keys(t.setParams).reduce((k,z)=>k.set(z,t.setParams[z]),E)),new ys(e,i,l,{params:E,headers:v,context:M,reportProgress:p,responseType:r,withCredentials:d})}}var Zi=(()=>((Zi=Zi||{})[Zi.Sent=0]="Sent",Zi[Zi.UploadProgress=1]="UploadProgress",Zi[Zi.ResponseHeader=2]="ResponseHeader",Zi[Zi.DownloadProgress=3]="DownloadProgress",Zi[Zi.Response=4]="Response",Zi[Zi.User=5]="User",Zi))();class bu{constructor(t,e=200,i="OK"){this.headers=t.headers||new Sc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wu extends bu{constructor(t={}){super(t),this.type=Zi.ResponseHeader}clone(t={}){return new wu({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tc extends bu{constructor(t={}){super(t),this.type=Zi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Tc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nd extends bu{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Cu(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Eu=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let l;if(e instanceof ys)l=e;else{let v,E;v=r.headers instanceof Sc?r.headers:new Sc(r.headers),r.params&&(E=r.params instanceof _u?r.params:new _u({fromObject:r.params})),l=new ys(e,i,void 0!==r.body?r.body:null,{headers:v,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=ot(l).pipe(yu(v=>this.handler.handle(v)));if(e instanceof ys||"events"===r.observe)return d;const p=d.pipe(Oi(v=>v instanceof Tc));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,It.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,It.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,It.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return p.pipe((0,It.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new _u).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Cu(r,i))}post(e,i,r={}){return this.request("POST",e,Cu(r,i))}put(e,i,r={}){return this.request("PUT",e,Cu(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_D))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ld{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Bd=new s.OlP("HTTP_INTERCEPTORS");let Jh=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YR=/^\)\]\}',?\n/;let Zb=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vr.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((W,te)=>r.setRequestHeader(W,te.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const W=e.detectContentTypeHeader();null!==W&&r.setRequestHeader("Content-Type",W)}if(e.responseType){const W=e.responseType.toLowerCase();r.responseType="json"!==W?W:"text"}const l=e.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const W=r.statusText||"OK",te=new Sc(r.getAllResponseHeaders()),Ee=function KR(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return d=new wu({headers:te,status:r.status,statusText:W,url:Ee}),d},v=()=>{let{headers:W,status:te,statusText:Ee,url:Be}=p(),Ze=null;204!==te&&(Ze=typeof r.response>"u"?r.responseText:r.response),0===te&&(te=Ze?200:0);let ht=te>=200&&te<300;if("json"===e.responseType&&"string"==typeof Ze){const Ct=Ze;Ze=Ze.replace(YR,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(bt){Ze=Ct,ht&&(ht=!1,Ze={error:bt,text:Ze})}}ht?(i.next(new Tc({body:Ze,headers:W,status:te,statusText:Ee,url:Be||void 0})),i.complete()):i.error(new Nd({error:Ze,headers:W,status:te,statusText:Ee,url:Be||void 0}))},E=W=>{const{url:te}=p(),Ee=new Nd({error:W,status:r.status||0,statusText:r.statusText||"Unknown Error",url:te||void 0});i.error(Ee)};let M=!1;const k=W=>{M||(i.next(p()),M=!0);let te={type:Zi.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(te.total=W.total),"text"===e.responseType&&!!r.responseText&&(te.partialText=r.responseText),i.next(te)},z=W=>{let te={type:Zi.UploadProgress,loaded:W.loaded};W.lengthComputable&&(te.total=W.total),i.next(te)};return r.addEventListener("load",v),r.addEventListener("error",E),r.addEventListener("timeout",E),r.addEventListener("abort",E),e.reportProgress&&(r.addEventListener("progress",k),null!==l&&r.upload&&r.upload.addEventListener("progress",z)),r.send(l),i.next({type:Zi.Sent}),()=>{r.removeEventListener("error",E),r.removeEventListener("abort",E),r.removeEventListener("load",v),r.removeEventListener("timeout",E),e.reportProgress&&(r.removeEventListener("progress",k),null!==l&&r.upload&&r.upload.removeEventListener("progress",z)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ua))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Yb=new s.OlP("XSRF_COOKIE_NAME"),Dy=new s.OlP("XSRF_HEADER_NAME");class Iy{}let Kb=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=zc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z),s.LFG(s.Lbi),s.LFG(Yb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qb=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Iy),s.LFG(Dy))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ay=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Bd,[]);this.chain=i.reduceRight((r,l)=>new Ld(r,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vD),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),QR=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Qb,useClass:Jh}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Yb,useValue:e.cookieName}:[],e.headerName?{provide:Dy,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Qb,{provide:Bd,useExisting:Qb,multi:!0},{provide:Iy,useClass:Kb},{provide:Yb,useValue:"XSRF-TOKEN"},{provide:Dy,useValue:"X-XSRF-TOKEN"}]}),n})(),Sy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Eu,{provide:_D,useClass:Ay},Zb,{provide:vD,useExisting:Zb}],imports:[QR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const CD=["*"];let Xh;function ef(n){return function ED(){if(void 0===Xh&&(Xh=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Xh=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Xh}()?.createHTML(n)||n}function Ty(n){return Error(`Unable to find icon with the name "${n}"`)}function xD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function t0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class xu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Gp=(()=>{class n{constructor(e,i,r,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,l){return this._addSvgIconConfig(e,i,new xu(r,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,l){const d=this._sanitizer.sanitize(s.q3G.HTML,r);if(!d)throw t0(r);const p=ef(d);return this._addSvgIconConfig(e,i,new xu("",p,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new xu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const l=this._sanitizer.sanitize(s.q3G.HTML,i);if(!l)throw t0(i);const d=ef(l);return this._addSvgIconSetConfig(e,new xu("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw xD(e);const r=this._cachedIconsByUrl.get(i);return r?ot(Hp(r)):this._loadSvgIconFromConfig(new xu(e,null)).pipe((0,qi.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,It.U)(l=>Hp(l)))}getNamedSvgIcon(e,i=""){const r=n0(i,e);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Yh(Ty(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ot(Hp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,It.U)(i=>Hp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ot(r):Wb(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Ca(p=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(E)),ot(null)})))).pipe((0,It.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw Ty(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(d,e,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,qi.b)(i=>e.svgText=i),(0,It.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ot(null):this._fetchIcon(e).pipe((0,qi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const p=this._svgElementFromString(ef("<svg></svg>"));return p.appendChild(d),this._setSvgAttributes(p,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ef("<svg></svg>")),r=e.attributes;for(let l=0;l<r.length;l++){const{name:d,value:p}=r[l];"id"!==d&&i.setAttribute(d,p)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,l=r?.withCredentials??!1;if(!this._httpClient)throw function e0(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!d)throw xD(i);const p=this._inProgressUrlFetches.get(d);if(p)return p;const v=this._httpClient.get(d,{responseType:"text",withCredentials:l}).pipe((0,It.U)(E=>ef(E)),by(()=>this._inProgressUrlFetches.delete(d)),(0,wy.B)());return this._inProgressUrlFetches.set(d,v),v}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(n0(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,e);if(l)return ID(l)?new xu(l.url,null,l.options):new xu(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Eu,8),s.LFG(yo),s.LFG(Z,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hp(n){return n.cloneNode(!0)}function n0(n,t){return n+":"+t}function ID(n){return!(!n.url||!n.options)}const r0=zh(class{constructor(n){this._elementRef=n}}),AD=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),SD=new s.OlP("mat-icon-location",{providedIn:"root",factory:function TD(){const n=(0,s.f3M)(Z),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),s0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],MD=s0.map(n=>`[${n}]`).join(", "),RD=/^url\(['"]?#(.*?)['"]?\)$/;let Ea=(()=>{class n extends r0{constructor(e,i,r,l,d,p){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=d,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=sr.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=di(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(d=>{l.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(MD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)s0.forEach(d=>{const p=i[l],v=p.getAttribute(d),E=v?v.match(RD):null;if(E){let M=r.get(p);M||(M=[],r.set(p,M)),M.push({name:d,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ln(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Gp),s.$8M("aria-hidden"),s.Y36(SD),s.Y36(s.qLn),s.Y36(AD,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:CD,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),kD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Di]}),n})();const BV=["mat-button",""],XR=["*"],ek=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Tr=zh(Nb(nD(class{constructor(n){this._elementRef=n}})));let Ps=(()=>{class n extends Tr{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of ek)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Js),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(kd,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:BV,ngContentSelectors:XR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[kd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[gy,Di,Di]}),n})();N(5881);var ik=N(4159),PD=N.n(ik);N(2125),N(5473),N(9812),N(7792),N(2910),function(){(function(){var n,e,t="function"==typeof Object.create?Object.create:function(o){function h(){}return h.prototype=o,new h};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var i;e:{var l={};try{l.__proto__={xb:!0},i=l.xb;break e}catch{}i=!1}e=i?function(o,h){if(o.__proto__=h,o.__proto__!==h)throw new TypeError(o+" is not extensible");return o}:null}var d=e;function p(o,h){if(o.prototype=t(h.prototype),o.prototype.constructor=o,d)d(o,h);else for(var m in h)if("prototype"!=m)if(Object.defineProperties){var b=Object.getOwnPropertyDescriptor(h,m);b&&Object.defineProperty(o,m,b)}else o[m]=h[m];o.K=h.prototype}var v="function"==typeof Object.defineProperties?Object.defineProperty:function(o,h,m){o!=Array.prototype&&o!=Object.prototype&&(o[h]=m.value)},E=typeof window<"u"&&window===this?this:typeof global<"u"&&null!=global?global:this;function M(o,h){if(h){var m=E;o=o.split(".");for(var b=0;b<o.length-1;b++){var I=o[b];I in m||(m[I]={}),m=m[I]}(h=h(b=m[o=o[o.length-1]]))!=b&&null!=h&&v(m,o,{configurable:!0,writable:!0,value:h})}}M("Object.is",function(o){return o||function(h,m){return h===m?0!==h||1/h==1/m:h!=h&&m!=m}}),M("Array.prototype.includes",function(o){return o||function(h,m){var b=this;b instanceof String&&(b=String(b));var I=b.length;for(0>(m=m||0)&&(m=Math.max(m+I,0));m<I;m++){var S=b[m];if(S===h||Object.is(S,h))return!0}return!1}});var k=this;function z(o){return void 0!==o}function W(o){return"string"==typeof o}var te=/^[\w+/_-]+[=]{0,2}$/,Ee=null;function Be(){}function Ze(o){o.W=void 0,o.Xa=function(){return o.W?o.W:o.W=new o}}function ht(o){var h=typeof o;if("object"==h){if(!o)return"null";if(o instanceof Array)return"array";if(o instanceof Object)return h;var m=Object.prototype.toString.call(o);if("[object Window]"==m)return"object";if("[object Array]"==m||"number"==typeof o.length&&typeof o.splice<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("splice"))return"array";if("[object Function]"==m||typeof o.call<"u"&&typeof o.propertyIsEnumerable<"u"&&!o.propertyIsEnumerable("call"))return"function"}else if("function"==h&&typeof o.call>"u")return"object";return h}function Ct(o){return"array"==ht(o)}function bt(o){var h=ht(o);return"array"==h||"object"==h&&"number"==typeof o.length}function Ft(o){return"function"==ht(o)}function Bt(o){var h=typeof o;return"object"==h&&null!=o||"function"==h}var In="closure_uid_"+(1e9*Math.random()>>>0),Is=0;function Nc(o,h,m){return o.call.apply(o.bind,arguments)}function Lc(o,h,m){if(!o)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,b),o.apply(h,I)}}return function(){return o.apply(h,arguments)}}function Jn(o,h,m){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Nc:Lc).apply(null,arguments)}function Na(o,h){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function Zn(o,h){for(var m in h)o[m]=h[m]}var Yt,Vu=Date.now||function(){return+new Date};function Si(o,h){o=o.split(".");var b,m=k;o[0]in m||typeof m.execScript>"u"||m.execScript("var "+o[0]);for(;o.length&&(b=o.shift());)!o.length&&z(h)?m[b]=h:m=m[b]&&m[b]!==Object.prototype[b]?m[b]:m[b]={}}function rt(o,h){function m(){}m.prototype=h.prototype,o.K=h.prototype,o.prototype=new m,o.prototype.constructor=o,o.vc=function(b,I,S){for(var j=Array(arguments.length-2),le=2;le<arguments.length;le++)j[le-2]=arguments[le];return h.prototype[I].apply(b,j)}}function Dt(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Dt);else{var h=Error().stack;h&&(this.stack=h)}o&&(this.message=String(o))}function kn(o,h){for(var m="",b=(o=o.split("%s")).length-1,I=0;I<b;I++)m+=o[I]+(I<h.length?h[I]:"%s");Dt.call(this,m+o[b])}function _i(o,h){throw new kn("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}rt(Dt,Error),Dt.prototype.name="CustomError",rt(kn,Dt),kn.prototype.name="AssertionError";var La=Array.prototype.indexOf?function(o,h){return Array.prototype.indexOf.call(o,h,void 0)}:function(o,h){if(W(o))return W(h)&&1==h.length?o.indexOf(h,0):-1;for(var m=0;m<o.length;m++)if(m in o&&o[m]===h)return m;return-1},os=Array.prototype.forEach?function(o,h,m){Array.prototype.forEach.call(o,h,m)}:function(o,h,m){for(var b=o.length,I=W(o)?o.split(""):o,S=0;S<b;S++)S in I&&h.call(m,I[S],S,o)},$i=Array.prototype.filter?function(o,h){return Array.prototype.filter.call(o,h,void 0)}:function(o,h){for(var m=o.length,b=[],I=0,S=W(o)?o.split(""):o,j=0;j<m;j++)if(j in S){var le=S[j];h.call(void 0,le,j,o)&&(b[I++]=le)}return b},RT=Array.prototype.map?function(o,h){return Array.prototype.map.call(o,h,void 0)}:function(o,h){for(var m=o.length,b=Array(m),I=W(o)?o.split(""):o,S=0;S<m;S++)S in I&&(b[S]=h.call(void 0,I[S],S,o));return b},ZL=Array.prototype.some?function(o,h){return Array.prototype.some.call(o,h,void 0)}:function(o,h){for(var m=o.length,b=W(o)?o.split(""):o,I=0;I<m;I++)if(I in b&&h.call(void 0,b[I],I,o))return!0;return!1};function hi(o,h){return 0<=La(o,h)}function ju(o,h){var m;return(m=0<=(h=La(o,h)))&&js(o,h),m}function js(o,h){return 1==Array.prototype.splice.call(o,h,1).length}function H5(o){return Array.prototype.concat.apply([],arguments)}function $5(o){var h=o.length;if(0<h){for(var m=Array(h),b=0;b<h;b++)m[b]=o[b];return m}return[]}function Use(o,h,m){return 2>=arguments.length?Array.prototype.slice.call(o,h):Array.prototype.slice.call(o,h,m)}var Ba=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},jse=/&/g,Gse=/</g,Hse=/>/g,$se=/"/g,zse=/'/g,qse=/\x00/g,Wse=/[\x00&<>"']/;function YL(o,h){return o<h?-1:o>h?1:0}function rv(o){return Wse.test(o)&&(-1!=o.indexOf("&")&&(o=o.replace(jse,"&amp;")),-1!=o.indexOf("<")&&(o=o.replace(Gse,"&lt;")),-1!=o.indexOf(">")&&(o=o.replace(Hse,"&gt;")),-1!=o.indexOf('"')&&(o=o.replace($se,"&quot;")),-1!=o.indexOf("'")&&(o=o.replace(zse,"&#39;")),-1!=o.indexOf("\0")&&(o=o.replace(qse,"&#0;"))),o}function z5(o,h,m){for(var b in o)h.call(m,o[b],b,o)}function KL(o){var m,h={};for(m in o)h[m]=o[m];return h}var q5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kT(o,h){for(var m,b,I=1;I<arguments.length;I++){for(m in b=arguments[I])o[m]=b[m];for(var S=0;S<q5.length;S++)m=q5[S],Object.prototype.hasOwnProperty.call(b,m)&&(o[m]=b[m])}}var sv="StopIteration"in k?k.StopIteration:{message:"StopIteration",stack:""};function dm(){}function W5(o){if(o instanceof dm)return o;if("function"==typeof o.ha)return o.ha(!1);if(bt(o)){var h=0,m=new dm;return m.next=function(){for(;;){if(h>=o.length)throw sv;if(h in o)return o[h++];h++}},m}throw Error("Not implemented")}function OT(o,h){this.g={},this.a=[],this.j=this.h=0;var m=arguments.length;if(1<m){if(m%2)throw Error("Uneven number of arguments");for(var b=0;b<m;b+=2)this.set(arguments[b],arguments[b+1])}else if(o)if(o instanceof OT)for(m=o.ja(),b=0;b<m.length;b++)this.set(m[b],o.get(m[b]));else for(b in o)this.set(b,o[b])}function PT(o){if(o.h!=o.a.length){for(var h=0,m=0;h<o.a.length;){var b=o.a[h];hm(o.g,b)&&(o.a[m++]=b),h++}o.a.length=m}if(o.h!=o.a.length){var I={};for(m=h=0;h<o.a.length;)hm(I,b=o.a[h])||(o.a[m++]=b,I[b]=1),h++;o.a.length=m}}function hm(o,h){return Object.prototype.hasOwnProperty.call(o,h)}dm.prototype.next=function(){throw sv},dm.prototype.ha=function(){return this},(n=OT.prototype).la=function(){PT(this);for(var o=[],h=0;h<this.a.length;h++)o.push(this.g[this.a[h]]);return o},n.ja=function(){return PT(this),this.a.concat()},n.clear=function(){this.g={},this.j=this.h=this.a.length=0},n.get=function(o,h){return hm(this.g,o)?this.g[o]:h},n.set=function(o,h){hm(this.g,o)||(this.h++,this.a.push(o),this.j++),this.g[o]=h},n.forEach=function(o,h){for(var m=this.ja(),b=0;b<m.length;b++){var I=m[b],S=this.get(I);o.call(h,S,I,this)}},n.ha=function(o){PT(this);var h=0,m=this.j,b=this,I=new dm;return I.next=function(){if(m!=b.j)throw Error("The map has changed since the iterator was created");if(h>=b.a.length)throw sv;var S=b.a[h++];return o?S:b.g[S]},I};var Kse=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Z5(o,h,m,b){for(var I=m.length;0<=(h=o.indexOf(m,h))&&h<b;){var S=o.charCodeAt(h-1);if(!(38!=S&&63!=S||(S=o.charCodeAt(h+I))&&61!=S&&38!=S&&35!=S))return h;h+=I+1}return-1}var Y5=/#|$/;function FT(o,h){var m=o.search(Y5),b=Z5(o,0,h,m);if(0>b)return null;var I=o.indexOf("&",b);return(0>I||I>m)&&(I=m),b+=h.length+1,decodeURIComponent(o.substr(b,I-b).replace(/\+/g," "))}var Jse=/[?&]($|#)/;function Bf(o,h){var m;this.h=this.A=this.j="",this.C=null,this.s=this.g="",this.i=!1,o instanceof Bf?(this.i=z(h)?h:o.i,QL(this,o.j),this.A=o.A,this.h=o.h,JL(this,o.C),this.g=o.g,XL(this,J5(o.a)),this.s=o.s):o&&(m=String(o).match(Kse))?(this.i=!!h,QL(this,m[1]||"",!0),this.A=HC(m[2]||""),this.h=HC(m[3]||"",!0),JL(this,m[4]),this.g=HC(m[5]||"",!0),XL(this,m[6]||"",!0),this.s=HC(m[7]||"")):(this.i=!!h,this.a=new zC(null,this.i))}function QL(o,h,m){o.j=m?HC(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function JL(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.C=h}else o.C=null}function XL(o,h,m){h instanceof zC?(o.a=h,function roe(o,h){h&&!o.j&&(Vf(o),o.h=null,o.a.forEach(function(m,b){var I=b.toLowerCase();b!=I&&(fm(this,b),fm(this,I),0<m.length&&(this.h=null,this.a.set(ov(this,I),$5(m)),this.g+=m.length))},o)),o.j=h}(o.a,o.i)):(m||(h=$C(h,noe)),o.a=new zC(h,o.i))}function e2(o){return o instanceof Bf?new Bf(o):new Bf(o,void 0)}function HC(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function $C(o,h,m){return W(o)?(o=encodeURI(o).replace(h,Xse),m&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Xse(o){return"%"+((o=o.charCodeAt(0))>>4&15).toString(16)+(15&o).toString(16)}Bf.prototype.toString=function(){var o=[],h=this.j;h&&o.push($C(h,K5,!0),":");var m=this.h;return(m||"file"==h)&&(o.push("//"),(h=this.A)&&o.push($C(h,K5,!0),"@"),o.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.C)&&o.push(":",String(m))),(m=this.g)&&(this.h&&"/"!=m.charAt(0)&&o.push("/"),o.push($C(m,"/"==m.charAt(0)?toe:eoe,!0))),(m=this.a.toString())&&o.push("?",m),(m=this.s)&&o.push("#",$C(m,ioe)),o.join("")};var K5=/[#\/\?@]/g,eoe=/[#\?:]/g,toe=/[#\?]/g,noe=/[#\?@]/g,ioe=/#/g;function zC(o,h){this.g=this.a=null,this.h=o||null,this.j=!!h}function Vf(o){o.a||(o.a=new OT,o.g=0,o.h&&function Qse(o,h){if(o){o=o.split("&");for(var m=0;m<o.length;m++){var b=o[m].indexOf("="),I=null;if(0<=b){var S=o[m].substring(0,b);I=o[m].substring(b+1)}else S=o[m];h(S,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}(o.h,function(h,m){o.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}function fm(o,h){Vf(o),h=ov(o,h),hm(o.a.g,h)&&(o.h=null,o.g-=o.a.get(h).length,hm((o=o.a).g,h)&&(delete o.g[h],o.h--,o.j++,o.a.length>2*o.h&&PT(o)))}function Q5(o,h){return Vf(o),h=ov(o,h),hm(o.a.g,h)}function J5(o){var h=new zC;return h.h=o.h,o.a&&(h.a=new OT(o.a),h.g=o.g),h}function ov(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function pm(o){this.a=e2(o)}function X5(o){return o.a.a.get(qr.Pa)||null}function e$(o,h){h?o.a.a.set(qr.PROVIDER_ID,h):fm(o.a.a,qr.PROVIDER_ID)}(n=zC.prototype).add=function(o,h){Vf(this),this.h=null,o=ov(this,o);var m=this.a.get(o);return m||this.a.set(o,m=[]),m.push(h),this.g+=1,this},n.clear=function(){this.a=this.h=null,this.g=0},n.forEach=function(o,h){Vf(this),this.a.forEach(function(m,b){os(m,function(I){o.call(h,I,b,this)},this)},this)},n.ja=function(){Vf(this);for(var o=this.a.la(),h=this.a.ja(),m=[],b=0;b<h.length;b++)for(var I=o[b],S=0;S<I.length;S++)m.push(h[b]);return m},n.la=function(o){Vf(this);var h=[];if(W(o))Q5(this,o)&&(h=H5(h,this.a.get(ov(this,o))));else{o=this.a.la();for(var m=0;m<o.length;m++)h=H5(h,o[m])}return h},n.set=function(o,h){return Vf(this),this.h=null,Q5(this,o=ov(this,o))&&(this.g-=this.a.get(o).length),this.a.set(o,[h]),this.g+=1,this},n.get=function(o,h){return o&&0<(o=this.la(o)).length?String(o[0]):h},n.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var o=[],h=this.a.ja(),m=0;m<h.length;m++){var b=h[m],I=encodeURIComponent(String(b));b=this.la(b);for(var S=0;S<b.length;S++){var j=I;""!==b[S]&&(j+="="+encodeURIComponent(String(b[S]))),o.push(j)}}return this.h=o.join("&")},pm.prototype.toString=function(){return this.a.toString()};var av,qr={Pa:"ui_auid",lc:"apiKey",Qa:"ui_sd",ub:"mode",$a:"oobCode",PROVIDER_ID:"ui_pid",Sa:"ui_sid",vb:"tenantId"};e:{var t$=k.navigator;if(t$){var n$=t$.userAgent;if(n$){av=n$;break e}}av=""}function On(o){return-1!=av.indexOf(o)}function i$(){return(On("Chrome")||On("CriOS"))&&!On("Edge")}function t2(o){return t2[" "](o),o}t2[" "]=Be;var NT,o,r$=On("Opera"),Er=On("Trident")||On("MSIE"),Uf=On("Edge"),loe=Uf||Er,Bc=On("Gecko")&&!(-1!=av.toLowerCase().indexOf("webkit")&&!On("Edge"))&&!(On("Trident")||On("MSIE"))&&!On("Edge"),Mo=-1!=av.toLowerCase().indexOf("webkit")&&!On("Edge"),coe=Mo&&On("Mobile"),jf=On("Macintosh");function s$(){var o=k.document;return o?o.documentMode:void 0}e:{var n2="",r2=(o=av,Bc?/rv:([^\);]+)(\)|;)/.exec(o):Uf?/Edge\/([\d\.]+)/.exec(o):Er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o):Mo?/WebKit\/(\S+)/.exec(o):r$?/(?:Version)[ \/]?(\S+)/.exec(o):void 0);if(r2&&(n2=r2?r2[1]:""),Er){var s2=s$();if(null!=s2&&s2>parseFloat(n2)){NT=String(s2);break e}}NT=n2}var uoe={};function gm(o){return function aoe(o,h){var m=uoe;return Object.prototype.hasOwnProperty.call(m,o)?m[o]:m[o]=h(o)}(o,function(){for(var h=0,m=Ba(String(NT)).split("."),b=Ba(String(o)).split("."),I=Math.max(m.length,b.length),S=0;0==h&&S<I;S++){var j=m[S]||"",le=b[S]||"";do{if(j=/(\d*)(\D*)(.*)/.exec(j)||["","","",""],le=/(\d*)(\D*)(.*)/.exec(le)||["","","",""],0==j[0].length&&0==le[0].length)break;h=YL(0==j[1].length?0:parseInt(j[1],10),0==le[1].length?0:parseInt(le[1],10))||YL(0==j[2].length,0==le[2].length)||YL(j[2],le[2]),j=j[3],le=le[3]}while(0==h)}return 0<=h})}var qC,o$=k.document;function lv(o,h){this.a=o===l$&&h||"",this.g=a$}qC=o$&&Er?s$()||("CSS1Compat"==o$.compatMode?parseInt(NT,10):5):void 0,lv.prototype.ma=!0,lv.prototype.ka=function(){return this.a},lv.prototype.toString=function(){return"Const{"+this.a+"}"};var a$={},l$={};function mm(){this.a="",this.h=u$}function c$(o){return o instanceof mm&&o.constructor===mm&&o.h===u$?o.a:(_i("expected object of type TrustedResourceUrl, got '"+o+"' of type "+ht(o)),"type_error:TrustedResourceUrl")}mm.prototype.ma=!0,mm.prototype.ka=function(){return this.a.toString()},mm.prototype.g=function(){return 1},mm.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var u$={};function Va(){this.a="",this.h=f$}function Gf(o){return o instanceof Va&&o.constructor===Va&&o.h===f$?o.a:(_i("expected object of type SafeUrl, got '"+o+"' of type "+ht(o)),"type_error:SafeUrl")}Va.prototype.ma=!0,Va.prototype.ka=function(){return this.a.toString()},Va.prototype.g=function(){return 1},Va.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var d$=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function LT(o){return o instanceof Va?o:(o="object"==typeof o&&o.ma?o.ka():String(o),d$.test(o)||(o="about:invalid#zClosurez"),o2(o))}function h$(o){return o instanceof Va?o:(o="object"==typeof o&&o.ma?o.ka():String(o),d$.test(o)||(o="about:invalid#zClosurez"),o2(o))}var f$={};function o2(o){var h=new Va;return h.a=o,h}function cv(){this.a="",this.g=p$}o2("about:blank"),cv.prototype.ma=!0;var p$={};function Hf(){this.a="",this.j=g$,this.h=null}function BT(o){return o instanceof Hf&&o.constructor===Hf&&o.j===g$?o.a:(_i("expected object of type SafeHtml, got '"+o+"' of type "+ht(o)),"type_error:SafeHtml")}cv.prototype.ka=function(){return this.a},cv.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Hf.prototype.g=function(){return this.h},Hf.prototype.ma=!0,Hf.prototype.ka=function(){return this.a.toString()},Hf.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var g$={};function WC(o,h){var m=new Hf;return m.a=o,m.h=h,m}WC("<!DOCTYPE html>",0);var hoe=WC("",0);WC("<br>",0);var m,h,foe=(h=!1,function(){return h||(m=function(){if(typeof document>"u")return!1;var o=document.createElement("div"),h=document.createElement("div");return h.appendChild(document.createElement("div")),o.appendChild(h),!!o.firstChild&&(h=o.firstChild.firstChild,o.innerHTML=BT(hoe),!h.parentElement)}(),h=!0),m});function uv(o,h){h=h instanceof Va?h:h$(h),o.assign(Gf(h))}function $f(o,h){this.a=z(o)?o:0,this.g=z(h)?h:0}function a2(o,h){this.width=o,this.height=h}function VT(o){return o?new d2(ZC(o)):Yt||(Yt=new d2)}function l2(o,h){var m=h||document;return m.querySelectorAll&&m.querySelector?m.querySelectorAll("."+o):m$(document,o,h)}function c2(o,h){var m=h||document;if(m.getElementsByClassName)o=m.getElementsByClassName(o)[0];else{m=document;var b=h||m;o=b.querySelectorAll&&b.querySelector&&o?b.querySelector(o?"."+o:""):m$(m,o,h)[0]||null}return o||null}function m$(o,h,m){var b;if((o=m||o).querySelectorAll&&o.querySelector&&h)return o.querySelectorAll(h?"."+h:"");if(h&&o.getElementsByClassName){var I=o.getElementsByClassName(h);return I}if(I=o.getElementsByTagName("*"),h){var S={};for(m=b=0;o=I[m];m++){var j=o.className;"function"==typeof j.split&&hi(j.split(/\s+/),h)&&(S[b++]=o)}return S.length=b,S}return I}$f.prototype.toString=function(){return"("+this.a+", "+this.g+")"},$f.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.g=Math.ceil(this.g),this},$f.prototype.floor=function(){return this.a=Math.floor(this.a),this.g=Math.floor(this.g),this},$f.prototype.round=function(){return this.a=Math.round(this.a),this.g=Math.round(this.g),this},(n=a2.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},n.aspectRatio=function(){return this.width/this.height},n.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},n.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},n.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var y$={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function UT(o){return o.scrollingElement?o.scrollingElement:(Mo||"CSS1Compat"!=o.compatMode)&&o.body||o.documentElement}function ym(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function ZC(o){return 9==o.nodeType?o:o.ownerDocument||o.document}function u2(o,h){if("textContent"in o)o.textContent=h;else if(3==o.nodeType)o.data=String(h);else if(o.firstChild&&3==o.firstChild.nodeType){for(;o.lastChild!=o.firstChild;)o.removeChild(o.lastChild);o.firstChild.data=String(h)}else{for(var m;m=o.firstChild;)o.removeChild(m);o.appendChild(ZC(o).createTextNode(String(h)))}}function _$(o,h){return h?function moe(o,h){for(;o;){if(h(o))return o;o=o.parentNode}return null}(o,function(m){return!h||W(m.className)&&hi(m.className.split(/\s+/),h)}):null}function d2(o){this.a=o||k.document||document}d2.prototype.N=function(){return W(void 0)?this.a.getElementById(void 0):void 0};var jT={Fc:!0},v$={Hc:!0},yoe={Ec:!0},b$={Gc:!0};function zf(){throw Error("Do not instantiate directly")}function YC(o,h,m,b){if(o=o(h||boe,void 0,m),b=(b||VT()).a.createElement("DIV"),(o=function _oe(o){if(!Bt(o))return rv(String(o));if(o instanceof zf){if(o.fa===jT)return o.content;if(o.fa===b$)return rv(o.content)}return _i("Soy template output is unsafe for use as HTML: "+o),"zSoyz"}(o)).match(voe),o=WC(o,null),foe())for(;b.lastChild;)b.removeChild(b.lastChild);return b.innerHTML=BT(o),1==b.childNodes.length&&1==(o=b.firstChild).nodeType&&(b=o),b}zf.prototype.va=null,zf.prototype.toString=function(){return this.content};var voe=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,boe={};function GT(){zf.call(this)}function ln(o){return null!=o&&o.fa===jT?o:o instanceof Hf?Et(BT(o).toString(),o.g()):Et(rv(String(String(o))),function woe(o){if(null!=o)switch(o.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(o))}function HT(){zf.call(this)}function $T(o,h){this.content=String(o),this.va=h??null}function Yn(o){return new $T(o,void 0)}rt(GT,zf),GT.prototype.fa=jT,rt(HT,zf),HT.prototype.fa=v$,HT.prototype.va=1,rt($T,zf),$T.prototype.fa=b$;var Et=function(o){function h(m){this.content=m}return h.prototype=o.prototype,function(m,b){return m=new h(String(m)),void 0!==b&&(m.va=b),m}}(GT),Coe=function(o){function h(m){this.content=m}return h.prototype=o.prototype,function(m){return new h(String(m))}}(HT);function xr(o){return(o=String(o))?new $T(o,void 0):""}var w$=function(o){function h(m){this.content=m}return h.prototype=o.prototype,function(m,b){return(m=String(m))?(m=new h(m),void 0!==b&&(m.va=b),m):""}}(GT);function Ro(o){return null!=o&&o.fa===jT?String(String(o.content).replace(Moe,"").replace(Roe,"&lt;")).replace(Aoe,Doe):rv(String(o))}function _m(o){return null!=o&&o.fa===v$?o=String(o).replace(f2,h2):o instanceof Va?o=String(Gf(o).toString()).replace(f2,h2):(o=String(o),Toe.test(o)?o=o.replace(f2,h2):(_i("Bad value `%s` for |filterNormalizeUri",[o]),o="#zSoyz")),o}function C$(o){return null!=o&&o.fa===yoe?o=o.content:null==o?o="":o instanceof cv?o instanceof cv&&o.constructor===cv&&o.g===p$?o=o.a:(_i("expected object of type SafeStyle, got '"+o+"' of type "+ht(o)),o="type_error:SafeStyle"):(o=String(o),Soe.test(o)||(_i("Bad value `%s` for |filterCssValue",[o]),o="zSoyz")),o}var xoe={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Doe(o){return xoe[o]}var Ioe={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function h2(o){return Ioe[o]}var Aoe=/[\x00\x22\x27\x3c\x3e]/g,f2=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,Soe=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,Toe=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,Moe=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,Roe=/</g;function p2(){return Yn("Enter a valid phone number")}function E$(){return Yn("Unable to send password reset code to specified email")}function x$(){return Yn("Something went wrong. Please try again.")}function D$(){return Yn("This email already exists without any means of sign-in. Please reset the password to recover.")}function I$(o){var h="";switch((o=o||{}).code){case"invalid-argument":h+="Client specified an invalid argument.";break;case"invalid-configuration":h+="Client specified an invalid project configuration.";break;case"failed-precondition":h+="Request can not be executed in the current system state.";break;case"out-of-range":h+="Client specified an invalid range.";break;case"unauthenticated":h+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":h+="Client does not have sufficient permission.";break;case"not-found":h+="Specified resource is not found.";break;case"aborted":h+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":h+="The resource that a client tried to create already exists.";break;case"resource-exhausted":h+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":h+="Request cancelled by the client.";break;case"data-loss":h+="Unrecoverable data loss or data corruption.";break;case"unknown":h+="Unknown server error.";break;case"internal":h+="Internal server error.";break;case"not-implemented":h+="API method not implemented by the server.";break;case"unavailable":h+="Service unavailable.";break;case"deadline-exceeded":h+="Request deadline exceeded.";break;case"auth/user-disabled":h+="The user account has been disabled by an administrator.";break;case"auth/timeout":h+="The operation has timed out.";break;case"auth/too-many-requests":h+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":h+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":h+="A network error has occurred. Try again later.";break;case"restart-process":h+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":h+="No sign-in provider is available for the given email, please try with a different email."}return Yn(h)}function KC(o,h,m){var b=Error.call(this);this.message=b.message,"stack"in b&&(this.stack=b.stack),this.code=koe+o,(o=h)||("firebaseui/merge-conflict"===(o="",this.code)?o+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.":o+=x$(),o=Yn(o).toString()),this.message=o||"",this.credential=m||null}p(KC,Error),KC.prototype.toJSON=function(){return{code:this.code,message:this.message}};var koe="firebaseui/";function vm(){0!=g2&&(S$[this[In]||(this[In]=++Is)]=this),this.T=this.T,this.C=this.C}var g2=0,S$={};function QC(o,h){o.T?z(void 0)?h.call(void 0):h():(o.C||(o.C=[]),o.C.push(z(void 0)?Jn(h,void 0):h))}function JC(o){o&&"function"==typeof o.m&&o.m()}vm.prototype.T=!1,vm.prototype.m=function(){if(!this.T&&(this.T=!0,this.o(),0!=g2)){var o=this[In]||(this[In]=++Is);if(0!=g2&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete S$[o]}},vm.prototype.o=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Ooe=Object.freeze||function(o){return o},T$=!Er||9<=Number(qC),Poe=Er&&!gm("9"),Foe=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{k.addEventListener("test",Be,h),k.removeEventListener("test",Be,h)}catch{}return o}();function ch(o,h){this.type=o,this.g=this.target=h,this.h=!1,this.qb=!0}function ko(o,h){if(ch.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var m=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(Bc){e:{try{t2(h.nodeName);var I=!0;break e}catch{}I=!1}I||(h=null)}}else"mouseover"==m?h=o.fromElement:"mouseout"==m&&(h=o.toElement);this.relatedTarget=h,b?(this.clientX=void 0!==b.clientX?b.clientX:b.pageX,this.clientY=void 0!==b.clientY?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.keyCode=o.keyCode||0,this.key=o.key||"",this.j=o.charCode||("keypress"==m?o.keyCode:0),this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=W(o.pointerType)?o.pointerType:Noe[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}ch.prototype.stopPropagation=function(){this.h=!0},ch.prototype.preventDefault=function(){this.qb=!1},rt(ko,ch);var Noe=Ooe({2:"touch",3:"pen",4:"mouse"});ko.prototype.stopPropagation=function(){ko.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},ko.prototype.preventDefault=function(){ko.K.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Poe)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}};var XC="closure_listenable_"+(1e6*Math.random()|0),Loe=0;function Boe(o,h,m,b,I){this.listener=o,this.proxy=null,this.src=h,this.type=m,this.capture=!!b,this.La=I,this.key=++Loe,this.sa=this.Ia=!1}function zT(o){o.sa=!0,o.listener=null,o.proxy=null,o.src=null,o.La=null}function qT(o){this.src=o,this.a={},this.g=0}function m2(o,h){var m=h.type;m in o.a&&ju(o.a[m],h)&&(zT(h),0==o.a[m].length&&(delete o.a[m],o.g--))}function y2(o,h,m,b){for(var I=0;I<o.length;++I){var S=o[I];if(!S.sa&&S.listener==h&&S.capture==!!m&&S.La==b)return I}return-1}qT.prototype.add=function(o,h,m,b,I){var S=o.toString();(o=this.a[S])||(o=this.a[S]=[],this.g++);var j=y2(o,h,b,I);return-1<j?(h=o[j],m||(h.Ia=!1)):((h=new Boe(h,this.src,S,!!b,I)).Ia=m,o.push(h)),h};var _2="closure_lm_"+(1e6*Math.random()|0),v2={};function Vc(o,h,m,b,I){if(b&&b.once)return eE(o,h,m,b,I);if(Ct(h)){for(var S=0;S<h.length;S++)Vc(o,h[S],m,b,I);return null}return m=w2(m),o&&o[XC]?o.J.add(String(h),m,!1,Bt(b)?!!b.capture:!!b,I):R$(o,h,m,!1,b,I)}function R$(o,h,m,b,I,S){if(!h)throw Error("Invalid event type");var j=Bt(I)?!!I.capture:!!I,le=WT(o);if(le||(o[_2]=le=new qT(o)),(m=le.add(h,m,b,j,S)).proxy)return m;if(b=function Voe(){var o=Uoe,h=T$?function(m){return o.call(h.src,h.listener,m)}:function(m){if(!(m=o.call(h.src,h.listener,m)))return m};return h}(),m.proxy=b,b.src=o,b.listener=m,o.addEventListener)Foe||(I=j),void 0===I&&(I=!1),o.addEventListener(h.toString(),b,I);else if(o.attachEvent)o.attachEvent(k$(h.toString()),b);else{if(!o.addListener||!o.removeListener)throw Error("addEventListener and attachEvent are unavailable.");o.addListener(b)}return m}function eE(o,h,m,b,I){if(Ct(h)){for(var S=0;S<h.length;S++)eE(o,h[S],m,b,I);return null}return m=w2(m),o&&o[XC]?o.J.add(String(h),m,!0,Bt(b)?!!b.capture:!!b,I):R$(o,h,m,!0,b,I)}function bm(o,h,m,b,I){if(Ct(h))for(var S=0;S<h.length;S++)bm(o,h[S],m,b,I);else b=Bt(b)?!!b.capture:!!b,m=w2(m),o&&o[XC]?(o=o.J,(h=String(h).toString())in o.a&&-1<(m=y2(S=o.a[h],m,b,I))&&(zT(S[m]),js(S,m),0==S.length&&(delete o.a[h],o.g--))):o&&(o=WT(o))&&(h=o.a[h.toString()],o=-1,h&&(o=y2(h,m,b,I)),(m=-1<o?h[o]:null)&&qf(m))}function qf(o){if("number"!=typeof o&&o&&!o.sa){var h=o.src;if(h&&h[XC])m2(h.J,o);else{var m=o.type,b=o.proxy;h.removeEventListener?h.removeEventListener(m,b,o.capture):h.detachEvent?h.detachEvent(k$(m),b):h.addListener&&h.removeListener&&h.removeListener(b),(m=WT(h))?(m2(m,o),0==m.g&&(m.src=null,h[_2]=null)):zT(o)}}}function k$(o){return o in v2?v2[o]:v2[o]="on"+o}function O$(o,h,m,b){var I=!0;if((o=WT(o))&&(h=o.a[h.toString()]))for(h=h.concat(),o=0;o<h.length;o++){var S=h[o];S&&S.capture==m&&!S.sa&&(S=P$(S,b),I=I&&!1!==S)}return I}function P$(o,h){var m=o.listener,b=o.La||o.src;return o.Ia&&qf(o),m.call(b,h)}function Uoe(o,h){if(o.sa)return!0;if(!T$){if(!h)e:{h=["window","event"];for(var m=k,b=0;b<h.length;b++)if(null==(m=m[h[b]])){h=null;break e}h=m}if(h=new ko(b=h,this),m=!0,!(0>b.keyCode||null!=b.returnValue)){e:{var I=!1;if(0==b.keyCode)try{b.keyCode=-1;break e}catch{I=!0}(I||null==b.returnValue)&&(b.returnValue=!0)}for(b=[],I=h.g;I;I=I.parentNode)b.push(I);for(o=o.type,I=b.length-1;!h.h&&0<=I;I--){h.g=b[I];var S=O$(b[I],o,!0,h);m=m&&S}for(I=0;!h.h&&I<b.length;I++)h.g=b[I],S=O$(b[I],o,!1,h),m=m&&S}return m}return P$(o,new ko(h,this))}function WT(o){return(o=o[_2])instanceof qT?o:null}var b2="__closure_events_fn_"+(1e9*Math.random()>>>0);function w2(o){return Ft(o)?o:(o[b2]||(o[b2]=function(h){return o.handleEvent(h)}),o[b2])}function Wr(){vm.call(this),this.J=new qT(this),this.wb=this,this.Ha=null}function Wf(o,h){var m,b=o.Ha;if(b)for(m=[];b;b=b.Ha)m.push(b);if(o=o.wb,b=h.type||h,W(h))h=new ch(h,o);else if(h instanceof ch)h.target=h.target||o;else{var I=h;kT(h=new ch(b,o),I)}if(I=!0,m)for(var S=m.length-1;!h.h&&0<=S;S--){var j=h.g=m[S];I=ZT(j,b,!0,h)&&I}if(h.h||(I=ZT(j=h.g=o,b,!0,h)&&I,h.h||(I=ZT(j,b,!1,h)&&I)),m)for(S=0;!h.h&&S<m.length;S++)I=ZT(j=h.g=m[S],b,!1,h)&&I;return I}function ZT(o,h,m,b){if(!(h=o.J.a[String(h)]))return!0;h=h.concat();for(var I=!0,S=0;S<h.length;++S){var j=h[S];if(j&&!j.sa&&j.capture==m){var le=j.listener,Ue=j.La||j.src;j.Ia&&m2(o.J,j),I=!1!==le.call(Ue,b)&&I}}return I&&0!=b.qb}rt(Wr,vm),Wr.prototype[XC]=!0,Wr.prototype.Za=function(o){this.Ha=o},Wr.prototype.removeEventListener=function(o,h,m,b){bm(this,o,h,m,b)},Wr.prototype.o=function(){if(Wr.K.o.call(this),this.J){var m,o=this.J;for(m in o.a){for(var b=o.a[m],I=0;I<b.length;I++)zT(b[I]);delete o.a[m],o.g--}}this.Ha=null};var Ua={},F$=0;function N$(o,h){if(!o)throw Error("Event target element must be provided!");if(o=C2(o),Ua[o]&&Ua[o].length)for(var m=0;m<Ua[o].length;m++)Wf(Ua[o][m],h)}function C2(o){return typeof o.a>"u"&&(o.a=F$,F$++),o.a}function YT(o){if(!o)throw Error("Event target element must be provided!");Wr.call(this),this.a=o}function L$(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function E2(o,h){this.h=o,this.j=h,this.g=0,this.a=null}function B$(o,h){o.j(h),100>o.g&&(o.g++,h.next=o.a,o.a=h)}function V$(){this.g=this.a=null}p(YT,Wr),YT.prototype.N=function(){return this.a},YT.prototype.register=function(){var o=C2(this.N());Ua[o]?hi(Ua[o],this)||Ua[o].push(this):Ua[o]=[this]},E2.prototype.get=function(){if(0<this.g){this.g--;var o=this.a;this.a=o.next,o.next=null}else o=this.h();return o};var D2,KT,U$=new E2(function(){return new x2},function(o){o.reset()});function Goe(){var o=G$,h=null;return o.a&&(h=o.a,o.a=o.a.next,o.a||(o.g=null),h.next=null),h}function x2(){this.next=this.g=this.a=null}function j$(o){k.setTimeout(function(){throw o},0)}function I2(o,h){KT||function $oe(){if(k.Promise&&k.Promise.resolve){var o=k.Promise.resolve(void 0);KT=function(){o.then(H$)}}else KT=function(){var h=H$;!Ft(k.setImmediate)||k.Window&&k.Window.prototype&&!On("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(D2||(D2=function Hoe(){var o=k.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!On("Presto")&&(o=function(){var I=document.createElement("IFRAME");I.style.display="none",I.src="",document.documentElement.appendChild(I);var S=I.contentWindow;(I=S.document).open(),I.write(""),I.close();var j="callImmediate"+Math.random(),le="file:"==S.location.protocol?"*":S.location.protocol+"//"+S.location.host;I=Jn(function(Ue){("*"==le||Ue.origin==le)&&Ue.data==j&&this.port1.onmessage()},this),S.addEventListener("message",I,!1),this.port1={},this.port2={postMessage:function(){S.postMessage(j,le)}}}),typeof o<"u"&&!On("Trident")&&!On("MSIE")){var h=new o,m={},b=m;return h.port1.onmessage=function(){if(z(m.next)){var I=(m=m.next).gb;m.gb=null,I()}},function(I){b.next={gb:I},b=b.next,h.port2.postMessage(0)}}return typeof document<"u"&&"onreadystatechange"in document.createElement("SCRIPT")?function(I){var S=document.createElement("SCRIPT");S.onreadystatechange=function(){S.onreadystatechange=null,S.parentNode.removeChild(S),S=null,I(),I=null},document.documentElement.appendChild(S)}:function(I){k.setTimeout(I,0)}}()),D2(h)):k.setImmediate(h)}}(),A2||(KT(),A2=!0),G$.add(o,h)}V$.prototype.add=function(o,h){var m=U$.get();m.set(o,h),this.g?this.g.next=m:this.a=m,this.g=m},x2.prototype.set=function(o,h){this.a=o,this.g=h,this.next=null},x2.prototype.reset=function(){this.next=this.g=this.a=null};var A2=!1,G$=new V$;function H$(){for(var o;o=Goe();){try{o.a.call(o.g)}catch(h){j$(h)}B$(U$,o)}A2=!1}function Zr(o){if(this.a=wm,this.A=void 0,this.j=this.g=this.h=null,this.s=this.i=!1,o!=Be)try{var h=this;o.call(void 0,function(m){Cm(h,tE,m)},function(m){if(!(m instanceof hv))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}Cm(h,uh,m)})}catch(m){Cm(this,uh,m)}}var wm=0,tE=2,uh=3;function $$(){this.next=this.j=this.g=this.s=this.a=null,this.h=!1}$$.prototype.reset=function(){this.j=this.g=this.s=this.a=null,this.h=!1};var z$=new E2(function(){return new $$},function(o){o.reset()});function S2(o,h,m){var b=z$.get();return b.s=o,b.g=h,b.j=m,b}function Dr(o){if(o instanceof Zr)return o;var h=new Zr(Be);return Cm(h,tE,o),h}function dv(o){return new Zr(function(h,m){m(o)})}function q$(o,h){if(o.a==wm)if(o.h){var m=o.h;if(m.g){for(var b=0,I=null,S=null,j=m.g;j&&(j.h||(b++,j.a==o&&(I=j),!(I&&1<b)));j=j.next)I||(S=j);I&&(m.a==wm&&1==b?q$(m,h):(S?((b=S).next==m.j&&(m.j=b),b.next=b.next.next):Y$(m),K$(m,I,uh,h)))}o.h=null}else Cm(o,uh,h)}function T2(o,h){o.g||o.a!=tE&&o.a!=uh||Z$(o),o.j?o.j.next=h:o.g=h,o.j=h}function W$(o,h,m,b){var I=S2(null,null,null);return I.a=new Zr(function(S,j){I.s=h?function(le){try{var Ue=h.call(b,le);S(Ue)}catch(lt){j(lt)}}:S,I.g=m?function(le){try{var Ue=m.call(b,le);!z(Ue)&&le instanceof hv?j(le):S(Ue)}catch(lt){j(lt)}}:j}),I.a.h=o,T2(o,I),I.a}function Cm(o,h,m){if(o.a==wm){o===m&&(h=uh,m=new TypeError("Promise cannot resolve to itself")),o.a=1;e:{var b=m,I=o.hc,S=o.ic;if(b instanceof Zr){T2(b,S2(I||Be,S||null,o));var j=!0}else if(L$(b))b.then(I,S,o),j=!0;else{if(Bt(b))try{var le=b.then;if(Ft(le)){(function zoe(o,h,m,b,I){function S(Ue){le||(le=!0,b.call(I,Ue))}var le=!1;try{h.call(o,function j(Ue){le||(le=!0,m.call(I,Ue))},S)}catch(Ue){S(Ue)}})(b,le,I,S,o),j=!0;break e}}catch(Ue){S.call(o,Ue),j=!0;break e}j=!1}}j||(o.A=m,o.a=h,o.h=null,Z$(o),h!=uh||m instanceof hv||function qoe(o,h){o.s=!0,I2(function(){o.s&&J$.call(null,h)})}(o,m))}}function Z$(o){o.i||(o.i=!0,I2(o.Hb,o))}function Y$(o){var h=null;return o.g&&(o.g=(h=o.g).next,h.next=null),o.g||(o.j=null),h}function K$(o,h,m,b){if(m==uh&&h.g&&!h.h)for(;o&&o.s;o=o.h)o.s=!1;if(h.a)h.a.h=null,Q$(h,m,b);else try{h.h?h.s.call(h.j):Q$(h,m,b)}catch(I){J$.call(null,I)}B$(z$,h)}function Q$(o,h,m){h==tE?o.s.call(o.j,m):o.g&&o.g.call(o.j,m)}Zr.prototype.then=function(o,h,m){return W$(this,Ft(o)?o:null,Ft(h)?h:null,m)},Zr.prototype.$goog_Thenable=!0,(n=Zr.prototype).fc=function(o,h){return(o=S2(o,o,h)).h=!0,T2(this,o),this},n.Ca=function(o,h){return W$(this,null,o,h)},n.cancel=function(o){this.a==wm&&I2(function(){q$(this,new hv(o))},this)},n.hc=function(o){this.a=wm,Cm(this,tE,o)},n.ic=function(o){this.a=wm,Cm(this,uh,o)},n.Hb=function(){for(var o;o=Y$(this);)K$(this,o,this.a,this.A);this.i=!1};var J$=j$;function hv(o){Dt.call(this,o)}function X$(o,h,m){h||(h={}),m=m||window;var b=o instanceof Va?o:LT(typeof o.href<"u"?o.href:String(o));o=h.target||o.target;var I=[];for(S in h)switch(S){case"width":case"height":case"top":case"left":I.push(S+"="+h[S]);break;case"target":case"noopener":case"noreferrer":break;default:I.push(S+"="+(h[S]?1:0))}var S=I.join(",");return(On("iPhone")&&!On("iPod")&&!On("iPad")||On("iPad")||On("iPod"))&&m.navigator&&m.navigator.standalone&&o&&"_self"!=o?(S=m.document.createElement("A"),b=b instanceof Va?b:h$(b),S.href=Gf(b),S.setAttribute("target",o),h.noreferrer&&S.setAttribute("rel","noreferrer"),(h=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,m,1),S.dispatchEvent(h),m={}):h.noreferrer?(m=m.open("",o,S),h=Gf(b).toString(),m&&(loe&&-1!=h.indexOf(";")&&(h="'"+h.replace(/'/g,"%27")+"'"),m.opener=null,h=WC('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rv(h)+'">',null),m.document.write(BT(h)),m.document.close())):(m=m.open(Gf(b).toString(),o,S))&&h.noopener&&(m.opener=null),m}function e8(){try{return!(!window.opener||!window.opener.location||window.opener.location.hostname!==window.location.hostname||window.opener.location.protocol!==window.location.protocol)}catch{}return!1}function fv(o){X$(o,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function QT(o,h){if(null==(o=Bt(o)&&1==o.nodeType?o:document.querySelector(String(o))))throw Error(h||"Cannot find element.");return o}function dh(){return window.location.href}function Zf(o){var h=Joe;this.s=[],this.T=h,this.O=o||null,this.j=this.a=!1,this.h=void 0,this.J=this.l=this.A=!1,this.i=0,this.g=null,this.C=0}function nE(o,h,m){o.a=!0,o.h=m,o.j=!h,i8(o)}function JT(o){if(o.a){if(!o.J)throw new XT(o);o.J=!1}}function t8(o,h,m){o.s.push([h,m,void 0]),o.a&&i8(o)}function n8(o){return ZL(o.s,function(h){return Ft(h[1])})}function i8(o){if(o.i&&o.a&&n8(o)){var h=o.i,m=e1[h];m&&(k.clearTimeout(m.a),delete e1[h]),o.i=0}o.g&&(o.g.C--,delete o.g),h=o.h;for(var b=m=!1;o.s.length&&!o.A;){var I=o.s.shift(),S=I[0],j=I[1];if(I=I[2],S=o.j?j:S)try{var le=S.call(I||o.O,h);z(le)&&(o.j=o.j&&(le==h||le instanceof Error),o.h=h=le),(L$(h)||"function"==typeof k.Promise&&h instanceof k.Promise)&&(b=!0,o.A=!0)}catch(Ue){h=Ue,o.j=!0,n8(o)||(m=!0)}}o.h=h,b&&(le=Jn(o.L,o,!0),b=Jn(o.L,o,!1),h instanceof Zf?(t8(h,le,b),h.l=!0):h.then(le,b)),m&&(h=new r8(h),e1[h.a]=h,o.i=h.a)}function XT(){Dt.call(this)}function iE(){Dt.call(this)}function r8(o){this.a=k.setTimeout(Jn(this.h,this),0),this.g=o}rt(hv,Dt),hv.prototype.name="cancel",Zf.prototype.cancel=function(o){if(this.a)this.h instanceof Zf&&this.h.cancel();else{if(this.g){var h=this.g;delete this.g,o?h.cancel(o):(h.C--,0>=h.C&&h.cancel())}this.T?this.T.call(this.O,this):this.J=!0,this.a||(o=new iE(this),JT(this),nE(this,!1,o))}},Zf.prototype.L=function(o,h){this.A=!1,nE(this,o,h)},Zf.prototype.callback=function(o){JT(this),nE(this,!0,o)},Zf.prototype.then=function(o,h,m){var b,I,S=new Zr(function(j,le){b=j,I=le});return t8(this,b,function(j){j instanceof iE?S.cancel():I(j)}),S.then(o,h,m)},Zf.prototype.$goog_Thenable=!0,rt(XT,Dt),XT.prototype.message="Deferred has already fired",XT.prototype.name="AlreadyCalledError",rt(iE,Dt),iE.prototype.message="Deferred was canceled",iE.prototype.name="CanceledError",r8.prototype.h=function(){throw delete e1[this.a],this.g};var e1={};function Joe(){if(this&&this.rb){var o=this.rb;o&&"SCRIPT"==o.tagName&&t1(o,!0,this.sb)}}function t1(o,h,m){null!=m&&k.clearTimeout(m),o.onload=Be,o.onerror=Be,o.onreadystatechange=Be,h&&window.setTimeout(function(){ym(o)},0)}var Xoe=0,eae=1;function M2(o,h){var m="Jsloader error (code #"+o+")";h&&(m+=": "+h),Dt.call(this,m),this.code=o}function rE(){return k.google&&k.google.accounts&&k.google.accounts.id||null}function R2(o){this.a=o||rE(),this.h=!1,this.g=null}function s8(o,h,m){return o.a&&h?(o.h=!0,new Zr(function(I){o.g=I,o.a.initialize({client_id:h,callback:I,auto_select:!m}),o.a.prompt()})):Dr(h?k2.Xa().load().then(function(){return o.a=rE(),s8(o,h,m)}).Ca(function(){return null}):null)}rt(M2,Dt),R2.prototype.cancel=function(){this.a&&this.h&&(this.g&&this.g(null),this.a.cancel())},Ze(R2);var tae=new lv(l$,"https://accounts.google.com/gsi/client");function k2(){this.a=null}function O2(o,h){this.a=o,this.g=h||function(m){throw m}}function P2(o,h,m){this.reset(o,h,m,void 0,void 0)}function F2(o){this.s=o,this.a=this.h=this.j=this.g=null}function n1(o,h){this.name=o,this.value=h}k2.prototype.load=function(){var o=this;if(this.a)return this.a;var h=function doe(){var o=tae;o instanceof lv&&o.constructor===lv&&o.g===a$?o=o.a:(_i("expected object of type Const, got '"+o+"'"),o="type_error:Const");var h=new mm;return h.a=o,h}();return rE()?Dr():this.a=function Woe(){var o=null;return new Zr(function(h){"complete"==k.document.readyState?h():(o=function(){h()},eE(window,"load",o))}).Ca(function(h){throw bm(window,"load",o),h})}().then(function(){if(!rE())return new Zr(function(m,b){var I=setTimeout(function(){o.a=null,b(Error("Network error!"))},1e4);k.onGoogleLibraryLoad=function(){clearTimeout(I),m()},Dr(function Koe(o){var h={},m=h.document||document,b=c$(o).toString(),I=document.createElement("SCRIPT"),S={rb:I,sb:void 0},j=new Zf(S),le=null,Ue=null!=h.timeout?h.timeout:5e3;return 0<Ue&&(le=window.setTimeout(function(){t1(I,!0);var lt=new M2(eae,"Timeout reached for loading script "+b);JT(j),nE(j,!1,lt)},Ue),S.sb=le),I.onload=I.onreadystatechange=function(){I.readyState&&"loaded"!=I.readyState&&"complete"!=I.readyState||(t1(I,h.xc||!1,le),j.callback(null))},I.onerror=function(){t1(I,!0,le);var lt=new M2(Xoe,"Error while loading script "+b);JT(j),nE(j,!1,lt)},kT(S=h.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function goe(o,h){z5(h,function(m,b){m&&"object"==typeof m&&m.ma&&(m=m.ka()),"style"==b?o.style.cssText=m:"class"==b?o.className=m:"for"==b?o.htmlFor=m:y$.hasOwnProperty(b)?o.setAttribute(y$[b],m):0==b.lastIndexOf("aria-",0)||0==b.lastIndexOf("data-",0)?o.setAttribute(b,m):o[b]=m})}(I,S),function poe(o,h){o.src=c$(h),null===Ee&&(Ee=(h=(h=k.document).querySelector&&h.querySelector("script[nonce]"))&&(h=h.nonce||h.getAttribute("nonce"))&&te.test(h)?h:""),(h=Ee)&&o.setAttribute("nonce",h)}(I,o),function Qoe(o){var h=(o||document).getElementsByTagName("HEAD");return h&&0!=h.length?h[0]:o.documentElement}(m).appendChild(I),j}(h)).then(function(){rE()&&m()}).Ca(function(S){clearTimeout(I),o.a=null,b(S)})})})},Ze(k2),O2.prototype.confirm=function(o){return Dr(this.a.confirm(o)).Ca(this.g)},P2.prototype.a=null,P2.prototype.reset=function(o,h,m,b,I){this.h=b||Vu(),this.j=o,this.s=h,this.g=m,delete this.a},n1.prototype.toString=function(){return this.name};var o8=new n1("SEVERE",1e3),a8=new n1("WARNING",900),l8=new n1("CONFIG",700);function c8(o){return o.j?o.j:o.g?c8(o.g):(_i("Root logger has no level set."),null)}F2.prototype.log=function(o,h,m){if(o.value>=c8(this).value)for(Ft(h)&&(h=h()),o=new P2(o,String(h),this.s),m&&(o.a=m),m=this;m;){var b=m,I=o;if(b.a)for(var S=0;h=b.a[S];S++)h(I);m=m.g}};var N2={},sE=null;function u8(){sE||(sE=new F2(""),N2[""]=sE,sE.j=l8)}function r1(){this.a=Vu()}var L2=null;function oE(o){this.j=o||"",L2||(L2=new r1),this.s=L2}function Em(o){return 10>o?"0"+o:String(o)}function h8(o){oE.call(this,o)}function f8(){this.s=Jn(this.h,this),this.a=new h8,this.a.g=!1,this.a.h=!1,this.g=this.a.a=!1,this.j={}}r1.prototype.set=function(o){this.a=o},r1.prototype.reset=function(){this.set(Vu())},r1.prototype.get=function(){return this.a},oE.prototype.a=!0,oE.prototype.g=!0,oE.prototype.h=!1,rt(h8,oE),f8.prototype.h=function(o){if(!this.j[o.g]){var m=function rae(o,h){var m=[];if(m.push(o.j," "),o.g){var b=new Date(h.h);m.push("[",Em(b.getFullYear()-2e3)+Em(b.getMonth()+1)+Em(b.getDate())+" "+Em(b.getHours())+":"+Em(b.getMinutes())+":"+Em(b.getSeconds())+"."+Em(Math.floor(b.getMilliseconds()/10)),"] ")}return m.push("[",function iae(o,h){h=(o=(o.h-h)/1e3).toFixed(3);var m=0;if(1>o)m=2;else for(;100>o;)m++,o*=10;for(;0<m--;)h=" "+h;return h}(h,o.s.get()),"s] "),m.push("[",h.g,"] "),m.push(h.s),o.h&&(h=h.a)&&m.push("\n",h instanceof Error?h.message:h.toString()),o.a&&m.push("\n"),m.join("")}(this.a,o);sae&&function oae(o,h,m,b){o[h]?o[h](m,b||""):o.log(m,b||"")}(sae,function h(S){if(S){if(S.value>=o8.value)return"error";if(S.value>=a8.value)return"warn";if(S.value>=l8.value)return"log"}return"debug"}(o.j),m,o.a)}};var B2,sae=k.console;function ja(o,h){B2&&B2.log(o8,o,h)}B2=function d8(o){var h;if(u8(),!(h=N2[o])){h=new F2(o);var m=o.lastIndexOf("."),b=o.substr(m+1);(m=d8(o.substr(0,m))).h||(m.h={}),m.h[b]=h,h.g=m,N2[o]=h}return h}("firebaseui");var V2=new f8;if(1!=V2.g){var s1;u8();var aae=V2.s;(s1=sE).a||(s1.a=[]),s1.a.push(aae),V2.g=!0}function Yf(o){B2&&B2.log(a8,o,void 0)}function p8(){this.a=(typeof document>"u"?null:document)||{cookie:""}}function U2(o){o=(o.a.cookie||"").split(";");for(var b,I,h=[],m=[],S=0;S<o.length;S++)-1==(b=(I=Ba(o[S])).indexOf("="))?(h.push(""),m.push(I)):(h.push(I.substring(0,b)),m.push(I.substring(b+1)));return{keys:h,values:m}}(n=p8.prototype).set=function(o,h,m,b,I,S){if(/[;=\s]/.test(o))throw Error('Invalid cookie name "'+o+'"');if(/[;\r\n]/.test(h))throw Error('Invalid cookie value "'+h+'"');z(m)||(m=-1),I=I?";domain="+I:"",b=b?";path="+b:"",S=S?";secure":"",m=0>m?"":0==m?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(Vu()+1e3*m).toUTCString(),this.a.cookie=o+"="+h+I+b+m+S},n.get=function(o,h){for(var S,m=o+"=",b=(this.a.cookie||"").split(";"),I=0;I<b.length;I++){if(0==(S=Ba(b[I])).lastIndexOf(m,0))return S.substr(m.length);if(S==o)return""}return h},n.ja=function(){return U2(this).keys},n.la=function(){return U2(this).values},n.clear=function(){for(var o=U2(this).keys,h=o.length-1;0<=h;h--){var m=o[h];this.get(m),this.set(m,"",0,void 0,void 0)}};var o1=new p8;function g8(){}function pv(o,h,m,b){this.h=typeof o<"u"&&null!==o?o:-1,this.g=h||null,this.a=m||null,this.j=!!b}function j2(o,h){this.g=o,this.a=h||null}function m8(o){return{email:o.g,credential:o.a&&o.a.toJSON()}}function y8(o){if(o&&o.email){var h=o.credential&&wt.Z.auth.AuthCredential.fromJSON(o.credential);return new j2(o.email,h)}return null}function _8(o){this.a=o||null}function v8(o){for(var h=[],m=0,b=0;b<o.length;b++){var I=o.charCodeAt(b);255<I&&(h[m++]=255&I,I>>=8),h[m++]=I}return h}function lae(o){return RT(o,function(h){return 1<(h=h.toString(16)).length?h:"0"+h}).join("")}function a1(o){for(this.i=o,this.g=this.i.length/4,this.j=this.g+6,this.h=[[],[],[],[]],this.s=[[],[],[],[]],this.a=Array(gv*(this.j+1)),o=0;o<this.g;o++)this.a[o]=[this.i[4*o],this.i[4*o+1],this.i[4*o+2],this.i[4*o+3]];var h=Array(4);for(o=this.g;o<gv*(this.j+1);o++){if(h[0]=this.a[o-1][0],h[1]=this.a[o-1][1],h[2]=this.a[o-1][2],h[3]=this.a[o-1][3],o%this.g==0){var m=h,b=m[0];m[0]=m[1],m[1]=m[2],m[2]=m[3],m[3]=b,x8(h),h[0]^=c1[o/this.g][0],h[1]^=c1[o/this.g][1],h[2]^=c1[o/this.g][2],h[3]^=c1[o/this.g][3]}else 6<this.g&&o%this.g==4&&x8(h);this.a[o]=Array(4),this.a[o][0]=this.a[o-this.g][0]^h[0],this.a[o][1]=this.a[o-this.g][1]^h[1],this.a[o][2]=this.a[o-this.g][2]^h[2],this.a[o][3]=this.a[o-this.g][3]^h[3]}}p(pv,g8),pv.prototype.set=function(o,h){o1.set(o,h,this.h,this.g,this.a,this.j)},pv.prototype.get=function(o){return o1.get(o)||null},pv.prototype.ra=function(o){var h=this.g,m=this.a;o1.get(o),o1.set(o,"",0,h,m)};var gv=(a1.prototype.A=16)/4;function b8(o,h){for(var b=0;b<gv;b++)for(var I=0;4>I;I++)o.h[b][I]=h[4*I+b]}function w8(o){for(var h=[],m=0;m<gv;m++)for(var b=0;4>b;b++)h[4*b+m]=o.h[m][b];return h}function mv(o,h){for(var m=0;4>m;m++)for(var b=0;4>b;b++)o.h[m][b]^=o.a[4*h+b][m]}function l1(o,h){for(var m=0;4>m;m++)for(var b=0;4>b;b++)o.h[m][b]=h[o.h[m][b]]}function C8(o){for(var h=1;4>h;h++)for(var m=0;4>m;m++)o.s[h][m]=o.h[h][m];for(h=1;4>h;h++)for(m=0;4>m;m++)o.h[h][m]=o.s[h][(m+h)%gv]}function E8(o){for(var h=1;4>h;h++)for(var m=0;4>m;m++)o.s[h][(m+h)%gv]=o.h[h][m];for(h=1;4>h;h++)for(m=0;4>m;m++)o.h[h][m]=o.s[h][m]}function x8(o){o[0]=yv[o[0]],o[1]=yv[o[1]],o[2]=yv[o[2]],o[3]=yv[o[3]]}var yv=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],D8=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],c1=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],u1=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],d1=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],h1=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],f1=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],p1=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],g1=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function I8(o,h){o=new a1(S8(o));for(var I,m=(h=v8(h)).splice(0,16),b="";m.length;){I=16-m.length;for(var S=0;S<I;S++)m.push(0);for(b8(I=o,m),mv(I,0),m=1;m<I.j;++m){l1(I,yv),C8(I),S=I.h;for(var j=I.s[0],le=0;4>le;le++)j[0]=S[0][le],j[1]=S[1][le],j[2]=S[2][le],j[3]=S[3][le],S[0][le]=u1[j[0]]^d1[j[1]]^j[2]^j[3],S[1][le]=j[0]^u1[j[1]]^d1[j[2]]^j[3],S[2][le]=j[0]^j[1]^u1[j[2]]^d1[j[3]],S[3][le]=d1[j[0]]^j[1]^j[2]^u1[j[3]];mv(I,m)}l1(I,yv),C8(I),mv(I,I.j),b+=lae(w8(I)),m=h.splice(0,16)}return b}function A8(o,h){o=new a1(S8(o));for(var m=[],b=0;b<h.length;b+=2)m.push(parseInt(h.substring(b,b+2),16));var I=m.splice(0,16);for(h="";I.length;){for(b8(b=o,I),mv(b,b.j),I=1;I<b.j;++I){E8(b),l1(b,D8),mv(b,b.j-I);for(var S=b.h,j=b.s[0],le=0;4>le;le++)j[0]=S[0][le],j[1]=S[1][le],j[2]=S[2][le],j[3]=S[3][le],S[0][le]=g1[j[0]]^f1[j[1]]^p1[j[2]]^h1[j[3]],S[1][le]=h1[j[0]]^g1[j[1]]^f1[j[2]]^p1[j[3]],S[2][le]=p1[j[0]]^h1[j[1]]^g1[j[2]]^f1[j[3]],S[3][le]=f1[j[0]]^p1[j[1]]^h1[j[2]]^g1[j[3]]}if(E8(b),l1(b,D8),mv(b,0),8192>=(b=w8(b)).length)b=String.fromCharCode.apply(null,b);else{for(I="",S=0;S<b.length;S+=8192)I+=String.fromCharCode.apply(null,Use(b,S,S+8192));b=I}h+=b,I=m.splice(0,16)}return h.replace(/(\x00)+$/,"")}function S8(o){for(var h=32-(o=v8(o.substring(0,32))).length,m=0;m<h;m++)o.push(0);return o}function T8(o){var h=[];return G2(new cae,o,h),h.join("")}function cae(){}function G2(o,h,m){if(null==h)m.push("null");else{if("object"==typeof h){if(Ct(h)){var b=h;h=b.length,m.push("[");for(var I="",S=0;S<h;S++)m.push(I),G2(o,b[S],m),I=",";return void m.push("]")}if(!(h instanceof String||h instanceof Number||h instanceof Boolean)){for(b in m.push("{"),I="",h)Object.prototype.hasOwnProperty.call(h,b)&&"function"!=typeof(S=h[b])&&(m.push(I),R8(b,m),m.push(":"),G2(o,S,m),I=",");return void m.push("}")}h=h.valueOf()}switch(typeof h){case"string":R8(h,m);break;case"number":m.push(isFinite(h)&&!isNaN(h)?String(h):"null");break;case"boolean":m.push(String(h));break;case"function":m.push("null");break;default:throw Error("Unknown type: "+typeof h)}}}var M8={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},uae=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function R8(o,h){h.push('"',o.replace(uae,function(m){var b=M8[m];return b||(b="\\u"+(65536|m.charCodeAt(0)).toString(16).substr(1),M8[m]=b),b}),'"')}function aE(o){this.a=o}function m1(){}function y1(o){this.a=o}function _1(o){if(!o.a)return!1;try{return o.a.setItem("__sak","1"),o.a.removeItem("__sak"),!0}catch{return!1}}function H2(){var o=null;try{o=window.localStorage||null}catch{}this.a=o}function $2(){var o=null;try{o=window.sessionStorage||null}catch{}this.a=o}function _v(o,h){this.g=o,this.a=h+"::"}aE.prototype.set=function(o,h){z(h)?this.a.set(o,T8(h)):this.a.ra(o)},aE.prototype.get=function(o){try{var h=this.a.get(o)}catch{return}if(null!==h)try{return JSON.parse(h)}catch{throw"Storage: Invalid value was encountered"}},rt(m1,g8),m1.prototype.clear=function(){var o=function Yse(o){if(bt(o))return $5(o);o=W5(o);var h=[];return function Zse(o,h){if(bt(o))try{os(o,h,void 0)}catch(m){if(m!==sv)throw m}else{o=W5(o);try{for(;;)h.call(void 0,o.next(),void 0,o)}catch(m){if(m!==sv)throw m}}}(o,function(m){h.push(m)}),h}(this.ha(!0)),h=this;os(o,function(m){h.ra(m)})},rt(y1,m1),(n=y1.prototype).set=function(o,h){try{this.a.setItem(o,h)}catch{throw 0==this.a.length?"Storage mechanism: Storage disabled":"Storage mechanism: Quota exceeded"}},n.get=function(o){if(!W(o=this.a.getItem(o))&&null!==o)throw"Storage mechanism: Invalid value was encountered";return o},n.ra=function(o){this.a.removeItem(o)},n.ha=function(o){var h=0,m=this.a,b=new dm;return b.next=function(){if(h>=m.length)throw sv;var I=m.key(h++);if(o)return I;if(!W(I=m.getItem(I)))throw"Storage mechanism: Invalid value was encountered";return I},b},n.clear=function(){this.a.clear()},n.key=function(o){return this.a.key(o)},rt(H2,y1),rt($2,y1),rt(_v,m1),_v.prototype.set=function(o,h){this.g.set(this.a+o,h)},_v.prototype.get=function(o){return this.g.get(this.a+o)},_v.prototype.ra=function(o){this.g.ra(this.a+o)},_v.prototype.ha=function(o){var h=this.g.ha(!0),m=this,b=new dm;return b.next=function(){for(var I=h.next();I.substr(0,m.a.length)!=m.a;)I=h.next();return o?I.substr(m.a.length):m.g.get(I)},b},_1(new H2);var O8=new $2,z2=new aE(_1(O8)?new _v(O8,"firebaseui"):null),q2={name:"pendingEmailCredential",storage:z2},xm={name:"redirectStatus",storage:z2},lE={name:"redirectUrl",storage:z2},vv={name:"emailForSignIn",storage:new aE(new pv(3600,"/"))},cE={name:"pendingEncryptedCredential",storage:new aE(new pv(3600,"/"))};function bv(o,h){return o.storage.get(h?o.name+":"+h:o.name)}function ta(o,h){o.storage.a.ra(h?o.name+":"+h:o.name)}function wv(o,h,m){o.storage.set(m?o.name+":"+m:o.name,h)}function P8(o){return bv(lE,o)||null}function Gu(o){return y8(o=bv(q2,o)||null)}function Hu(o){ta(q2,o)}function F8(o,h){wv(q2,m8(o),h)}function W2(o){return(o=bv(xm,o)||null)&&typeof o.tenantId<"u"?new _8(o.tenantId):null}function Z2(){this.W={}}function kr(o,h,m){if(h.toLowerCase()in o.W)throw Error("Configuration "+h+" has already been defined.");o.W[h.toLowerCase()]=m}function Y2(o,h,m){if(!(h.toLowerCase()in o.W))throw Error("Configuration "+h+" is not defined.");o.W[h.toLowerCase()]=m}function K2(o,h){if(!(o=o.get(h)))throw Error("Configuration "+h+" is required.");return o}function Q2(){this.g=void 0,this.a={}}function N8(o,h,m,b){for(var I=0;I<h.length;I++){var S=h.charAt(I);o.a[S]||(o.a[S]=new Q2),o=o.a[S]}if(b&&void 0!==o.g)throw Error('The collection already contains the key "'+h+'"');o.g=m}function L8(o,h){for(var m in void 0!==o.g&&h.push(o.g),o.a)L8(o.a[m],h)}function B8(o,h,m){for(var b in void 0!==o.g&&m.push(h),o.a)B8(o.a[b],h+b,m)}function V8(o){for(this.a=o,this.g=new Q2,o=0;o<this.a.length;o++){var h=this.g.get("+"+this.a[o].b);h?h.push(this.a[o]):this.g.add("+"+this.a[o].b,[this.a[o]])}}function v1(o,h){var m={},b=0;for(void 0!==(o=o.g).g&&(m[b]=o.g);b<h.length;b++){var I=h.charAt(b);if(!(I in o.a))break;void 0!==(o=o.a[I]).g&&(m[b]=o.g)}for(var S in m)if(m.hasOwnProperty(S))return m[S];return[]}function Dm(o){for(var h=0;h<Oo.length;h++)if(Oo[h].c===o)return Oo[h];return null}function U8(o){o=o.toUpperCase();for(var h=[],m=0;m<Oo.length;m++)Oo[m].f===o&&h.push(Oo[m]);return h}function j8(o){if(0<o.length&&"+"==o.charAt(0)){o=o.substring(1);for(var h=[],m=0;m<Oo.length;m++)Oo[m].b==o&&h.push(Oo[m]);o=h}else o=U8(o);return o}function G8(o){o.sort(function(h,m){return h.name.localeCompare(m.name,"en")})}Z2.prototype.get=function(o){if(!(o.toLowerCase()in this.W))throw Error("Configuration "+o+" is not defined.");return this.W[o.toLowerCase()]},(n=Q2.prototype).set=function(o,h){N8(this,o,h,!1)},n.add=function(o,h){N8(this,o,h,!0)},n.get=function(o){e:{for(var h=this,m=0;m<o.length;m++)if(!(h=h.a[o.charAt(m)])){o=void 0;break e}o=h}return o?o.g:void 0},n.la=function(){var o=[];return L8(this,o),o},n.ja=function(){var o=[];return B8(this,"",o),o},n.clear=function(){this.a={},this.g=void 0};var Oo=[{name:"Afghanistan",c:"93-AF-0",b:"93",f:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",f:"AX"},{name:"Albania",c:"355-AL-0",b:"355",f:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",f:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",f:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",f:"AD"},{name:"Angola",c:"244-AO-0",b:"244",f:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",f:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",f:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",f:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",f:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",f:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",f:"AC"},{name:"Australia",c:"61-AU-0",b:"61",f:"AU"},{name:"Austria",c:"43-AT-0",b:"43",f:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",f:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",f:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",f:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",f:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",f:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",f:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",f:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",f:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",f:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",f:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",f:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",f:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",f:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",f:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",f:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",f:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",f:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",f:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",f:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",f:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",f:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",f:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",f:"CM"},{name:"Canada",c:"1-CA-0",b:"1",f:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",f:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",f:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",f:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",f:"CF"},{name:"Chad",c:"235-TD-0",b:"235",f:"TD"},{name:"Chile",c:"56-CL-0",b:"56",f:"CL"},{name:"China",c:"86-CN-0",b:"86",f:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",f:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",f:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",f:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",f:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",f:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",f:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",f:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",f:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",f:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",f:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",f:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",f:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",f:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",f:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",f:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",f:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",f:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",f:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",f:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",f:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",f:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",f:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",f:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",f:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",f:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",f:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",f:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",f:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",f:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",f:"FI"},{name:"France",c:"33-FR-0",b:"33",f:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",f:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",f:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",f:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",f:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",f:"GE"},{name:"Germany",c:"49-DE-0",b:"49",f:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",f:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",f:"GI"},{name:"Greece",c:"30-GR-0",b:"30",f:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",f:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",f:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",f:"GP"},{name:"Guam",c:"1-GU-0",b:"1",f:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",f:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",f:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",f:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",f:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",f:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",f:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",f:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",f:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",f:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",f:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",f:"IS"},{name:"India",c:"91-IN-0",b:"91",f:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",f:"ID"},{name:"Iran",c:"98-IR-0",b:"98",f:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",f:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",f:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",f:"IM"},{name:"Israel",c:"972-IL-0",b:"972",f:"IL"},{name:"Italy",c:"39-IT-0",b:"39",f:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",f:"JM"},{name:"Japan",c:"81-JP-0",b:"81",f:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",f:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",f:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",f:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",f:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",f:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",f:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",f:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",f:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",f:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",f:"KG"},{name:"Laos",c:"856-LA-0",b:"856",f:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",f:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",f:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",f:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",f:"LR"},{name:"Libya",c:"218-LY-0",b:"218",f:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",f:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",f:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",f:"LU"},{name:"Macau",c:"853-MO-0",b:"853",f:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",f:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",f:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",f:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",f:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",f:"MV"},{name:"Mali",c:"223-ML-0",b:"223",f:"ML"},{name:"Malta",c:"356-MT-0",b:"356",f:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",f:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",f:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",f:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",f:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",f:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",f:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",f:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",f:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",f:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",f:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",f:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",f:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",f:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",f:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",f:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",f:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",f:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",f:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",f:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",f:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",f:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",f:"NI"},{name:"Niger",c:"227-NE-0",b:"227",f:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",f:"NG"},{name:"Niue",c:"683-NU-0",b:"683",f:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",f:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",f:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",f:"MP"},{name:"Norway",c:"47-NO-0",b:"47",f:"NO"},{name:"Oman",c:"968-OM-0",b:"968",f:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",f:"PK"},{name:"Palau",c:"680-PW-0",b:"680",f:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",f:"PS"},{name:"Panama",c:"507-PA-0",b:"507",f:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",f:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",f:"PY"},{name:"Peru",c:"51-PE-0",b:"51",f:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",f:"PH"},{name:"Poland",c:"48-PL-0",b:"48",f:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",f:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",f:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",f:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",f:"RE"},{name:"Romania",c:"40-RO-0",b:"40",f:"RO"},{name:"Russia",c:"7-RU-0",b:"7",f:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",f:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",f:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",f:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",f:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",f:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",f:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",f:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",f:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",f:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",f:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",f:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",f:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",f:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",f:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",f:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",f:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",f:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",f:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",f:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",f:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",f:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",f:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",f:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",f:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",f:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",f:"SS"},{name:"Spain",c:"34-ES-0",b:"34",f:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",f:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",f:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",f:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",f:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",f:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",f:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",f:"CH"},{name:"Syria",c:"963-SY-0",b:"963",f:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",f:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",f:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",f:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",f:"TH"},{name:"Togo",c:"228-TG-0",b:"228",f:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",f:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",f:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",f:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",f:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",f:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",f:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",f:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",f:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",f:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",f:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",f:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",f:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",f:"GB"},{name:"United States",c:"1-US-0",b:"1",f:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",f:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",f:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",f:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",f:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",f:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",f:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",f:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",f:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",f:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",f:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",f:"ZW"}];G8(Oo);var uE=new V8(Oo);function H8(o,h){this.a=o,this.Aa=h}function $8(o){o=Ba(o);var h=v1(uE,o);return 0<h.length?new H8("1"==h[0].b?"1-US-0":h[0].c,Ba(o.substr(h[0].b.length+1))):null}function J2(o){var h=Dm(o.a);if(!h)throw Error("Country ID "+o.a+" not found.");return"+"+h.b+o.Aa}function z8(o,h){for(var m=0;m<o.length;m++)if(!hi(q8,o[m])&&(null!==Cv&&o[m]in Cv||hi(h,o[m])))return o[m];return null}var q8=["emailLink","password","phone"],Cv={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function gae(){this.a=new Z2,kr(this.a,"autoUpgradeAnonymousUsers"),kr(this.a,"callbacks"),kr(this.a,"credentialHelper",C1),kr(this.a,"immediateFederatedRedirect",!1),kr(this.a,"popupMode",!1),kr(this.a,"privacyPolicyUrl"),kr(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),kr(this.a,"queryParameterForWidgetMode","mode"),kr(this.a,"signInFlow"),kr(this.a,"signInOptions"),kr(this.a,"signInSuccessUrl"),kr(this.a,"siteName"),kr(this.a,"tosUrl"),kr(this.a,"widgetUrl"),kr(this.a,"adminRestrictedOperation")}function b1(o){var h=!!o.a.get("autoUpgradeAnonymousUsers");return h&&!nz(o)&&ja('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),h}function w1(o){o=o.a.get("signInOptions")||[];for(var h=[],m=0;m<o.length;m++){var b=o[m];(b=Bt(b)?b:{provider:b}).provider&&h.push(b)}return h}function Ga(o,h){o=w1(o);for(var m=0;m<o.length;m++)if(o[m].provider===h)return o[m];return null}function Ev(o){return w1(o).map(function(h){return h.provider})}function dE(o,h){o=W8(o);for(var m=0;m<o.length;m++)if(o[m].providerId===h)return o[m];return null}function W8(o){return w1(o).map(function(h){if(Cv[h.provider]||hi(Dae,h.provider)){for(var m in h={providerId:h.provider,S:h.providerName||null,V:h.fullLabel||null,ta:h.buttonColor||null,za:h.iconUrl?Gf(LT(h.iconUrl)).toString():null})null===h[m]&&delete h[m];return h}return{providerId:h.provider,S:h.providerName||null,V:h.fullLabel||null,ta:h.buttonColor||null,za:h.iconUrl?Gf(LT(h.iconUrl)).toString():null,Ob:h.loginHintKey||null}})}function Z8(o){var m,h=Ga(o,wt.Z.auth.GoogleAuthProvider.PROVIDER_ID);if(m=h&&h.clientId){e:{if("http:"===(window.location&&window.location.protocol)||"https:"===(window.location&&window.location.protocol))for(b in o=o.a.get("credentialHelper"),iB)if(iB[b]===o){var b=iB[b];break e}b=C1}m=b===nB}return m&&h.clientId||null}function Y8(o){return!!((o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.status)}function Im(o){return!(!(o=o.a.get("adminRestrictedOperation")||null)||!o.status)}function K8(o,h){return o=(o=Ga(o,h))&&o.scopes,Array.isArray(o)?o:[]}function Q8(o,h){return Bt(o=(o=Ga(o,h))&&o.customParameters)?(o=KL(o),h===wt.Z.auth.GoogleAuthProvider.PROVIDER_ID&&delete o.login_hint,h===wt.Z.auth.GithubAuthProvider.PROVIDER_ID&&delete o.login,o):null}function X2(o){if(!(o=Ga(o,wt.Z.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var h=o.whitelistedCountries,m=o.blacklistedCountries;if(typeof h<"u"&&(!Array.isArray(h)||0==h.length))throw Error("WhitelistedCountries must be a non-empty array.");if(typeof m<"u"&&!Array.isArray(m))throw Error("BlacklistedCountries must be an array.");if(h&&m)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!h&&!m)return Oo;if(o=[],h){m={};for(var b=0;b<h.length;b++)for(var I=j8(h[b]),S=0;S<I.length;S++)m[I[S].c]=I[S];for(var j in m)m.hasOwnProperty(j)&&o.push(m[j])}else{for(j={},h=0;h<m.length;h++)for(I=j8(m[h]),b=0;b<I.length;b++)j[I[b].c]=I[b];for(I=0;I<Oo.length;I++)null!==j&&Oo[I].c in j||o.push(Oo[I])}return o}function J8(o){return K2(o.a,"queryParameterForWidgetMode")}function Or(o){var h=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,h&&!o&&Yf("Privacy Policy URL is missing, the link will not be displayed."),h&&o){if("function"==typeof h)return h;if("string"==typeof h)return function(){fv(h)}}return null}function Pr(o){var h=o.a.get("tosUrl")||null,m=o.a.get("privacyPolicyUrl")||null;if(m&&!h&&Yf("Term of Service URL is missing, the link will not be displayed."),h&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){fv(m)}}return null}function X8(o){return!((o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))&&typeof o.requireDisplayName<"u"&&!o.requireDisplayName)}function xv(o){return!(!(o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))||o.signInMethod!==wt.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function eB(o){var h=!!o.a.get("immediateFederatedRedirect"),m=Ev(o);return o=ez(o),h&&1==m.length&&!hi(q8,m[0])&&o==E1}function ez(o){for(var h in o=o.a.get("signInFlow"),rB)if(rB[h]==o)return rB[h];return E1}function tB(o){return hE(o).signInSuccess||null}function tz(o){return hE(o).signInSuccessWithAuthResult||null}function nz(o){return hE(o).signInFailure||null}function hE(o){return o.a.get("callbacks")||{}}var fE,Dv,oB,iz,nB="googleyolo",C1="none",iB={nc:nB,NONE:C1},E1="redirect",rB={qc:"popup",rc:E1},sB={mc:"callback",RECOVER_EMAIL:"recoverEmail",sc:"resetPassword",REVERT_SECOND_FACTOR_ADDITION:"revertSecondFactorAddition",tc:"select",uc:"signIn",VERIFY_AND_CHANGE_EMAIL:"verifyAndChangeEmail",VERIFY_EMAIL:"verifyEmail"},Dae=["anonymous"],Iae=["sitekey","tabindex","callback","expired-callback"],ni={};function St(o,h,m,b){ni[o].apply(null,Array.prototype.slice.call(arguments,1))}function rz(o){return o.classList?o.classList:W(o=o.className)&&o.match(/\S+/g)||[]}function pE(o,h){return o.classList?o.classList.contains(h):hi(rz(o),h)}function $u(o,h){o.classList?o.classList.add(h):pE(o,h)||(o.className+=0<o.className.length?" "+h:h)}function zu(o,h){o.classList?o.classList.remove(h):pE(o,h)&&(o.className=$i(rz(o),function(m){return m!=h}).join(" "))}function As(o){var h=o.type;switch(W(h)&&h.toLowerCase()){case"checkbox":case"radio":return o.checked?o.value:null;case"select-one":return 0<=(h=o.selectedIndex)?o.options[h].value:null;case"select-multiple":h=[];for(var m,b=0;m=o.options[b];b++)m.selected&&h.push(m.value);return h.length?h:null;default:return null!=o.value?o.value:null}}function sz(o,h){var m=o.type;switch(W(m)&&m.toLowerCase()){case"checkbox":case"radio":o.checked=h;break;case"select-one":if(o.selectedIndex=-1,W(h))for(var b=0;m=o.options[b];b++)if(m.value==h){m.selected=!0;break}break;case"select-multiple":for(W(h)&&(h=[h]),b=0;m=o.options[b];b++)if(m.selected=!1,h)for(var I,S=0;I=h[S];S++)m.value==I&&(m.selected=!0);break;default:o.value=h??""}}function oz(o,h,m,b,I,S){if(Mo&&!gm("525"))return!0;if(jf&&I)return gE(o);if(I&&!b)return!1;if(!Bc&&("number"==typeof h&&(h=aB(h)),(!m||jf)&&(17==h||18==h||jf&&91==h)||jf&&16==h&&(b||S)))return!1;if((Mo||Uf)&&b&&m)switch(o){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Er&&b&&h==o)return!1;switch(o){case 13:return!(Bc&&(S||I||m&&b));case 27:return!(Mo||Uf||Bc)}return(!Bc||!(b||I||S))&&gE(o)}function gE(o){if(48<=o&&57>=o||96<=o&&106>=o||65<=o&&90>=o||(Mo||Uf)&&0==o)return!0;switch(o){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return Bc;default:return!1}}function aB(o){return Bc?o=function Sae(o){switch(o){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return o}}(o):jf&&Mo&&93===o&&(o=91),o}function Iv(o){Wr.call(this),this.a=o,Vc(o,"keydown",this.g,!1,this),Vc(o,"click",this.h,!1,this)}function az(o,h){var m=new cz(h);if(Wf(o,m)){m=new lz(h);try{Wf(o,m)}finally{h.stopPropagation()}}}function lz(o){ko.call(this,o.a),this.type="action"}function cz(o){ko.call(this,o.a),this.type="beforeaction"}function Av(o){Wr.call(this),this.a=o,o=Er?"focusout":"blur",this.g=Vc(this.a,Er?"focusin":"focus",this,!Er),this.h=Vc(this.a,o,this,!Er)}function x1(o,h){Wr.call(this),this.g=o||1,this.a=h||k,this.h=Jn(this.gc,this),this.j=Vu()}function D1(o){o.Ka=!1,o.aa&&(o.a.clearTimeout(o.aa),o.aa=null)}function Sv(o){vm.call(this),this.g=o,this.a={}}rt(Iv,Wr),Iv.prototype.g=function(o){(13==o.keyCode||Mo&&3==o.keyCode)&&az(this,o)},Iv.prototype.h=function(o){az(this,o)},Iv.prototype.o=function(){Iv.K.o.call(this),bm(this.a,"keydown",this.g,!1,this),bm(this.a,"click",this.h,!1,this),delete this.a},rt(lz,ko),rt(cz,ko),rt(Av,Wr),Av.prototype.handleEvent=function(o){var h=new ko(o.a);h.type="focusin"==o.type||"focus"==o.type?"focusin":"focusout",Wf(this,h)},Av.prototype.o=function(){Av.K.o.call(this),qf(this.g),qf(this.h),delete this.a},rt(x1,Wr),(n=x1.prototype).Ka=!1,n.aa=null,n.gc=function(){if(this.Ka){var o=Vu()-this.j;0<o&&o<.8*this.g?this.aa=this.a.setTimeout(this.h,this.g-o):(this.aa&&(this.a.clearTimeout(this.aa),this.aa=null),Wf(this,"tick"),this.Ka&&(D1(this),this.start()))}},n.start=function(){this.Ka=!0,this.aa||(this.aa=this.a.setTimeout(this.h,this.g),this.j=Vu())},n.o=function(){x1.K.o.call(this),D1(this),delete this.a},rt(Sv,vm);var uz=[];function Tv(o,h,m,b){Ct(m)||(m&&(uz[0]=m.toString()),m=uz);for(var I=0;I<m.length;I++){var S=Vc(h,m[I],b||o.handleEvent,!1,o.g||o);if(!S)break;o.a[S.key]=S}}function dz(o){z5(o.a,function(h,m){this.a.hasOwnProperty(m)&&qf(h)},o),o.a={}}function mE(o){Wr.call(this),this.a=null,this.g=o,o=Er||Uf||Mo&&!gm("531")&&"TEXTAREA"==o.tagName,this.h=new Sv(this),Tv(this.h,this.g,o?["keydown","paste","cut","drop","input"]:"input",this)}function lB(o){null!=o.a&&(k.clearTimeout(o.a),o.a=null)}function hz(o){return(o=new ko(o.a)).type="input",o}function yE(o,h){Wr.call(this),o&&(this.Oa&&yz(this),this.qa=o,this.Na=Vc(this.qa,"keypress",this,h),this.Ya=Vc(this.qa,"keydown",this.Jb,h,this),this.Oa=Vc(this.qa,"keyup",this.Kb,h,this))}Sv.prototype.o=function(){Sv.K.o.call(this),dz(this)},Sv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rt(mE,Wr),mE.prototype.handleEvent=function(o){if("input"==o.type)Er&&gm(10)&&0==o.keyCode&&0==o.j||(lB(this),Wf(this,hz(o)));else if("keydown"!=o.type||function Aae(o){if(o.altKey&&!o.ctrlKey||o.metaKey||112<=o.keyCode&&123>=o.keyCode)return!1;if(gE(o.keyCode))return!0;switch(o.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!Bc;default:return 166>o.keyCode||183<o.keyCode}}(o)){var h="keydown"==o.type?this.g.value:null;Er&&229==o.keyCode&&(h=null);var m=hz(o);lB(this),this.a=function Tae(o,h){if(Ft(o))h&&(o=Jn(o,h));else{if(!o||"function"!=typeof o.handleEvent)throw Error("Invalid listener argument");o=Jn(o.handleEvent,o)}return 2147483647<Number(0)?-1:k.setTimeout(o,0)}(function(){this.a=null,this.g.value!=h&&Wf(this,m)},this)}},mE.prototype.o=function(){mE.K.o.call(this),this.h.m(),lB(this),delete this.g},rt(yE,Wr),(n=yE.prototype).qa=null,n.Na=null,n.Ya=null,n.Oa=null,n.R=-1,n.X=-1,n.Ua=!1;var fz={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},pz={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},gz=!Mo||gm("525"),mz=jf&&Bc;function yz(o){o.Na&&(qf(o.Na),qf(o.Ya),qf(o.Oa),o.Na=null,o.Ya=null,o.Oa=null),o.qa=null,o.R=-1,o.X=-1}function _z(o,h,m,b){ko.call(this,b),this.type="key",this.keyCode=o,this.j=h,this.repeat=m}function Mv(o,h,m,b){this.top=o,this.right=h,this.bottom=m,this.left=b}function I1(o,h){var m=ZC(o);return m.defaultView&&m.defaultView.getComputedStyle&&(o=m.defaultView.getComputedStyle(o,null))&&(o[h]||o.getPropertyValue(h))||""}function vz(o){try{var h=o.getBoundingClientRect()}catch{return{left:0,top:0,right:0,bottom:0}}return Er&&o.ownerDocument.body&&(h.left-=(o=o.ownerDocument).documentElement.clientLeft+o.body.clientLeft,h.top-=o.documentElement.clientTop+o.body.clientTop),h}function bz(o){var h=ZC(o),m=new $f(0,0),b=h?ZC(h):document;return o==(b=!Er||9<=Number(qC)||"CSS1Compat"==VT(b).a.compatMode?b.documentElement:b.body)||(o=vz(o),h=UT(b=VT(h).a),b=b.parentWindow||b.defaultView,h=Er&&gm("10")&&b.pageYOffset!=h.scrollTop?new $f(h.scrollLeft,h.scrollTop):new $f(b.pageXOffset||h.scrollLeft,b.pageYOffset||h.scrollTop),m.a=o.left+h.a,m.g=o.top+h.g),m}(n=yE.prototype).Jb=function(o){(Mo||Uf)&&(17==this.R&&!o.ctrlKey||18==this.R&&!o.altKey||jf&&91==this.R&&!o.metaKey)&&(this.X=this.R=-1),-1==this.R&&(o.ctrlKey&&17!=o.keyCode?this.R=17:o.altKey&&18!=o.keyCode?this.R=18:o.metaKey&&91!=o.keyCode&&(this.R=91)),gz&&!oz(o.keyCode,this.R,o.shiftKey,o.ctrlKey,o.altKey,o.metaKey)?this.handleEvent(o):(this.X=aB(o.keyCode),mz&&(this.Ua=o.altKey))},n.Kb=function(o){this.X=this.R=-1,this.Ua=o.altKey},n.handleEvent=function(o){var h=o.a,m=h.altKey;if(Er&&"keypress"==o.type)var b=this.X,I=13!=b&&27!=b?h.keyCode:0;else(Mo||Uf)&&"keypress"==o.type?(b=this.X,I=0<=h.charCode&&63232>h.charCode&&gE(b)?h.charCode:0):r$&&!Mo?I=gE(b=this.X)?h.keyCode:0:("keypress"==o.type?(mz&&(m=this.Ua),h.keyCode==h.charCode?32>h.keyCode?(b=h.keyCode,I=0):(b=this.X,I=h.charCode):(b=h.keyCode||this.X,I=h.charCode||0)):(b=h.keyCode||this.X,I=h.charCode||0),jf&&63==I&&224==b&&(b=191));var S=b=aB(b);b?63232<=b&&b in fz?S=fz[b]:25==b&&o.shiftKey&&(S=9):h.keyIdentifier&&h.keyIdentifier in pz&&(S=pz[h.keyIdentifier]),Bc&&gz&&"keypress"==o.type&&!oz(S,this.R,o.shiftKey,o.ctrlKey,m,o.metaKey)||(o=S==this.R,this.R=S,(h=new _z(S,I,o,h)).altKey=m,Wf(this,h))},n.N=function(){return this.qa},n.o=function(){yE.K.o.call(this),yz(this)},rt(_z,ko),Mv.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},Mv.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},Mv.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},Mv.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var wz={thin:2,medium:4,thick:6};function A1(o,h){if("none"==(o.currentStyle?o.currentStyle[h+"Style"]:null))return 0;var m=o.currentStyle?o.currentStyle[h+"Width"]:null;if(m in wz)o=wz[m];else if(/^\d+px?$/.test(m))o=parseInt(m,10);else{h=o.style.left;var b=o.runtimeStyle.left;o.runtimeStyle.left=o.currentStyle.left,o.style.left=m,m=o.style.pixelLeft,o.style.left=h,o.runtimeStyle.left=b,o=+m}return o}function cB(){}function Am(o){Wr.call(this),this.s=o||VT(),this.cb=null,this.na=!1,this.g=null,this.L=void 0,this.oa=this.Ea=this.Y=null}function Un(o,h){return o.g?c2(h,o.g||o.s.a):null}function _E(o){return o.L||(o.L=new Sv(o)),o.L}function uB(o,h){o.Ea&&os(o.Ea,h,void 0)}function Ir(o,h){var m=_$(o,"firebaseui-textfield");h?(zu(o,"firebaseui-input-invalid"),$u(o,"firebaseui-input"),m&&zu(m,"firebaseui-textfield-invalid")):(zu(o,"firebaseui-input"),$u(o,"firebaseui-input-invalid"),m&&$u(m,"firebaseui-textfield-invalid"))}function Rv(o,h,m){QC(o,Na(JC,h=new mE(h))),Tv(_E(o),h,"input",m)}function vE(o,h,m){QC(o,Na(JC,h=new yE(h))),Tv(_E(o),h,"key",function(b){13==b.keyCode&&(b.stopPropagation(),b.preventDefault(),m(b))})}function lr(o,h,m){QC(o,Na(JC,h=new Iv(h))),Tv(_E(o),h,"action",function(b){b.stopPropagation(),b.preventDefault(),m(b)})}function Ha(o){$u(o,"firebaseui-hidden")}function Ss(o,h){h&&u2(o,h),zu(o,"firebaseui-hidden")}function kv(o){return!pE(o,"firebaseui-hidden")&&"none"!=o.style.display}function Ov(o){var m=(o=o||{}).disabled,b='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return b=o.wc?b+"Enter new email address":b+"Email",b+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+Ro(o.email??"")+'"'+(m?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',Et(b)}function na(o){var h='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return h=(o=(o=o||{}).label)?h+ln(o):h+"Next",Et(h+"</button>")}function dB(){var o=""+na({label:xr("Sign In")});return Et(o)}function Cz(){var o=""+na({label:xr("Save")});return Et(o)}function Uc(){var o=""+na({label:xr("Continue")});return Et(o)}function Ez(o){var h='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return h=(o=(o=o||{}).label)?h+ln(o):h+"Choose password",Et(h+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function xz(){var h='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return Et((h={}.current?h+"Current password":h+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Dz(){return Et('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function $a(o){var h='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return h=(o=(o=o||{}).label)?h+ln(o):h+"Cancel",Et(h+"</button>")}function Gs(o){var h="";return o.F&&o.D&&(h+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),Et(h)}function Pv(o){var h="";return o.F&&o.D&&(h+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),Et(h)}function Iz(o){return o='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+ln(o.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',Et(o)}function Az(o){var h=o.content;return Et('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((o=o.Ab)?" "+Ro(o):"")+'">'+ln(h)+"</dialog>")}function Sz(o){var h=o.message;return Et(Az({content:w$('<div class="firebaseui-dialog-icon-wrapper"><div class="'+Ro(o.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+ln(h)+"</div>")}))}function Tz(o){for(var h='<div class="firebaseui-list-box-actions">',m=(o=o.items).length,b=0;b<m;b++){var I=o[b];h+='<button type="button" data-listboxid="'+Ro(I.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(I.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+Ro(I.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+ln(I.label)+"</div></button>"}return h=""+Az({Ab:xr("firebaseui-list-box-dialog"),content:w$(h+"</div>")}),Et(h)}function S1(o){return Et((o=o||{}).tb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Kf(o,h){return Yn((o=(o=o||{}).ga).S?o.S:h.hb[o.providerId]?""+h.hb[o.providerId]:o.providerId&&0==o.providerId.indexOf("saml.")||o.providerId&&0==o.providerId.indexOf("oidc.")?o.providerId.substring(5):""+o.providerId)}function hB(o){Mz(o,"upgradeElement")}function fB(o){Mz(o,"downgradeElements")}Ze(cB),cB.prototype.a=0,rt(Am,Wr),(n=Am.prototype).Lb=cB.Xa(),n.N=function(){return this.g},n.Za=function(o){if(this.Y&&this.Y!=o)throw Error("Method not supported");Am.K.Za.call(this,o)},n.kb=function(){this.g=this.s.a.createElement("DIV")},n.render=function(o){if(this.na)throw Error("Component already rendered");this.g||this.kb(),o?o.insertBefore(this.g,null):this.s.a.body.appendChild(this.g),this.Y&&!this.Y.na||this.v()},n.v=function(){this.na=!0,uB(this,function(o){!o.na&&o.N()&&o.v()})},n.ya=function(){uB(this,function(o){o.na&&o.ya()}),this.L&&dz(this.L),this.na=!1},n.o=function(){this.na&&this.ya(),this.L&&(this.L.m(),delete this.L),uB(this,function(o){o.m()}),this.g&&ym(this.g),this.Y=this.g=this.oa=this.Ea=null,Am.K.o.call(this)},n.removeChild=function(o,h){if(o){var m=W(o)?o:o.cb||(o.cb=":"+(o.Lb.a++).toString(36));if(o=this.oa&&m&&(null!==(o=this.oa)&&m in o?o[m]:void 0)||null,m&&o){var b=this.oa;if(m in b&&delete b[m],ju(this.Ea,o),h&&(o.ya(),o.g&&ym(o.g)),null==(h=o))throw Error("Unable to set parent component");h.Y=null,Am.K.Za.call(h,null)}}if(!o)throw Error("Child is not in parent component");return o},Iz.a="firebaseui.auth.soy2.element.infoBar",Sz.a="firebaseui.auth.soy2.element.progressDialog",Tz.a="firebaseui.auth.soy2.element.listBoxDialog",S1.a="firebaseui.auth.soy2.element.busyIndicator";var Oae=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Mz(o,h){o&&window.componentHandler&&window.componentHandler[h]&&Oae.forEach(function(m){pE(o,m)&&window.componentHandler[h](o),os(l2(m,o),function(b){window.componentHandler[h](b)})})}function Rz(o,h,m){if(T1.call(this),document.body.appendChild(o),o.showModal||window.dialogPolyfill.registerDialog(o),o.showModal(),hB(o),h&&lr(this,o,function(S){var j=o.getBoundingClientRect();(S.clientX<j.left||j.left+j.width<S.clientX||S.clientY<j.top||j.top+j.height<S.clientY)&&T1.call(this)}),!m){var b=this.N().parentElement||this.N().parentNode;if(b){var I=this;this.da=function(){if(o.open){var S=o.getBoundingClientRect().height,j=b.getBoundingClientRect().height,le=b.getBoundingClientRect().top-document.body.getBoundingClientRect().top,Ue=b.getBoundingClientRect().left-document.body.getBoundingClientRect().left,lt=o.getBoundingClientRect().width,Nt=b.getBoundingClientRect().width;o.style.top=(le+(j-S)/2).toString()+"px",o.style.left=(S=Ue+(Nt-lt)/2).toString()+"px",o.style.right=(document.body.getBoundingClientRect().width-S-lt).toString()+"px"}else window.removeEventListener("resize",I.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function T1(){var o=pB.call(this);o&&(fB(o),o.open&&o.close(),ym(o),this.da&&window.removeEventListener("resize",this.da))}function pB(){return c2("firebaseui-id-dialog")}function kz(){ym(Oz.call(this))}function Oz(){return Un(this,"firebaseui-id-info-bar")}function Pz(){return Un(this,"firebaseui-id-dismiss-info-bar")}var Pae={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},hb:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function gB(o,h,m){for(var b in ch.call(this,o,h),m)this[b]=m[b]}function et(o,h,m,b,I){Am.call(this,m),this.fb=o,this.eb=h,this.Fa=!1,this.Ga=b||null,this.A=this.ca=null,this.Z=KL(Pae),kT(this.Z,I||{})}function tr(o){return o.N().parentElement||o.N().parentNode}function bE(o,h,m){vE(o,h,function(){m.focus()})}function Fv(o,h,m){vE(o,h,function(){m()})}function Fz(o,h,m){h=(o=o||{}).Va;var b=o.ia;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ov(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?$a(null):"")+na(null)+'</div></div><div class="firebaseui-card-footer">'+(b?Pv(m):Gs(m))+"</div></form></div>",Et(o)}function Nz(o,h,m){return h=(o=o||{}).ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Ov(o)+xz()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Dz()+'</div><div class="firebaseui-form-actions">'+dB()+'</div></div><div class="firebaseui-card-footer">'+(h?Pv(m):Gs(m))+"</div></form></div>",Et(o)}function Lz(o,h,m){var b=(o=o||{}).Tb;h=o.Ta;var I=o.ia,S='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Ov(o);return b?(o='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+Ro((o=(o=o||{}).name)??"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',o=Et(o)):o="",m=S+o+Ez(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?$a(null):"")+Cz()+'</div></div><div class="firebaseui-card-footer">'+(I?Pv(m):Gs(m))+"</div></form></div>",Et(m)}function Bz(o,h,m){return h=(o=o||{}).Ta,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Ov(o)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(h?$a(null):"")+na({label:xr("Send")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(o)}function Vz(o,h,m){h=o.G;var b="";return b+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(o="Follow the instructions sent to <strong>"+ln(o.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',h&&(b+='<div class="firebaseui-form-actions">'+na({label:xr("Done")})+"</div>"),b+='</div><div class="firebaseui-card-footer">'+Gs(m)+"</div></div>",Et(b)}function Uz(o,h,m){return Et('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+S1(null)+"</div></div>")}function jz(o,h,m){return Et('<div class="firebaseui-container firebaseui-id-page-spinner">'+S1({tb:!0})+"</div>")}function Gz(){return Et('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function Hz(o,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(o="A sign-in email with additional instructions was sent to <strong>"+ln(o.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Et('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+$a({label:xr("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function $z(o,h,m){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Et('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+$a({label:xr("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(o)}function zz(o,h,m){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Ov(o)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a(null)+na(null)+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(o)}function qz(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a({label:xr("Dismiss")})+"</div></div></div>";return Et(o)}function Wz(){var o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a({label:xr("Dismiss")})+"</div></div></div>";return Et(o)}function Zz(o,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(o="You\u2019ve already used <strong>"+ln(o.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+xz()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Dz()+'</div><div class="firebaseui-form-actions">'+dB()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function Yz(o,h,m){var b=o.email;return h="",o=xr(o=""+Kf(o,m)),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(b="You\u2019ve already used <strong>"+ln(b)+"</strong>. You can connect your <strong>"+ln(o)+"</strong> account with <strong>"+ln(b)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(o="For this flow to successfully connect your "+ln(o)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+dB()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function Kz(o,h,m){h="";var b=""+Kf(o,m);return h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(o="You originally intended to connect <strong>"+ln(b=xr(b))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(b="If you still want to connect your <strong>"+ln(b)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Uc()+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function Qz(o,h,m){var b=o.email;return h="",o=xr(o=""+Kf(o,m)),h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(b="You\u2019ve already used <strong>"+ln(b)+"</strong>. Sign in with "+ln(o)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+na({label:xr("Sign in with "+o)})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function Jz(o,h,m){var b=(o=o||{}).kc;h=o.yb,o=o.Eb;var I='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unauthorized-user"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Not Authorized</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return I+=b?b="<strong>"+ln(b)+"</strong> is not authorized to view the requested page.":"User is not authorized to view the requested page.",I+="</p>",h&&(I+='<p class="firebaseui-text firebaseui-id-unauthorized-user-admin-email">'+(h="Please contact <strong>"+ln(h)+"</strong> for authorization.")+"</p>"),I+='</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">',o&&(I+='<a class="firebaseui-link firebaseui-id-unauthorized-user-help-link" href="javascript:void(0)" target="_blank">Learn More</a>'),I+='</div><div class="firebaseui-form-actions">'+$a({label:xr("Back")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(I)}function Xz(o,h,m){return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(o="To continue sign in with <strong>"+ln(o.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a(null)+na({label:xr("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function e7(o){var h="";return h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+ln(o.email)+"</strong></p>"+Ez(function Eoe(o){function h(){}var m={label:xr("New password")};for(var b in h.prototype=o,o=new h,m)o[b]=m[b];return o}(o))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Cz()+"</div></div></form></div>",Et(h)}function t7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function n7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function r7(o){var h=o.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(o="Your sign-in email address has been changed back to <strong>"+ln(o.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(h?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></form></div>",Et(m)}function s7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function o7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function a7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function l7(o){var h=o.G,m="";return m+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified and changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(o="You can now sign in with your new email <strong>"+ln(o.email)+"</strong>.")+'</p></div><div class="firebaseui-card-actions">'+(h?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(m)}function c7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-verify-and-change-email-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try updating your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify and update your email has expired or the link has already been used.</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function u7(o){var h=o.factorId,m=o.phoneNumber;o=o.G;var b='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Removed second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">';return b+="phone"===h?h="The <strong>"+ln(h)+" "+ln(m)+"</strong> was removed as a second authentication step.":"The device or app was removed as a second authentication step.",b+='</p><p class="firebaseui-text">If you don\'t recognize this device, someone might be trying to access your account. Consider <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">changing your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(o?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></form></div>",Et(b)}function d7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-revert-second-factor-addition-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Couldn\'t remove your second factor</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Something went wrong removing your second factor.</p><p class="firebaseui-text">Try removing it again. If that doesn\'t work, contact support for assistance.</p></div><div class="firebaseui-card-actions">'+((o=o||{}).G?'<div class="firebaseui-form-actions">'+Uc()+"</div>":"")+"</div></div>",Et(o)}function h7(o){var h=o.zb;return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ln(o.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',h&&(o+=na({label:xr("Retry")})),Et(o+"</div></div></div>")}function f7(o){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ln(o.errorMessage)+"</p></div></div>",Et(o)}function p7(o,h,m){var b=o.Qb;return h="",h+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(o="Continue with "+ln(o.jc)+"?")+'</h2><p class="firebaseui-text">'+(b="You originally wanted to sign in with "+ln(b))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a(null)+na({label:xr("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form></div>",Et(h)}function g7(o,h,m){var b='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';h=(o=o.Sb).length;for(var I=0;I<h;I++){var S={ga:o[I]},j=m,le=(S=S||{}).ga,Ue=S,lt="";switch((Ue=Ue||{}).ga.providerId){case"google.com":lt+="firebaseui-idp-google";break;case"github.com":lt+="firebaseui-idp-github";break;case"facebook.com":lt+="firebaseui-idp-facebook";break;case"twitter.com":lt+="firebaseui-idp-twitter";break;case"phone":lt+="firebaseui-idp-phone";break;case"anonymous":lt+="firebaseui-idp-anonymous";break;case"password":lt+="firebaseui-idp-password";break;default:lt+="firebaseui-idp-generic"}Ue=(Ue='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+Ro(Yn(lt))+' firebaseui-id-idp-button" data-provider-id="'+Ro(le.providerId)+'" style="background-color:')+Ro(C$(Yn((lt=(lt=(lt=S)||{}).ga).ta?lt.ta:j.wa[lt.providerId]?""+j.wa[lt.providerId]:0==lt.providerId.indexOf("saml.")?""+j.wa.saml:0==lt.providerId.indexOf("oidc.")?""+j.wa.oidc:""+j.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var Nt=S;lt=j,lt=Coe((Nt=(Nt=Nt||{}).ga).za?_m(Nt.za):lt.xa[Nt.providerId]?_m(lt.xa[Nt.providerId]):0==Nt.providerId.indexOf("saml.")?_m(lt.xa.saml):0==Nt.providerId.indexOf("oidc.")?_m(lt.xa.oidc):_m(lt.xa.password)),Ue=Ue+Ro(_m(lt))+'"></span>',"password"==le.providerId?(Ue+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Ue+=le.V?ln(le.V):le.S?S="Sign in with "+ln(Kf(S,j)):"Sign in with email",Ue+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Ue=le.S?Ue+ln(le.S):Ue+"Email",Ue+="</span>"):"phone"==le.providerId?(Ue+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Ue+=le.V?ln(le.V):le.S?S="Sign in with "+ln(Kf(S,j)):"Sign in with phone",Ue+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Ue=le.S?Ue+ln(le.S):Ue+"Phone",Ue+="</span>"):"anonymous"==le.providerId?(Ue+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Ue+=le.V?ln(le.V):le.S?S="Sign in with "+ln(Kf(S,j)):"Continue as guest",Ue+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">',Ue=le.S?Ue+ln(le.S):Ue+"Guest",Ue+="</span>"):(Ue+='<span class="firebaseui-idp-text firebaseui-idp-text-long">',Ue+=le.V?ln(le.V):lt="Sign in with "+ln(Kf(S,j)),Ue+='</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+ln(le.S?le.S:Kf(S,j))+"</span>"),b+='<li class="firebaseui-list-item">'+(le=Et(Ue+"</button>"))+"</li>"}return b+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Pv(m)+"</div></div>",Et(b)}function m7(o,h,m){var S,b=(o=o||{}).Gb,I=o.Va;return h=o.ia,o='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+Ro((o=(o=o||{}).Aa)??"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',S=(o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Et(o))+(S=b?Et('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(I?$a(null):"")+na({label:xr("Verify")})+'</div></div><div class="firebaseui-card-footer">',h?(h='<p class="firebaseui-tos firebaseui-phone-tos">',m=Et((h=m.F&&m.D?h+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':h+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):m=Et('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Gs(m),Et(S+m+"</div></form></div>")}function y7(o,h,m){var b="";return o='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+ln(h=(o=o||{}).phoneNumber)+"</a>",ln(h),h=b,m='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+o+"</p>"+(b=Et('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+$a(null)+na({label:xr("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Gs(m)+"</div></form>",o=Et('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),Et(h+(m+o+"</div>"))}function _7(){return Et('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function v7(o,h,m){var b='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';h=(o=o.ec).length;for(var I=0;I<h;I++){var S=o[I],j="",le=ln(S.displayName),Ue=S.tenantId?S.tenantId:"top-level-project";j+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+Ro(Ue=xr(Ue))+' firebaseui-id-tenant-selection-button"'+(S.tenantId?'data-tenant-id="'+Ro(S.tenantId)+'"':"")+'style="background-color:'+Ro(C$(S.ta))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+Ro(_m(S.za))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">',j+=S.V?ln(S.V):S="Sign in to "+ln(S.displayName),b+='<li class="firebaseui-list-item">'+(j=Et(j+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+le+"</span></button>"))+"</li>"}return b+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Pv(m)+"</div></div>",Et(b)}function b7(o,h,m){return o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Ov(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+na(null)+'</div></div><div class="firebaseui-card-footer">'+Pv(m)+"</div></form></div>",Et(o)}function as(){return Un(this,"firebaseui-id-submit")}function Yr(){return Un(this,"firebaseui-id-secondary-link")}function Ts(o,h){lr(this,as.call(this),function(b){o(b)});var m=Yr.call(this);m&&h&&lr(this,m,function(b){h(b)})}function M1(){return Un(this,"firebaseui-id-password")}function R1(){return Un(this,"firebaseui-id-password-error")}function w7(){var o=M1.call(this),h=R1.call(this);Rv(this,o,function(){kv(h)&&(Ir(o,!0),Ha(h))})}function C7(){var o=M1.call(this),h=R1.call(this);return As(o)?(Ir(o,!0),Ha(h),h=!0):(Ir(o,!1),Ss(h,Yn("Enter your password").toString()),h=!1),h?As(o):null}function Nv(o,h,m,b,I,S){et.call(this,Zz,{email:o},S,"passwordLinking",{F:b,D:I}),this.w=h,this.H=m}rt(gB,ch),rt(et,Am),(n=et.prototype).kb=function(){var o=YC(this.fb,this.eb,this.Z,this.s);hB(o),this.g=o},n.v=function(){if(et.K.v.call(this),N$(tr(this),new gB("pageEnter",tr(this),{pageId:this.Ga})),this.bb()&&this.Z.F){var o=this.Z.F;lr(this,this.bb(),function(){o()})}if(this.ab()&&this.Z.D){var h=this.Z.D;lr(this,this.ab(),function(){h()})}},n.ya=function(){N$(tr(this),new gB("pageExit",tr(this),{pageId:this.Ga})),et.K.ya.call(this)},n.o=function(){window.clearTimeout(this.ca),this.eb=this.fb=this.ca=null,this.Fa=!1,this.A=null,fB(this.N()),et.K.o.call(this)},n.I=function(o,h,m,b){function I(){if(S.T)return null;S.Fa=!1,window.clearTimeout(S.ca),S.ca=null,S.A&&(fB(S.A),ym(S.A),S.A=null)}var S=this;return S.Fa?null:(function Fae(o){o.Fa=!0;var h=pE(o.N(),"firebaseui-use-spinner");o.ca=window.setTimeout(function(){o.N()&&null===o.A&&(o.A=YC(S1,{tb:h},null,o.s),o.N().appendChild(o.A),hB(o.A))},500)}(S),o.apply(null,h).then(m,b).then(I,I))},Zn(et.prototype,{a:function(o){kz.call(this);var h=YC(Iz,{message:o},null,this.s);this.N().appendChild(h),lr(this,Pz.call(this),function(){ym(h)})},yc:kz,Ac:Oz,zc:Pz,$:function(o,h){o=YC(Sz,{Ma:o,message:h},null,this.s),Rz.call(this,o)},h:T1,Cb:pB,Cc:function(){return Un(this,"firebaseui-tos")},bb:function(){return Un(this,"firebaseui-tos-link")},ab:function(){return Un(this,"firebaseui-pp-link")},Dc:function(){return Un(this,"firebaseui-tos-list")}}),Fz.a="firebaseui.auth.soy2.page.signIn",Nz.a="firebaseui.auth.soy2.page.passwordSignIn",Lz.a="firebaseui.auth.soy2.page.passwordSignUp",Bz.a="firebaseui.auth.soy2.page.passwordRecovery",Vz.a="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",Uz.a="firebaseui.auth.soy2.page.callback",jz.a="firebaseui.auth.soy2.page.spinner",Gz.a="firebaseui.auth.soy2.page.blank",Hz.a="firebaseui.auth.soy2.page.emailLinkSignInSent",$z.a="firebaseui.auth.soy2.page.emailNotReceived",zz.a="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",qz.a="firebaseui.auth.soy2.page.differentDeviceError",Wz.a="firebaseui.auth.soy2.page.anonymousUserMismatch",Zz.a="firebaseui.auth.soy2.page.passwordLinking",Yz.a="firebaseui.auth.soy2.page.emailLinkSignInLinking",Kz.a="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",Qz.a="firebaseui.auth.soy2.page.federatedLinking",Jz.a="firebaseui.auth.soy2.page.unauthorizedUser",Xz.a="firebaseui.auth.soy2.page.unsupportedProvider",e7.a="firebaseui.auth.soy2.page.passwordReset",t7.a="firebaseui.auth.soy2.page.passwordResetSuccess",n7.a="firebaseui.auth.soy2.page.passwordResetFailure",r7.a="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",s7.a="firebaseui.auth.soy2.page.emailChangeRevokeFailure",o7.a="firebaseui.auth.soy2.page.emailVerificationSuccess",a7.a="firebaseui.auth.soy2.page.emailVerificationFailure",l7.a="firebaseui.auth.soy2.page.verifyAndChangeEmailSuccess",c7.a="firebaseui.auth.soy2.page.verifyAndChangeEmailFailure",u7.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionSuccess",d7.a="firebaseui.auth.soy2.page.revertSecondFactorAdditionFailure",h7.a="firebaseui.auth.soy2.page.recoverableError",f7.a="firebaseui.auth.soy2.page.unrecoverableError",p7.a="firebaseui.auth.soy2.page.emailMismatch",g7.a="firebaseui.auth.soy2.page.providerSignIn",m7.a="firebaseui.auth.soy2.page.phoneSignInStart",y7.a="firebaseui.auth.soy2.page.phoneSignInFinish",_7.a="firebaseui.auth.soy2.page.signOut",v7.a="firebaseui.auth.soy2.page.selectTenant",b7.a="firebaseui.auth.soy2.page.providerMatchByEmail",p(Nv,et),Nv.prototype.v=function(){this.P(),this.M(this.w,this.H),Fv(this,this.i(),this.w),this.i().focus(),et.prototype.v.call(this)},Nv.prototype.o=function(){this.w=null,et.prototype.o.call(this)},Nv.prototype.j=function(){return As(Un(this,"firebaseui-id-email"))},Zn(Nv.prototype,{i:M1,B:R1,P:w7,u:C7,ea:as,ba:Yr,M:Ts});var Nae=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function hh(){return Un(this,"firebaseui-id-email")}function Qf(){return Un(this,"firebaseui-id-email-error")}function Lv(o){var h=hh.call(this),m=Qf.call(this);Rv(this,h,function(){kv(m)&&(Ir(h,!0),Ha(m))}),o&&vE(this,h,function(){o()})}function Bv(){return Ba(As(hh.call(this))||"")}function Vv(){var o=hh.call(this),h=Qf.call(this),m=As(o)||"";return m?Nae.test(m)?(Ir(o,!0),Ha(h),h=!0):(Ir(o,!1),Ss(h,Yn("That email address isn't correct").toString()),h=!1):(Ir(o,!1),Ss(h,Yn("Enter your email address to continue").toString()),h=!1),h?Ba(As(o)):null}function wE(o,h,m,b,I,S,j){et.call(this,Nz,{email:m,ia:!!S},j,"passwordSignIn",{F:b,D:I}),this.w=o,this.H=h}function si(o,h,m,b,I,S){et.call(this,o,h,b,I||"notice",S),this.i=m||null}function k1(o,h,m,b,I){si.call(this,Vz,{email:o,G:!!h},h,I,"passwordRecoveryEmailSent",{F:m,D:b})}function E7(o,h){si.call(this,o7,{G:!!o},o,h,"emailVerificationSuccess")}function x7(o,h){si.call(this,a7,{G:!!o},o,h,"emailVerificationFailure")}function D7(o,h,m){si.call(this,l7,{email:o,G:!!h},h,m,"verifyAndChangeEmailSuccess")}function I7(o,h){si.call(this,c7,{G:!!o},o,h,"verifyAndChangeEmailFailure")}function A7(o,h){si.call(this,d7,{G:!!o},o,h,"revertSecondFactorAdditionFailure")}function S7(o){si.call(this,_7,void 0,void 0,o,"signOut")}function T7(o,h){si.call(this,t7,{G:!!o},o,h,"passwordResetSuccess")}function M7(o,h){si.call(this,n7,{G:!!o},o,h,"passwordResetFailure")}function R7(o,h){si.call(this,s7,{G:!!o},o,h,"emailChangeRevokeFailure")}function k7(o,h,m){si.call(this,h7,{errorMessage:o,zb:!!h},h,m,"recoverableError")}function O7(o,h){si.call(this,f7,{errorMessage:o},void 0,h,"unrecoverableError")}function CE(o){if("auth/invalid-credential"===o.code&&o.message&&-1!==o.message.indexOf("error=consent_required"))return{code:"auth/user-cancelled"};if(o.message&&-1!==o.message.indexOf("HTTP Cloud Function returned an error:")){var h=JSON.parse(o.message.substring(o.message.indexOf("{"),o.message.lastIndexOf("}")+1));return{code:o.code,message:h&&h.error&&h.error.message||o.message}}return o}function fh(o,h,m,b){function I(j){if(!j.name||"cancel"!=j.name){e:{var le=j.message;try{var Ue=((JSON.parse(le).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(Ue&&Ue.length){var lt=!0;break e}}catch{}lt=!1}if(lt)j=tr(h),h.m(),Ti(o,j,void 0,Yn("Your sign-in session has expired. Please try again.").toString());else{if(lt=j&&j.message||"",j.code){if("auth/email-already-in-use"==j.code||"auth/credential-already-in-use"==j.code)return;lt=fi(j)}h.a(lt)}}}if(tq(o),b)return P7(o,m),Dr();if(!m.credential)throw Error("No credential found!");if(!Pn(o).currentUser&&!m.user)throw Error("User not logged in.");try{var S=function ple(o,h){return jn(o),ph(o,function(m){if(o.j&&!o.j.isAnonymous&&b1(nt(o))&&!Pn(o).currentUser)return Jf(o).then(function(){return"password"==h.credential.providerId&&(h.credential=null),h});if(m)return Jf(o).then(function(){return m.linkWithCredential(h.credential)}).then(function(b){return h.user=b.user,h.credential=b.credential,h.operationType=b.operationType,h.additionalUserInfo=b.additionalUserInfo,h},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return Xf(o,b,h.credential)});if(!h.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return Jf(o).then(function(){return jc(o).updateCurrentUser(h.user)}).then(function(){return h.user=jc(o).currentUser,h.operationType="signIn",h.credential&&h.credential.providerId&&"password"==h.credential.providerId&&(h.credential=null),h})})}(o,m)}catch(j){return ja(j.code||j.message,j),h.a(j.code||j.message),Dr()}return m=S.then(function(j){P7(o,j)},I).then(void 0,I),wn(o,S),Dr(m)}function P7(o,h){if(!h.user)throw Error("No user found");var m=tz(nt(o));if(tB(nt(o))&&m&&Yf("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),m){m=tz(nt(o));var b=P8(nn(o))||void 0;ta(lE,nn(o));var I=!1;e8()?((!m||m(h,b))&&(I=!0,uv(window.opener.location,O1(o,b))),m||window.close()):(!m||m(h,b))&&(I=!0,uv(window.location,O1(o,b))),I||o.reset()}else{m=h.user,h=h.credential,b=tB(nt(o)),I=P8(nn(o))||void 0,ta(lE,nn(o));var S=!1;e8()?((!b||b(m,h,I))&&(S=!0,uv(window.opener.location,O1(o,I))),b||window.close()):(!b||b(m,h,I))&&(S=!0,uv(window.location,O1(o,I))),S||o.reset()}}function O1(o,h){if(!(o=h||nt(o).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return o}function fi(o){var h={code:o.code},m="";switch((h=h||{}).code){case"auth/email-already-in-use":m+="The email address is already used by another account";break;case"auth/requires-recent-login":case"auth/user-token-expired":m+=function A$(){return Yn("Please login again to perform this operation")}();break;case"auth/too-many-requests":m+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":m+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":m+="That email address doesn't match an existing account";break;case"auth/weak-password":m+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":m+="The email and password you entered don't match";break;case"auth/network-request-failed":m+="A network error has occurred";break;case"auth/invalid-phone-number":m+=p2();break;case"auth/invalid-verification-code":m+=Yn("Wrong code. Try again.");break;case"auth/code-expired":m+="This code is no longer valid";break;case"auth/expired-action-code":m+="This code has expired.";break;case"auth/invalid-action-code":m+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(h=Yn(m).toString())return h;try{return JSON.parse(o.message),ja("Internal error: "+o.message,void 0),x$().toString()}catch{return o.message}}function EE(o,h,m,b){function I(){(function dae(o,h){wv(xm,{tenantId:o.a},h)})(new _8(o.h.tenantId||null),nn(o)),wn(o,h.I(Jn(o.dc,o),[Ue],function(){if("file:"===(window.location&&window.location.protocol))return wn(o,K7(o).then(function(lt){h.m(),ta(xm,nn(o)),St("callback",o,le,Dr(lt))},S))},j))}function S(lt){if(ta(xm,nn(o)),!lt.name||"cancel"!=lt.name)switch(lt=CE(lt),lt.code){case"auth/popup-blocked":I();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":h.a(fi(lt));break;case"auth/admin-restricted-operation":h.m(),Im(nt(o))?St("handleUnauthorizedUser",o,le,null,m):St("callback",o,le,dv(lt));break;default:h.m(),St("callback",o,le,dv(lt))}}function j(lt){ta(xm,nn(o)),lt.name&&"cancel"==lt.name||(ja("signInWithRedirect: "+lt.code,void 0),lt=fi(lt),"blank"==h.Ga&&eB(nt(o))?(h.m(),St("providerSignIn",o,le,lt)):h.a(lt))}var le=tr(h),Ue=function Lae(o,h,m){var b=Cv[h]&&wt.Z.auth[Cv[h]]?new wt.Z.auth[Cv[h]]:0==h.indexOf("saml.")?new wt.Z.auth.SAMLAuthProvider(h):new wt.Z.auth.OAuthProvider(h);if(!b)throw Error("Invalid Firebase Auth provider!");var I=K8(nt(o),h);if(b.addScope)for(var S=0;S<I.length;S++)b.addScope(I[S]);return I=Q8(nt(o),h)||{},m&&(o=h==wt.Z.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":h==wt.Z.auth.GithubAuthProvider.PROVIDER_ID?"login":(o=dE(nt(o),h))&&o.Ob)&&(I[o]=m),b.setCustomParameters&&b.setCustomParameters(I),b}(o,m,b);ez(nt(o))==E1?I():wn(o,function fle(o,h){return jn(o),ph(o,function(m){return m&&!Gu(nn(o))?m.linkWithPopup(h).then(function(b){return b},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return Xf(o,b)}):Pn(o).signInWithPopup(h)})}(o,Ue).then(function(lt){h.m(),St("callback",o,le,Dr(lt))},S))}function P1(o){return 1==(o=Ev(nt(o))).length&&o[0]==wt.Z.auth.EmailAuthProvider.PROVIDER_ID}function F7(o){return 1==(o=Ev(nt(o))).length&&o[0]==wt.Z.auth.PhoneAuthProvider.PROVIDER_ID}function Ti(o,h,m,b){P1(o)?b?St("signIn",o,h,m,b):yB(o,h,m):o&&F7(o)&&!b?St("phoneSignInStart",o,h):o&&eB(nt(o))&&!b?St("federatedRedirect",o,h,m):St("providerSignIn",o,h,b,m)}function N7(o,h,m,b){var I=tr(h);wn(o,h.I(Jn(Pn(o).fetchSignInMethodsForEmail,Pn(o)),[m],function(S){h.m(),L7(o,I,S,m,b)},function(S){S=fi(S),h.a(S)}))}function L7(o,h,m,b,I,S){m.length||xv(nt(o))&&!xv(nt(o))?hi(m,wt.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?St("passwordSignIn",o,h,b,S):1==m.length&&m[0]===wt.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?xv(nt(o))?St("sendEmailLinkForSignIn",o,h,b,function(){St("signIn",o,h)}):St("unsupportedProvider",o,h,b):(m=z8(m,Ev(nt(o))))?(F8(new j2(b),nn(o)),St("federatedSignIn",o,h,b,m,I)):St("unsupportedProvider",o,h,b):Y8(nt(o))?St("handleUnauthorizedUser",o,h,b,wt.Z.auth.EmailAuthProvider.PROVIDER_ID):xv(nt(o))?St("sendEmailLinkForSignIn",o,h,b,function(){St("signIn",o,h)}):St("passwordSignUp",o,h,b,void 0,void 0,S)}function mB(o,h,m,b,I,S){var j=tr(h);wn(o,h.I(Jn(o.Ib,o),[m,S],function(){h.m(),St("emailLinkSignInSent",o,j,m,b,S)},I))}function yB(o,h,m){m?St("prefilledEmailSignIn",o,h,m):St("signIn",o,h)}function xE(){return FT(dh(),"oobCode")}function _B(){var o=FT(dh(),"continueUrl");return o?function(){uv(window.location,o)}:null}function DE(o,h){et.call(this,Wz,void 0,h,"anonymousUserMismatch"),this.i=o}function F1(o){et.call(this,Uz,void 0,o,"callback")}function B7(o,h,m){if(m.user){var b={user:m.user,credential:m.credential,operationType:m.operationType,additionalUserInfo:m.additionalUserInfo},I=Gu(nn(o)),S=I&&I.g;if(S&&!function Gae(o,h){if(h==o.email)return!0;if(o.providerData)for(var m=0;m<o.providerData.length;m++)if(h==o.providerData[m].email)return!0;return!1}(m.user,S))!function jae(o,h,m){var b=tr(h);wn(o,Jf(o).then(function(){h.m(),St("emailMismatch",o,b,m)},function(I){I.name&&"cancel"==I.name||(I=fi(I.code),h.a(I))}))}(o,h,b);else{var j=I&&I.a;j?wn(o,m.user.linkWithCredential(j).then(function(le){V7(o,h,b={user:le.user,credential:j,operationType:le.operationType,additionalUserInfo:le.additionalUserInfo})},function(le){N1(o,h,le)})):V7(o,h,b)}}else m=tr(h),h.m(),Hu(nn(o)),Ti(o,m)}function V7(o,h,m){Hu(nn(o)),fh(o,h,m)}function N1(o,h,m){var b=tr(h);Hu(nn(o)),m=fi(m),h.m(),Ti(o,b,void 0,m)}function U7(o,h,m,b){var I=tr(h);wn(o,Pn(o).fetchSignInMethodsForEmail(m).then(function(S){h.m(),S.length?hi(S,wt.Z.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?St("passwordLinking",o,I,m):1==S.length&&S[0]===wt.Z.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?St("emailLinkSignInLinking",o,I,m):(S=z8(S,Ev(nt(o))))?St("federatedLinking",o,I,m,S,b):(Hu(nn(o)),St("unsupportedProvider",o,I,m)):(Hu(nn(o)),St("passwordRecovery",o,I,m,!1,D$().toString()))},function(S){N1(o,h,S)}))}function IE(o,h){et.call(this,qz,void 0,h,"differentDeviceError"),this.i=o}function AE(o,h,m,b){et.call(this,r7,{email:o,G:!!m},b,"emailChangeRevoke"),this.l=h,this.i=m||null}function SE(){return Un(this,"firebaseui-id-new-password")}function L1(){return Un(this,"firebaseui-id-password-toggle")}function Hae(){this.Ra=!this.Ra;var o=L1.call(this),h=SE.call(this);this.Ra?(h.type="text",$u(o,"firebaseui-input-toggle-off"),zu(o,"firebaseui-input-toggle-on")):(h.type="password",$u(o,"firebaseui-input-toggle-on"),zu(o,"firebaseui-input-toggle-off")),h.focus()}function B1(){return Un(this,"firebaseui-id-new-password-error")}function j7(){this.Ra=!1;var o=SE.call(this);o.type="password";var h=B1.call(this);Rv(this,o,function(){kv(h)&&(Ir(o,!0),Ha(h))});var m=L1.call(this);$u(m,"firebaseui-input-toggle-on"),zu(m,"firebaseui-input-toggle-off"),function Rae(o,h,m){QC(o,Na(JC,h=new Av(h))),Tv(_E(o),h,"focusin",m)}(this,o,function(){$u(m,"firebaseui-input-toggle-focus"),zu(m,"firebaseui-input-toggle-blur")}),function kae(o,h,m){QC(o,Na(JC,h=new Av(h))),Tv(_E(o),h,"focusout",m)}(this,o,function(){$u(m,"firebaseui-input-toggle-blur"),zu(m,"firebaseui-input-toggle-focus")}),lr(this,m,Jn(Hae,this))}function G7(){var o=SE.call(this),h=B1.call(this);return As(o)?(Ir(o,!0),Ha(h),h=!0):(Ir(o,!1),Ss(h,Yn("Enter your password").toString()),h=!1),h?As(o):null}function TE(o,h,m){et.call(this,e7,{email:o},m,"passwordReset"),this.l=h}function ME(o,h,m,b,I){et.call(this,u7,{factorId:o,phoneNumber:m||null,G:!!b},I,"revertSecondFactorAdditionSuccess"),this.l=h,this.i=b||null}function H7(o,h,m,b){"auth/weak-password"==(b&&b.code)?(o=fi(b),Ir(m.i(),!1),Ss(m.w(),o),m.i().focus()):(m&&m.m(),(m=new M7).render(h),An(o,m))}function V1(o,h){try{var m="number"==typeof o.selectionStart}catch{m=!1}m?(o.selectionStart=h,o.selectionEnd=h):Er&&!gm("9")&&("textarea"==o.type&&(h=o.value.substring(0,h).replace(/(\r\n|\r|\n)/g,"\n").length),(o=o.createTextRange()).collapse(!0),o.move("character",h),o.select())}function RE(o,h,m,b,I,S){et.call(this,zz,{email:m},S,"emailLinkSignInConfirmation",{F:b,D:I}),this.l=o,this.u=h}function kE(o,h,m,b,I){et.call(this,Kz,{ga:o},I,"emailLinkSignInLinkingDifferentDevice",{F:m,D:b}),this.i=h}function U1(o){et.call(this,Gz,void 0,o,"blank")}function vB(o,h,m,b,I){var S=new U1,j=new pm(m),le=j.a.a.get(qr.$a)||"",Ue=j.a.a.get(qr.Sa)||"",lt="1"===j.a.a.get(qr.Qa),Nt=X5(j),oi=j.a.a.get(qr.PROVIDER_ID)||null;j=j.a.a.get(qr.vb)||null,nq(o,j);var Hc=!bv(vv,nn(o)),aq=b||function hae(o,h){var m=null;if(h=bv(vv,h))try{var b=A8(o,h),I=JSON.parse(b);m=I&&I.email||null}catch{}return m}(Ue,nn(o)),zE=(b=function fae(o,h){var m=null;if(h=bv(cE,h))try{var b=A8(o,h);m=JSON.parse(b)}catch{}return y8(m||null)}(Ue,nn(o)))&&b.a;oi&&zE&&zE.providerId!==oi&&(zE=null),S.render(h),An(o,S),wn(o,S.I(function(){var jl=Dr(null);jl=Nt&&Hc||Hc&&lt?dv(Error("anonymous-user-not-found")):function ule(o,h){var m=X5(new pm(h));return m?(h=new Zr(function(b,I){var S=jc(o).onAuthStateChanged(function(j){S(),j&&j.isAnonymous&&j.uid===m?b(j):I(j&&j.isAnonymous&&j.uid!==m?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))});wn(o,S)}),wn(o,h),h):Dr(null)}(o,m).then(function(MB){if(oi&&!zE)throw Error("pending-credential-not-found");return MB});var qE=null;return jl.then(function(MB){return qE=MB,I?null:Pn(o).checkActionCode(le)}).then(function(){return qE})},[],function(jl){aq?function Zae(o,h,m,b,I,S){var j=tr(h);h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Yn("Signing in...").toString());var le=null;I=(S?function dle(o,h,m,b,I){jn(o);var S=I||null,j=wt.Z.auth.EmailAuthProvider.credentialWithLink(m,b);return m=S?Pn(o).signInWithEmailLink(m,b).then(function(le){return le.user.linkWithCredential(S)}).then(function(){return Jf(o)}).then(function(){return Xf(o,{code:"auth/email-already-in-use"},S)}):Pn(o).fetchSignInMethodsForEmail(m).then(function(le){return le.length?Xf(o,{code:"auth/email-already-in-use"},j):h.linkWithCredential(j)}),wn(o,m),m}(o,S,m,b,I):function hle(o,h,m,b){jn(o);var S,I=b||null;return h=Pn(o).signInWithEmailLink(h,m).then(function(j){if(S={user:j.user,credential:null,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo},I)return j.user.linkWithCredential(I).then(function(le){S={user:le.user,credential:I,operationType:S.operationType,additionalUserInfo:le.additionalUserInfo}})}).then(function(){Jf(o)}).then(function(){return jc(o).updateCurrentUser(S.user)}).then(function(){return S.user=jc(o).currentUser,S}),wn(o,h),h}(o,m,b,I)).then(function(Ue){ta(cE,nn(o)),ta(vv,nn(o)),h.h(),h.$("firebaseui-icon-done",Yn("Signed in!").toString()),le=setTimeout(function(){h.h(),fh(o,h,Ue,!0)},1e3),wn(o,function(){h&&(h.h(),h.m()),clearTimeout(le)})},function(Ue){if(h.h(),h.m(),!Ue.name||"cancel"!=Ue.name){var lt=fi(Ue=CE(Ue));"auth/email-already-in-use"==Ue.code||"auth/credential-already-in-use"==Ue.code?(ta(cE,nn(o)),ta(vv,nn(o))):"auth/invalid-email"==Ue.code?(lt=Yn("The email provided does not match the current sign-in session.").toString(),St("emailLinkConfirmation",o,j,b,$7,null,lt)):Ti(o,j,m,lt)}}),wn(o,I)}(o,S,aq,m,zE,jl):lt?(S.m(),St("differentDeviceError",o,h)):(S.m(),St("emailLinkConfirmation",o,h,m,$7))},function(jl){var qE=void 0;if(!jl||!jl.name||"cancel"!=jl.name)switch(S.m(),jl&&jl.message){case"anonymous-user-not-found":St("differentDeviceError",o,h);break;case"anonymous-user-mismatch":St("anonymousUserMismatch",o,h);break;case"pending-credential-not-found":St("emailLinkNewDeviceLinking",o,h,m,Wae);break;default:jl&&(qE=fi(jl)),Ti(o,h,void 0,qE)}}))}function $7(o,h,m,b){vB(o,h,b,m,!0)}function Wae(o,h,m){vB(o,h,m)}function OE(o,h,m,b,I,S){et.call(this,Yz,{email:o,ga:h},S,"emailLinkSignInLinking",{F:b,D:I}),this.i=m}function PE(o,h,m,b,I,S){et.call(this,Hz,{email:o},S,"emailLinkSignInSent",{F:b,D:I}),this.u=h,this.i=m}function FE(o,h,m,b,I,S,j){et.call(this,p7,{jc:o,Qb:h},j,"emailMismatch",{F:I,D:S}),this.l=m,this.i=b}function Uv(o,h,m,b,I){et.call(this,$z,void 0,I,"emailNotReceived",{F:m,D:b}),this.l=o,this.i=h}function jv(o,h,m,b,I,S){et.call(this,Qz,{email:o,ga:h},S,"federatedLinking",{F:b,D:I}),this.i=m}function NE(o,h,m,b,I,S){et.call(this,Bz,{email:m,Ta:!!h},S,"passwordRecovery",{F:b,D:I}),this.l=o,this.u=h}function bB(){return Un(this,"firebaseui-id-name")}function wB(){return Un(this,"firebaseui-id-name-error")}function LE(o,h,m,b,I,S,j,le,Ue){et.call(this,Lz,{email:b,Tb:o,name:I,Ta:!!m,ia:!!le},Ue,"passwordSignUp",{F:S,D:j}),this.w=h,this.H=m,this.B=o}function CB(){return Un(this,"firebaseui-id-phone-confirmation-code")}function z7(){return Un(this,"firebaseui-id-phone-confirmation-code-error")}function q7(){return Un(this,"firebaseui-id-resend-countdown")}function Gv(o,h,m,b,I,S,j,le,Ue){et.call(this,y7,{phoneNumber:I},Ue,"phoneSignInFinish",{F:j,D:le}),this.jb=S,this.i=new x1(1e3),this.B=S,this.P=o,this.l=h,this.H=m,this.M=b}p(wE,et),wE.prototype.v=function(){this.P(),this.ea(),this.ba(this.w,this.H),bE(this,this.l(),this.i()),Fv(this,this.i(),this.w),As(this.l())?this.i().focus():this.l().focus(),et.prototype.v.call(this)},wE.prototype.o=function(){this.H=this.w=null,et.prototype.o.call(this)},Zn(wE.prototype,{l:hh,U:Qf,P:Lv,M:Bv,j:Vv,i:M1,B:R1,ea:w7,u:C7,ua:as,pa:Yr,ba:Ts}),rt(si,et),si.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),si.K.v.call(this)},si.prototype.o=function(){this.i=null,si.K.o.call(this)},Zn(si.prototype,{l:as,w:Yr,u:Ts}),rt(k1,si),rt(E7,si),rt(x7,si),rt(D7,si),rt(I7,si),rt(A7,si),rt(S7,si),rt(T7,si),rt(M7,si),rt(R7,si),rt(k7,si),rt(O7,si),p(DE,et),DE.prototype.v=function(){var o=this;lr(this,this.l(),function(){o.i()}),this.l().focus(),et.prototype.v.call(this)},DE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(DE.prototype,{l:Yr}),ni.anonymousUserMismatch=function(o,h){var m=new DE(function(){m.m(),Ti(o,h)});m.render(h),An(o,m)},p(F1,et),F1.prototype.I=function(o,h,m,b){return o.apply(null,h).then(m,b)},ni.callback=function(o,h,m){var b=new F1;b.render(h),An(o,b),m=m||K7(o),wn(o,m.then(function(I){B7(o,b,I)},function(I){if((I=CE(I))&&("auth/account-exists-with-different-credential"==I.code||"auth/email-already-in-use"==I.code)&&I.email&&I.credential)F8(new j2(I.email,I.credential),nn(o)),U7(o,b,I.email);else if(I&&"auth/user-cancelled"==I.code){var S=Gu(nn(o)),j=fi(I);S&&S.a?U7(o,b,S.g,j):S?N7(o,b,S.g,j):N1(o,b,I)}else I&&"auth/credential-already-in-use"==I.code||(I&&"auth/operation-not-supported-in-this-environment"==I.code&&P1(o)?B7(o,b,{user:null,credential:null}):I&&"auth/admin-restricted-operation"==I.code&&Im(nt(o))?(b.m(),Hu(nn(o)),St("handleUnauthorizedUser",o,h,null,null)):N1(o,b,I))}))},p(IE,et),IE.prototype.v=function(){var o=this;lr(this,this.l(),function(){o.i()}),this.l().focus(),et.prototype.v.call(this)},IE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(IE.prototype,{l:Yr}),ni.differentDeviceError=function(o,h){var m=new IE(function(){m.m(),Ti(o,h)});m.render(h),An(o,m)},p(AE,et),AE.prototype.v=function(){var o=this;lr(this,Un(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),et.prototype.v.call(this)},AE.prototype.o=function(){this.l=this.i=null,et.prototype.o.call(this)},Zn(AE.prototype,{u:as,B:Yr,w:Ts}),p(TE,et),TE.prototype.v=function(){this.H(),this.B(this.l),Fv(this,this.i(),this.l),this.i().focus(),et.prototype.v.call(this)},TE.prototype.o=function(){this.l=null,et.prototype.o.call(this)},Zn(TE.prototype,{i:SE,w:B1,M:L1,H:j7,u:G7,U:as,P:Yr,B:Ts}),p(ME,et),ME.prototype.v=function(){var o=this;lr(this,Un(this,"firebaseui-id-reset-password-link"),function(){o.l()}),this.i&&(this.w(this.i),this.u().focus()),et.prototype.v.call(this)},ME.prototype.o=function(){this.l=this.i=null,et.prototype.o.call(this)},Zn(ME.prototype,{u:as,B:Yr,w:Ts}),ni.passwordReset=function(o,h,m,b){wn(o,Pn(o).verifyPasswordResetCode(m).then(function(I){var S=new TE(I,function(){!function $ae(o,h,m,b,I){var S=m.u();S&&wn(o,m.I(Jn(Pn(o).confirmPasswordReset,Pn(o)),[b,S],function(){m.m();var j=new T7(I);j.render(h),An(o,j)},function(j){H7(o,h,m,j)}))}(o,h,S,m,b)});S.render(h),An(o,S)},function(){H7(o,h)}))},ni.emailChangeRevocation=function(o,h,m){var b=null;wn(o,Pn(o).checkActionCode(m).then(function(I){return b=I.data.email,Pn(o).applyActionCode(m)}).then(function(){!function zae(o,h,m){var b=new AE(m,function(){wn(o,b.I(Jn(Pn(o).sendPasswordResetEmail,Pn(o)),[m],function(){b.m(),(b=new k1(m,void 0,Or(nt(o)),Pr(nt(o)))).render(h),An(o,b)},function(){b.a(E$().toString())}))});b.render(h),An(o,b)}(o,h,b)},function(){var I=new R7;I.render(h),An(o,I)}))},ni.emailVerification=function(o,h,m,b){wn(o,Pn(o).applyActionCode(m).then(function(){var I=new E7(b);I.render(h),An(o,I)},function(){var I=new x7;I.render(h),An(o,I)}))},ni.revertSecondFactorAddition=function(o,h,m){var b=null,I=null;wn(o,Pn(o).checkActionCode(m).then(function(S){return b=S.data.email,I=S.data.multiFactorInfo,Pn(o).applyActionCode(m)}).then(function(){!function qae(o,h,m,b){var I=new ME(b.factorId,function(){I.I(Jn(Pn(o).sendPasswordResetEmail,Pn(o)),[m],function(){I.m(),(I=new k1(m,void 0,Or(nt(o)),Pr(nt(o)))).render(h),An(o,I)},function(){I.a(E$().toString())})},b.phoneNumber);I.render(h),An(o,I)}(o,h,b,I)},function(){var S=new A7;S.render(h),An(o,S)}))},ni.verifyAndChangeEmail=function(o,h,m,b){var I=null;wn(o,Pn(o).checkActionCode(m).then(function(S){return I=S.data.email,Pn(o).applyActionCode(m)}).then(function(){var S=new D7(I,b);S.render(h),An(o,S)},function(){var S=new I7;S.render(h),An(o,S)}))},p(RE,et),RE.prototype.v=function(){this.w(this.l),this.B(this.l,this.u),this.i().focus(),V1(this.i(),(this.i().value||"").length),et.prototype.v.call(this)},RE.prototype.o=function(){this.u=this.l=null,et.prototype.o.call(this)},Zn(RE.prototype,{i:hh,M:Qf,w:Lv,H:Bv,j:Vv,U:as,P:Yr,B:Ts}),ni.emailLinkConfirmation=function(o,h,m,b,I,S){var j=new RE(function(){var le=j.j();le?(j.m(),b(o,h,le,m)):j.i().focus()},function(){j.m(),Ti(o,h,I||void 0)},I||void 0,Or(nt(o)),Pr(nt(o)));j.render(h),An(o,j),S&&j.a(S)},p(kE,et),kE.prototype.v=function(){this.u(this.i),this.l().focus(),et.prototype.v.call(this)},kE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(kE.prototype,{l:as,u:Ts}),ni.emailLinkNewDeviceLinking=function(o,h,m,b){var I=new pm(m);if(m=I.a.a.get(qr.PROVIDER_ID)||null,e$(I,null),m){var S=new kE(dE(nt(o),m),function(){S.m(),b(o,h,I.toString())},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S)}else Ti(o,h)},p(U1,et),ni.emailLinkSignInCallback=vB,p(OE,et),OE.prototype.v=function(){this.u(this.i),this.l().focus(),et.prototype.v.call(this)},OE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(OE.prototype,{l:as,u:Ts}),ni.emailLinkSignInLinking=function(o,h,m){var b=Gu(nn(o));if(Hu(nn(o)),b){var I=b.a.providerId,S=new OE(m,dE(nt(o),I),function(){!function Yae(o,h,m,b){var I=tr(h);mB(o,h,m,function(){Ti(o,I,m)},function(S){if(!S.name||"cancel"!=S.name){var j=fi(S);S&&"auth/network-request-failed"==S.code?h.a(j):(h.m(),Ti(o,I,m,j))}},b)}(o,S,m,b)},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S)}else Ti(o,h)},p(PE,et),PE.prototype.v=function(){var o=this;lr(this,this.l(),function(){o.i()}),lr(this,Un(this,"firebaseui-id-trouble-getting-email-link"),function(){o.u()}),this.l().focus(),et.prototype.v.call(this)},PE.prototype.o=function(){this.i=this.u=null,et.prototype.o.call(this)},Zn(PE.prototype,{l:Yr}),ni.emailLinkSignInSent=function(o,h,m,b,I){var S=new PE(m,function(){S.m(),St("emailNotReceived",o,h,m,b,I)},function(){S.m(),b()},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S)},p(FE,et),FE.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),et.prototype.v.call(this)},FE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(FE.prototype,{u:as,B:Yr,w:Ts}),ni.emailMismatch=function(o,h,m){var b=Gu(nn(o));if(b){var I=new FE(m.user.email,b.g,function(){var S=I;Hu(nn(o)),fh(o,S,m)},function(){var S=m.credential.providerId,j=tr(I);I.m(),St(b.a?"federatedLinking":"federatedSignIn",o,j,b.g,S)},Or(nt(o)),Pr(nt(o)));I.render(h),An(o,I)}else Ti(o,h)},p(Uv,et),Uv.prototype.v=function(){var o=this;lr(this,this.u(),function(){o.i()}),lr(this,this.Da(),function(){o.l()}),this.u().focus(),et.prototype.v.call(this)},Uv.prototype.Da=function(){return Un(this,"firebaseui-id-resend-email-link")},Uv.prototype.o=function(){this.i=this.l=null,et.prototype.o.call(this)},Zn(Uv.prototype,{u:Yr}),ni.emailNotReceived=function(o,h,m,b,I){var S=new Uv(function(){mB(o,S,m,b,function(j){j=fi(j),S.a(j)},I)},function(){S.m(),Ti(o,h,m)},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S)},p(jv,et),jv.prototype.v=function(){this.u(this.i),this.l().focus(),et.prototype.v.call(this)},jv.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(jv.prototype,{l:as,u:Ts}),ni.federatedLinking=function(o,h,m,b,I){var S=Gu(nn(o));if(S&&S.a){var j=new jv(m,dE(nt(o),b),function(){EE(o,j,b,m)},Or(nt(o)),Pr(nt(o)));j.render(h),An(o,j),I&&j.a(I)}else Ti(o,h)},ni.federatedRedirect=function(o,h,m){var b=new U1;b.render(h),An(o,b),EE(o,b,h=Ev(nt(o))[0],m)},ni.federatedSignIn=function(o,h,m,b,I){var S=new jv(m,dE(nt(o),b),function(){EE(o,S,b,m)},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S),I&&S.a(I)},ni.passwordLinking=function(o,h,m){var b=Gu(nn(o));Hu(nn(o));var I=b&&b.a;if(I){var S=new Nv(m,function(){!function Kae(o,h,m,b){var I=h.u();I?wn(o,h.I(Jn(o.Xb,o),[m,I],function(S){return S=S.user.linkWithCredential(b).then(function(j){return fh(o,h,{user:j.user,credential:b,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo})}),wn(o,S),S},function(S){if(!S.name||"cancel"!=S.name)switch(S.code){case"auth/wrong-password":Ir(h.i(),!1),Ss(h.B(),fi(S));break;case"auth/too-many-requests":h.a(fi(S));break;default:ja("signInWithEmailAndPassword: "+S.message,void 0),h.a(fi(S))}})):h.i().focus()}(o,S,m,I)},function(){S.m(),St("passwordRecovery",o,h,m)},Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S)}else Ti(o,h)},p(NE,et),NE.prototype.v=function(){this.B(),this.H(this.l,this.u),As(this.i())||this.i().focus(),Fv(this,this.i(),this.l),et.prototype.v.call(this)},NE.prototype.o=function(){this.u=this.l=null,et.prototype.o.call(this)},Zn(NE.prototype,{i:hh,w:Qf,B:Lv,M:Bv,j:Vv,U:as,P:Yr,H:Ts}),ni.passwordRecovery=function(o,h,m,b,I){var S=new NE(function(){!function Qae(o,h){var m=h.j();if(m){var b=tr(h);wn(o,h.I(Jn(Pn(o).sendPasswordResetEmail,Pn(o)),[m],function(){h.m();var I=new k1(m,function(){I.m(),Ti(o,b)},Or(nt(o)),Pr(nt(o)));I.render(b),An(o,I)},function(I){Ir(h.i(),!1),Ss(h.w(),fi(I))}))}else h.i().focus()}(o,S)},b?void 0:function(){S.m(),Ti(o,h)},m,Or(nt(o)),Pr(nt(o)));S.render(h),An(o,S),I&&S.a(I)},ni.passwordSignIn=function(o,h,m,b){var I=new wE(function(){!function Uae(o,h){var m=h.j(),b=h.u();if(m)if(b){var I=wt.Z.auth.EmailAuthProvider.credential(m,b);wn(o,h.I(Jn(o.bc,o),[m,b],function(S){return fh(o,h,{user:S.user,credential:I,operationType:S.operationType,additionalUserInfo:S.additionalUserInfo})},function(S){if(!S.name||"cancel"!=S.name)switch(S.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ir(h.l(),!1),Ss(h.U(),fi(S));break;case"auth/too-many-requests":case"auth/wrong-password":Ir(h.i(),!1),Ss(h.B(),fi(S));break;default:ja("verifyPassword: "+S.message,void 0),h.a(fi(S))}}))}else h.i().focus();else h.l().focus()}(o,I)},function(){var S=I.M();I.m(),St("passwordRecovery",o,h,S)},m,Or(nt(o)),Pr(nt(o)),b);I.render(h),An(o,I)},p(LE,et),LE.prototype.v=function(){this.ea(),this.B&&this.Ja(),this.ua(),this.pa(this.w,this.H),this.B?(bE(this,this.i(),this.u()),bE(this,this.u(),this.l())):bE(this,this.i(),this.l()),this.w&&Fv(this,this.l(),this.w),As(this.i())?this.B&&!As(this.u())?this.u().focus():this.l().focus():this.i().focus(),et.prototype.v.call(this)},LE.prototype.o=function(){this.H=this.w=null,et.prototype.o.call(this)},Zn(LE.prototype,{i:hh,U:Qf,ea:Lv,jb:Bv,j:Vv,u:bB,Bc:wB,Ja:function(){var o=bB.call(this),h=wB.call(this);Rv(this,o,function(){kv(h)&&(Ir(o,!0),Ha(h))})},M:function(){var o=bB.call(this),h=wB.call(this),m=As(o);return Ir(o,m=!/^[\s\xa0]*$/.test(null==m?"":String(m))),m?(Ha(h),h=!0):(Ss(h,Yn("Enter your account name").toString()),h=!1),h?Ba(As(o)):null},l:SE,ba:B1,lb:L1,ua:j7,P:G7,Nb:as,Mb:Yr,pa:Ts}),ni.passwordSignUp=function(o,h,m,b,I,S){var le=new LE(X8(nt(o)),function(){!function Jae(o,h){var m=X8(nt(o)),b=h.j(),I=null;m&&(I=h.M());var S=h.P();if(b){if(m){if(!I)return void h.u().focus();I=rv(I)}if(S){var j=wt.Z.auth.EmailAuthProvider.credential(b,S);wn(o,h.I(Jn(o.Yb,o),[b,S],function(le){var Ue={user:le.user,credential:j,operationType:le.operationType,additionalUserInfo:le.additionalUserInfo};return m?(le=le.user.updateProfile({displayName:I}).then(function(){return fh(o,h,Ue)}),wn(o,le),le):fh(o,h,Ue)},function(le){if(!le.name||"cancel"!=le.name){var Ue=CE(le);switch(le=fi(Ue),Ue.code){case"auth/email-already-in-use":return function Xae(o,h,m,b){function I(){var j=fi(b);Ir(h.i(),!1),Ss(h.U(),j),h.i().focus()}var S=Pn(o).fetchSignInMethodsForEmail(m).then(function(j){j.length?I():(j=tr(h),h.m(),St("passwordRecovery",o,j,m,!1,D$().toString()))},function(){I()});return wn(o,S),S}(o,h,b,Ue);case"auth/too-many-requests":le=Yn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ir(h.l(),!1),Ss(h.ba(),le);break;case"auth/admin-restricted-operation":Im(nt(o))?(le=tr(h),h.m(),St("handleUnauthorizedUser",o,le,b,wt.Z.auth.EmailAuthProvider.PROVIDER_ID)):h.a(le);break;default:ja(Ue="setAccountInfo: "+T8(Ue),void 0),h.a(le)}}}))}else h.l().focus()}else h.i().focus()}(o,le)},I?void 0:function j(){le.m(),Ti(o,h)},m,b,Or(nt(o)),Pr(nt(o)),S);le.render(h),An(o,le)},p(Gv,et),Gv.prototype.v=function(){var o=this;this.U(this.jb),Vc(this.i,"tick",this.w,!1,this),this.i.start(),lr(this,Un(this,"firebaseui-id-change-phone-number-link"),function(){o.P()}),lr(this,this.Da(),function(){o.M()}),this.Ja(this.l),this.ea(this.l,this.H),this.u().focus(),et.prototype.v.call(this)},Gv.prototype.o=function(){this.M=this.H=this.l=this.P=null,D1(this.i),bm(this.i,"tick",this.w),this.i=null,et.prototype.o.call(this)},Gv.prototype.w=function(){--this.B,0<this.B?this.U(this.B):(D1(this.i),bm(this.i,"tick",this.w),this.ua(),this.lb())},Zn(Gv.prototype,{u:CB,pa:z7,Ja:function(o){var h=CB.call(this),m=z7.call(this);Rv(this,h,function(){kv(m)&&(Ir(h,!0),Ha(m))}),o&&vE(this,h,function(){o()})},ba:function(){var o=Ba(As(CB.call(this))||"");return/^\d{6}$/.test(o)?o:null},Fb:q7,U:function(o){u2(q7.call(this),Yn("Resend code in "+(9<o?"0:":"0:0")+o).toString())},ua:function(){Ha(this.Fb())},Da:function(){return Un(this,"firebaseui-id-resend-link")},lb:function(){Ss(this.Da())},Nb:as,Mb:Yr,ea:Ts}),ni.phoneSignInFinish=function(o,h,m,b,I,S){var j=new Gv(function(){j.m(),St("phoneSignInStart",o,h,m)},function(){!function ele(o,h,m,b){function I(j){h.u().focus(),Ir(h.u(),!1),Ss(h.pa(),j)}var S=h.ba();S?(h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Yn("Verifying...").toString()),wn(o,h.I(Jn(b.confirm,b),[S],function(j){h.h(),h.$("firebaseui-icon-done",Yn("Verified!").toString());var le=setTimeout(function(){h.h(),h.m();var Ue={user:jc(o).currentUser,credential:null,operationType:j.operationType,additionalUserInfo:j.additionalUserInfo};fh(o,h,Ue,!0)},1e3);wn(o,function(){h&&h.h(),clearTimeout(le)})},function(j){if(j.name&&"cancel"==j.name)h.h();else{var le=CE(j);switch(j=fi(le),le.code){case"auth/credential-already-in-use":h.h();break;case"auth/code-expired":le=tr(h),h.h(),h.m(),St("phoneSignInStart",o,le,m,j);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":h.h(),I(j);break;default:h.h(),h.a(j)}}}))):I(Yn("Wrong code. Try again.").toString())}(o,j,m,I)},function(){j.m(),Ti(o,h)},function(){j.m(),St("phoneSignInStart",o,h,m)},J2(m),b,Or(nt(o)),Pr(nt(o)));j.render(h),An(o,j),S&&j.a(S)};var tle=!(Er||On("Safari")&&!(i$()||On("Coast")||On("Opera")||On("Edge")||On("Firefox")||On("FxiOS")||On("Silk")||On("Android")));function j1(o,h){return/-[a-z]/.test(h)?null:tle&&o.dataset?!On("Android")||i$()||On("Firefox")||On("FxiOS")||On("Opera")||On("Silk")||h in o.dataset?void 0===(o=o.dataset[h])?null:o:null:o.getAttribute("data-"+String(h).replace(/([A-Z])/g,"-$1").toLowerCase())}function nle(o,h,m){var b=this;o=YC(Tz,{items:o},null,this.s),Rz.call(this,o,!0,!0),m&&(m=function ile(o,h){o=(o||document).getElementsByTagName("BUTTON");for(var m=0;m<o.length;m++)if(j1(o[m],"listboxid")===h)return o[m];return null}(o,m))&&(m.focus(),function Mae(o,h){var m=(h=h||UT(document))||UT(document),b=bz(o),I=bz(m);if(!Er||9<=Number(qC)){j=I1(m,"borderLeftWidth");var S=I1(m,"borderRightWidth");le=I1(m,"borderTopWidth"),Ue=I1(m,"borderBottomWidth"),S=new Mv(parseFloat(le),parseFloat(S),parseFloat(Ue),parseFloat(j))}else{var j=A1(m,"borderLeft");S=A1(m,"borderRight");var le=A1(m,"borderTop"),Ue=A1(m,"borderBottom");S=new Mv(le,S,Ue,j)}m==UT(document)?(j=b.a-m.scrollLeft,b=b.g-m.scrollTop,!Er||10<=Number(qC)||(j+=S.left,b+=S.top)):(j=b.a-I.a-S.left,b=b.g-I.g-S.top),I=o.offsetWidth,S=o.offsetHeight,le=Mo&&!I&&!S,o=z(I)&&!le||!o.getBoundingClientRect?new a2(I,S):new a2((o=vz(o)).right-o.left,o.bottom-o.top),I=m.clientHeight-o.height,S=m.scrollLeft,le=m.scrollTop,m=new $f(S+=Math.min(j,Math.max(j-(m.clientWidth-o.width),0)),le+=Math.min(b,Math.max(b-I,0))),h.scrollLeft=m.a,h.scrollTop=m.g}(m,o)),lr(this,o,function(I){(I=(I=_$(I.target,"firebaseui-id-list-box-dialog-button"))&&j1(I,"listboxid"))&&(T1.call(b),h(I))})}function Sm(){return Un(this,"firebaseui-id-phone-number")}function W7(){return Un(this,"firebaseui-id-country-selector")}function EB(){return Un(this,"firebaseui-id-phone-number-error")}function rle(o,h){var I,m=o.a,b=xB("1-US-0",m);if(!(I=h&&xB(h,m)?h:b?"1-US-0":0<m.length?m[0].c:null))throw Error("No available default country");G1.call(this,I,o)}function xB(o,h){return!(!(o=Dm(o))||!hi(h,o))}function DB(o){return"firebaseui-flag-"+o.f}function ole(o){var h=this;nle.call(this,function sle(o){return o.map(function(h){return{id:h.c,Ma:"firebaseui-flag "+DB(h),label:h.name+" \u200e+"+h.b}})}(o.a),function(m){G1.call(h,m,o,!0),h.O().focus()},this.Ba)}function G1(o,h,m){var b=Dm(o);b&&(m&&(h=v1(h,m=Ba(As(Sm.call(this))||""))).length&&h[0].b!=b.b&&(m="+"+b.b+m.substr(h[0].b.length+1),sz(Sm.call(this),m)),h=Dm(this.Ba),this.Ba=o,o=Un(this,"firebaseui-id-country-selector-flag"),h&&zu(o,DB(h)),$u(o,DB(b)),u2(Un(this,"firebaseui-id-country-selector-code"),"\u200e+"+b.b))}function BE(o,h,m,b,I,S,j,le,Ue,lt){et.call(this,m7,{Gb:h,Aa:Ue||null,Va:!!m,ia:!!S},lt,"phoneSignInStart",{F:b,D:I}),this.H=le||null,this.M=h,this.l=o,this.w=m||null,this.pa=j||null}function Z7(o,h,m,b){try{var I=h.U(oB)}catch{return}I?fE?(h.$("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",Yn("Verifying...").toString()),wn(o,h.I(Jn(o.cc,o),[J2(I),m],function(S){var j=tr(h);h.$("firebaseui-icon-done",Yn("Code sent!").toString());var le=setTimeout(function(){h.h(),h.m(),St("phoneSignInFinish",o,j,I,15,S)},1e3);wn(o,function(){h&&h.h(),clearTimeout(le)})},function(S){if(h.h(),!S.name||"cancel"!=S.name){grecaptcha.reset(iz),fE=null;var j=S&&S.message||"";if(S.code)switch(S.code){case"auth/too-many-requests":j=Yn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return h.O().focus(),void Ss(h.B(),p2().toString());case"auth/admin-restricted-operation":if(Im(nt(o)))return S=tr(h),h.m(),void St("handleUnauthorizedUser",o,S,J2(I),wt.Z.auth.PhoneAuthProvider.PROVIDER_ID);j=fi(S);break;default:j=fi(S)}h.a(j)}}))):Dv?Ss(h.u(),Yn("Solve the reCAPTCHA").toString()):!Dv&&b&&h.i().click():(h.O().focus(),Ss(h.B(),p2().toString()))}function VE(o,h,m,b,I){et.call(this,g7,{Sb:h},I,"providerSignIn",{F:m,D:b}),this.i=o}function UE(o,h,m,b,I,S,j){et.call(this,Fz,{email:m,Va:!!h,ia:!!S},j,"signIn",{F:b,D:I}),this.i=o,this.u=h}function jE(o,h,m,b,I,S,j){et.call(this,Jz,{kc:o,yb:m,Eb:!!b},j,"unauthorizedUser",{F:I,D:S}),this.l=h,this.i=b}function GE(o,h,m,b,I,S){et.call(this,Xz,{email:o},S,"unsupportedProvider",{F:b,D:I}),this.l=h,this.i=m}function qu(o,h){this.$=!1;var m=IB(h);if(HE[m])throw Error('An AuthUI instance already exists for the key "'+m+'"');HE[m]=this,this.a=o,this.u=null,this.Y=!1,Y7(this.a),this.h=wt.Z.initializeApp({apiKey:o.app.options.apiKey,authDomain:o.app.options.authDomain},o.app.name+"-firebaseui-temp").auth(),(o=o.emulatorConfig)&&this.h.useEmulator(o.protocol+"://"+o.host+(null===(m=o.port)?"":":"+m),o.options),Y7(this.h),this.h.setPersistence&&this.h.setPersistence(wt.Z.auth.Auth.Persistence.SESSION),this.oa=h,this.ca=new gae,this.g=this.T=this.i=this.J=this.O=null,this.s=[],this.Z=!1,this.l=R2.Xa(),this.j=this.C=null,this.da=this.A=!1}function Y7(o){o&&o.INTERNAL&&o.INTERNAL.logFramework&&o.INTERNAL.logFramework("FirebaseUI-web")}p(BE,et),BE.prototype.v=function(){this.ea(this.pa,this.H),this.P(this.l,this.w||void 0),this.M||bE(this,this.O(),this.i()),Fv(this,this.i(),this.l),this.O().focus(),V1(this.O(),(this.O().value||"").length),et.prototype.v.call(this)},BE.prototype.o=function(){this.w=this.l=null,et.prototype.o.call(this)},Zn(BE.prototype,{Cb:pB,O:Sm,B:EB,ea:function(o,h,m){var b=this,I=Sm.call(this),S=W7.call(this),j=EB.call(this),le=o||uE,Ue=le.a;if(0==Ue.length)throw Error("No available countries provided.");rle.call(b,le,h),lr(this,S,function(){ole.call(b,le)}),Rv(this,I,function(){kv(j)&&(Ir(I,!0),Ha(j));var lt=Ba(As(I)||""),Nt=Dm(this.Ba),oi=v1(le,lt);lt=xB("1-US-0",Ue),oi.length&&oi[0].b!=Nt.b&&G1.call(b,"1"==(Nt=oi[0]).b&&lt?"1-US-0":Nt.c,le)}),m&&vE(this,I,function(){m()})},U:function(o){var h=Ba(As(Sm.call(this))||""),m=(o=o||uE).a,b=v1(uE,h);if(b.length&&!hi(m,b[0]))throw sz(Sm.call(this)),Sm.call(this).focus(),Ss(EB.call(this),Yn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return m=Dm(this.Ba),b.length&&b[0].b!=m.b&&G1.call(this,b[0].c,o),b.length&&(h=h.substr(b[0].b.length+1)),h?new H8(this.Ba,h):null},Ja:W7,ba:function(){return Un(this,"firebaseui-recaptcha-container")},u:function(){return Un(this,"firebaseui-id-recaptcha-error")},i:as,ua:Yr,P:Ts}),ni.phoneSignInStart=function(o,h,m,b){var I=function mae(o){var h=null;if(w1(o).forEach(function(b){b.provider==wt.Z.auth.PhoneAuthProvider.PROVIDER_ID&&Bt(b.recaptchaParameters)&&!Array.isArray(b.recaptchaParameters)&&(h=KL(b.recaptchaParameters))}),h){var m=[];Iae.forEach(function(b){typeof h[b]<"u"&&(m.push(b),delete h[b])}),m.length&&Yf('The following provided "recaptchaParameters" keys are not allowed: '+m.join(", "))}return h}(nt(o))||{};fE=null,Dv=!(I&&"invisible"===I.size);var S=F7(o),j=function Cae(o){var h=(o=Ga(o,wt.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&o.defaultCountry||null;h=h&&U8(h);var m=null;return o&&"string"==typeof o.loginHint&&(m=$8(o.loginHint)),h&&h[0]||m&&Dm(m.a)||null}(nt(o)),le=S?function wae(o){var h=null;return(o=Ga(o,wt.Z.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof o.loginHint&&(h=$8(o.loginHint)),o&&o.defaultNationalNumber||h&&h.Aa||null}(nt(o)):null;j=m&&m.a||j&&j.c||null,m=m&&m.Aa||le,(le=X2(nt(o)))&&G8(le),oB=le?new V8(X2(nt(o))):uE;var Ue=new BE(function(Nt){Z7(o,Ue,lt,!(!Nt||!Nt.keyCode))},Dv,S?null:function(){lt.clear(),Ue.m(),Ti(o,h)},Or(nt(o)),Pr(nt(o)),S,oB,j,m);Ue.render(h),An(o,Ue),b&&Ue.a(b),I.callback=function(Nt){Ue.u()&&Ha(Ue.u()),fE=Nt,Dv||Z7(o,Ue,lt)},I["expired-callback"]=function(){fE=null};var lt=new wt.Z.auth.RecaptchaVerifier(Dv?Ue.ba():Ue.i(),I,jc(o).app);wn(o,Ue.I(Jn(lt.render,lt),[],function(Nt){iz=Nt},function(Nt){Nt.name&&"cancel"==Nt.name||(Nt=fi(Nt),Ue.m(),Ti(o,h,void 0,Nt))}))},ni.prefilledEmailSignIn=function(o,h,m){var b=new U1;b.render(h),An(o,b),wn(o,b.I(Jn(Pn(o).fetchSignInMethodsForEmail,Pn(o)),[m],function(I){b.m();var S=!(!P1(o)||!Q7(o));L7(o,h,I,m,void 0,S)},function(I){I=fi(I),b.m(),St("signIn",o,h,m,I)}))},p(VE,et),VE.prototype.v=function(){this.l(this.i),et.prototype.v.call(this)},VE.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn(VE.prototype,{l:function(o){function h(j){o(j)}for(var m=this.g?l2("firebaseui-id-idp-button",this.g||this.s.a):[],b=0;b<m.length;b++){var I=m[b];lr(this,I,Na(h,j1(I,"providerId")))}}}),ni.providerSignIn=function(o,h,m,b){var I=new VE(function(S){S==wt.Z.auth.EmailAuthProvider.PROVIDER_ID?(I.m(),yB(o,h,b)):S==wt.Z.auth.PhoneAuthProvider.PROVIDER_ID?(I.m(),St("phoneSignInStart",o,h)):"anonymous"==S?function Bae(o,h){wn(o,h.I(Jn(o.$b,o),[],function(m){return h.m(),fh(o,h,m,!0)},function(m){m.name&&"cancel"==m.name||(ja("ContinueAsGuest: "+m.code,void 0),m=fi(m),h.a(m))}))}(o,I):EE(o,I,S,b),jn(o),o.l.cancel()},W8(nt(o)),Or(nt(o)),Pr(nt(o)));I.render(h),An(o,I),m&&I.a(m),function cle(o){jn(o);try{s8(o.l,Z8(nt(o)),function ale(o){var h;return jn(o),(h=o.Z)||(h=!(!(o=Q8(o=nt(o),wt.Z.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==o.prompt)),h}(o)).then(function(h){return!!o.g&&function Vae(o,h,m){if(m&&m.credential&&m.clientId===Z8(nt(o))){if(K8(nt(o),wt.Z.auth.GoogleAuthProvider.PROVIDER_ID).length){try{var I=JSON.parse(atob(m.credential.split(".")[1])).email}catch{}return EE(o,h,wt.Z.auth.GoogleAuthProvider.PROVIDER_ID,I),Dr(!0)}return function b(S){var j=!1;return S=h.I(Jn(o.ac,o),[S],function(le){var Ue=tr(h);h.m(),St("callback",o,Ue,Dr(le)),j=!0},function(le){if(!(le.name&&"cancel"==le.name||le&&"auth/credential-already-in-use"==le.code))if(le&&"auth/email-already-in-use"==le.code&&le.email&&le.credential){var Ue=tr(h);h.m(),St("callback",o,Ue,dv(le))}else le&&"auth/admin-restricted-operation"==le.code&&Im(nt(o))?(le=tr(h),h.m(),St("handleUnauthorizedUser",o,le,null,wt.Z.auth.GoogleAuthProvider.PROVIDER_ID)):(le=fi(le),h.a(le))}),wn(o,S),S.then(function(){return j},function(){return!1})}(wt.Z.auth.GoogleAuthProvider.credential(m.credential))}return m&&h.a(Yn("The selected credential for the authentication provider is not supported!").toString()),Dr(!1)}(o,o.g,h)})}catch{}}(o)},ni.sendEmailLinkForSignIn=function(o,h,m,b){var I=new F1;I.render(h),An(o,I),mB(o,I,m,b,function(S){I.m(),S&&"auth/admin-restricted-operation"==S.code&&Im(nt(o))?St("handleUnauthorizedUser",o,h,m,wt.Z.auth.EmailAuthProvider.PROVIDER_ID):(S=fi(S),St("signIn",o,h,m,S))})},p(UE,et),UE.prototype.v=function(){this.w(this.i),this.B(this.i,this.u||void 0),this.l().focus(),V1(this.l(),(this.l().value||"").length),et.prototype.v.call(this)},UE.prototype.o=function(){this.u=this.i=null,et.prototype.o.call(this)},Zn(UE.prototype,{l:hh,M:Qf,w:Lv,H:Bv,j:Vv,U:as,P:Yr,B:Ts}),ni.signIn=function(o,h,m,b){var I=P1(o),S=new UE(function(){var j=S,le=j.j()||"";le&&N7(o,j,le)},I?null:function(){S.m(),Ti(o,h,m)},m,Or(nt(o)),Pr(nt(o)),I);S.render(h),An(o,S),b&&S.a(b)},p(jE,et),jE.prototype.v=function(){var o=this,h=Un(this,"firebaseui-id-unauthorized-user-help-link");this.i&&h&&lr(this,h,function(){o.i()}),lr(this,this.u(),function(){o.l()}),this.u().focus(),et.prototype.v.call(this)},jE.prototype.o=function(){this.i=this.l=null,et.prototype.o.call(this)},Zn(jE.prototype,{u:Yr}),ni.handleUnauthorizedUser=function(o,h,m,b){function I(){Ti(o,h)}b===wt.Z.auth.EmailAuthProvider.PROVIDER_ID?I=function(){yB(o,h)}:b===wt.Z.auth.PhoneAuthProvider.PROVIDER_ID&&(I=function(){St("phoneSignInStart",o,h)});var S=null,j=null;b===wt.Z.auth.EmailAuthProvider.PROVIDER_ID&&Y8(nt(o))?(S=function vae(o){return(o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp&&o.disableSignUp.adminEmail||null}(nt(o)),j=function bae(o){if((o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))&&o.disableSignUp){var h=o.disableSignUp.helpLink||null;if(h&&"string"==typeof h)return function(){fv(h)}}return null}(nt(o))):Im(nt(o))&&(S=function yae(o){return(o=o.a.get("adminRestrictedOperation"))&&o.adminEmail?o.adminEmail:null}(nt(o)),j=function _ae(o){if(o=o.a.get("adminRestrictedOperation")||null){var h=o.helpLink||null;if(h&&"string"==typeof h)return function(){fv(h)}}return null}(nt(o)));var le=new jE(m,function(){le.m(),I()},S,j,Or(nt(o)),Pr(nt(o)));le.render(h),An(o,le)},p(GE,et),GE.prototype.v=function(){this.w(this.l,this.i),this.u().focus(),et.prototype.v.call(this)},GE.prototype.o=function(){this.i=this.l=null,et.prototype.o.call(this)},Zn(GE.prototype,{u:as,B:Yr,w:Ts}),ni.unsupportedProvider=function(o,h,m){var b=new GE(m,function(){b.m(),St("passwordRecovery",o,h,m)},function(){b.m(),Ti(o,h,m)},Or(nt(o)),Pr(nt(o)));b.render(h),An(o,b)};var HE={};function IB(o){return o||"[DEFAULT]"}function K7(o){return jn(o),o.i||(o.i=ph(o,function(h){return h&&!Gu(nn(o))?Dr(jc(o).getRedirectResult().then(function(m){return m},function(m){if(m&&"auth/email-already-in-use"==m.code&&m.email&&m.credential)throw m;return Xf(o,m)})):Dr(Pn(o).getRedirectResult().then(function(m){return b1(nt(o))&&!m.user&&o.j&&!o.j.isAnonymous?jc(o).getRedirectResult():m}))})),o.i}function An(o,h){jn(o),o.g=h}var Hv=null;function Pn(o){return jn(o),o.h}function jc(o){return jn(o),o.a}function nn(o){return jn(o),o.oa}function Q7(o){return jn(o),o.O?o.O.emailHint:void 0}function J7(o){return"signIn"===((o=new pm(o)).a.a.get(qr.ub)||null)&&!!o.a.a.get(qr.$a)}function X7(o,h,m,b){jn(o),typeof o.a.languageCode<"u"&&(o.u=o.a.languageCode);var I="en".replace(/_/g,"-");o.a.languageCode=I,o.h.languageCode=I,o.Y=!0,typeof o.a.tenantId<"u"&&(o.h.tenantId=o.a.tenantId),o.ib(m),o.O=b||null;var S=k.document;o.C?o.C.then(function(){"complete"==S.readyState?H1(o,h):eE(window,"load",function(){H1(o,h)})}):"complete"==S.readyState?H1(o,h):eE(window,"load",function(){H1(o,h)})}function H1(o,h){var m=QT(h,"Could not find the FirebaseUI widget element on the page.");if(m.setAttribute("lang","en".replace(/_/g,"-")),Hv){var b=Hv;jn(b),Gu(nn(b))&&Yf("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),Hv.reset()}if(Hv=o,o.T=m,function lle(o,h){o.L=null,o.J=new YT(h),o.J.register(),Vc(o.J,"pageEnter",function(m){if(o.L!=(m=m&&m.pageId)){var b=nt(o);(b=hE(b).uiChanged||null)&&b(o.L,m),o.L=m}})}(o,m),_1(new H2)&&_1(new $2)){h=QT(h,"Could not find the FirebaseUI widget element on the page."),m=(m=FT(m=dh(),b=K2(nt(o).a,"queryParameterForSignInSuccessUrl")))?Gf(LT(m)).toString():null;e:{b=dh();var I=J8(nt(o));for(S in b=FT(b,I)||"",sB)if(sB[S].toLowerCase()==b.toLowerCase()){var S=sB[S];break e}S="callback"}switch(S){case"callback":m&&(S=nn(o),wv(lE,m,S)),o.nb()?St("callback",o,h):Ti(o,h,Q7(o));break;case"resetPassword":St("passwordReset",o,h,xE(),_B());break;case"recoverEmail":St("emailChangeRevocation",o,h,xE());break;case"revertSecondFactorAddition":St("revertSecondFactorAddition",o,h,xE());break;case"verifyEmail":St("emailVerification",o,h,xE(),_B());break;case"verifyAndChangeEmail":St("verifyAndChangeEmail",o,h,xE(),_B());break;case"signIn":St("emailLinkSignInCallback",o,h,dh()),iq();break;case"select":m&&(S=nn(o),wv(lE,m,S)),Ti(o,h);break;default:throw Error("Unhandled widget operation.")}(h=hE(h=nt(o)).uiShown||null)&&h()}else h=QT(h,"Could not find the FirebaseUI widget element on the page."),(S=new O7(Yn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(h),An(o,S);h=o.g&&"blank"==o.g.Ga&&eB(nt(o)),W2(nn(o))&&!h&&(nq(o,(h=W2(nn(o))).a),ta(xm,nn(o)))}function ph(o,h){if(o.A)return h(eq(o));if(wn(o,function(){o.A=!1}),b1(nt(o))){var m=new Zr(function(b){wn(o,o.a.onAuthStateChanged(function(I){o.j=I,o.A||(o.A=!0,b(h(eq(o))))}))});return wn(o,m),m}return o.A=!0,h(null)}function eq(o){return jn(o),b1(nt(o))&&o.j&&o.j.isAnonymous?o.j:null}function wn(o,h){if(jn(o),h){o.s.push(h);var m=function(){!function GC(o,h){!function Uu(o,h){for(var m=W(o)?o.split(""):o,b=o.length-1;0<=b;--b)b in m&&h.call(void 0,m[b],b,o)}(o,function(b,I){h.call(void 0,b,I,o)&&js(o,I)})}(o.s,function(b){return b==h})};"function"!=typeof h&&h.then(m,m)}}function tq(o){typeof o.a.languageCode<"u"&&o.Y&&(o.Y=!1,o.a.languageCode=o.u)}function nq(o,h){o.a.tenantId=h,o.h.tenantId=h}function nt(o){return jn(o),o.ca}function jn(o){if(o.$)throw Error("AuthUI instance is deleted!")}function iq(){var o=dh();if(J7(o)){for(var h in o=new pm(o),qr)qr.hasOwnProperty(h)&&fm(o.a.a,qr[h]);h={state:"signIn",mode:"emailLink",operation:"clear"},k.history&&k.history.replaceState&&k.history.replaceState(h,k.document.title,o.toString())}}function Jf(o){return jn(o),Pn(o).signOut()}function Xf(o,h,m){if(jn(o),h&&h.code&&("auth/email-already-in-use"==h.code||"auth/credential-already-in-use"==h.code)){var b=nz(nt(o));return Dr().then(function(){return b(new KC("anonymous-upgrade-merge-conflict",null,m||h.credential))}).then(function(){throw o.g&&(o.g.m(),o.g=null),h})}return dv(h)}function $E(o,h,m,b){et.call(this,b7,void 0,b,"providerMatchByEmail",{F:h,D:m}),this.i=o}function $1(o,h,m,b,I){et.call(this,v7,{ec:h},I,"selectTenant",{F:m,D:b}),this.i=o}function AB(o){et.call(this,jz,void 0,o,"spinner")}function mle(o){for(var h in this.a=new Z2,kr(this.a,"authDomain"),kr(this.a,"displayMode",q1),kr(this.a,"tenants"),kr(this.a,"callbacks"),kr(this.a,"tosUrl"),kr(this.a,"privacyPolicyUrl"),o)if(o.hasOwnProperty(h))try{Y2(this.a,h,o[h])}catch{ja('Invalid config: "'+h+'"',void 0)}}function z1(o){return o.a.get("callbacks")||{}}function rq(o){var h=o.a.get("tosUrl")||null;if(o=o.a.get("privacyPolicyUrl")||null,h&&!o&&Yf("Privacy Policy URL is missing, the link will not be displayed."),h&&o){if("function"==typeof h)return h;if("string"==typeof h)return function(){fv(h)}}return null}function sq(o){var h=o.a.get("tosUrl")||null,m=o.a.get("privacyPolicyUrl")||null;if(m&&!h&&Yf("Terms of Service URL is missing, the link will not be displayed."),h&&m){if("function"==typeof m)return m;if("string"==typeof m)return function(){fv(m)}}return null}function SB(o,h){if(!(o=o.a.get("tenants"))||!o.hasOwnProperty(h)&&!o.hasOwnProperty(W1))throw Error("Invalid tenant configuration!")}function oq(o,h,m){if(!(o=o.a.get("tenants")))throw Error("Invalid tenant configuration!");var b=[];if(!(o=o[h]||o[W1]))return ja("Invalid tenant configuration: "+h+" is not configured!",void 0),b;if(!(h=o.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return h.forEach(function(I){if("string"==typeof I)b.push(I);else if("string"==typeof I.provider){var S=I.hd;S&&m?(S instanceof RegExp?S:new RegExp("@"+S.replace(".","\\.")+"$")).test(m)&&b.push(I.provider):b.push(I.provider)}else ja(I="Invalid tenant configuration: signInOption "+JSON.stringify(I)+" is invalid!",void 0)}),b}(n=qu.prototype).nb=function(){return jn(this),!!W2(nn(this))||J7(dh())},n.start=function(o,h){X7(this,o,h)},n.Db=function(){jn(this),this.Z=!0},n.reset=function(){jn(this);var o=this;this.T&&this.T.removeAttribute("lang"),this.J&&function joe(o){var h=C2(o.N());Ua[h]&&Ua[h].length&&(function iv(o,h){e:{for(var m=o.length,b=W(o)?o.split(""):o,I=0;I<m;I++)if(I in b&&h.call(void 0,b[I],I,o)){h=I;break e}h=-1}0<=h&&js(o,h)}(Ua[h],function(m){return m==o}),Ua[h].length||delete Ua[h])}(this.J),tq(this),this.O=null,iq(),ta(xm,nn(this)),jn(this),this.l.cancel(),this.i=Dr({user:null,credential:null}),Hv==this&&(Hv=null),this.T=null;for(var h=0;h<this.s.length;h++)"function"==typeof this.s[h]?this.s[h]():this.s[h].cancel&&this.s[h].cancel();this.s=[],Hu(nn(this)),this.g&&(this.g.m(),this.g=null),this.L=null,this.h&&(this.C=Jf(this).then(function(){o.C=null},function(){o.C=null}))},n.ib=function(o){jn(this);var m,h=this.ca;for(m in o)try{Y2(h.a,m,o[m])}catch{ja('Invalid config: "'+m+'"',void 0)}coe&&Y2(h.a,"popupMode",!1),X2(h),!this.da&&tB(nt(this))&&(Yf("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},n.Wb=function(){jn(this);var o=nt(this),h=K2(o.a,"widgetUrl");o=J8(o);for(var I,m=h.search(Y5),b=0,S=[];0<=(I=Z5(h,b,o,m));)S.push(h.substring(b,I)),b=Math.min(h.indexOf("&",I)+1||m,m);S.push(h.substr(b)),h=S.join("").replace(Jse,"$1"),(o+=m="="+encodeURIComponent("select"))?(0>(m=h.indexOf("#"))&&(m=h.length),0>(b=h.indexOf("?"))||b>m?(b=m,I=""):I=h.substring(b+1,m),m=(h=[h.substr(0,b),I,h.substr(m)])[1],h[1]=o?m?m+"&"+o:o:m,m=h[0]+(h[1]?"?"+h[1]:"")+h[2]):m=h,nt(this).a.get("popupMode")?(m=m||"about:blank",(o={width:500,height:600,top:0<(o=(window.screen.availHeight-600)/2)?o:0,left:0<(h=(window.screen.availWidth-500)/2)?h:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=o.target||m.target||"google_popup",o.width=o.width||690,o.height=o.height||500,(o=X$(m,o))&&o.focus()):uv(window.location,m)},n.Wa=function(){var o=this;return jn(this),this.h.app.delete().then(function(){var h=IB(nn(o));delete HE[h],o.reset(),o.$=!0})},n.Ib=function(o,h){jn(this);var m=this,b=function Zoe(){for(var o=32,h=[];0<o;)h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return h.join("")}();if(!xv(nt(this)))return dv(Error("Email link sign-in should be enabled to trigger email sending."));var I=function xae(o){if(xv(o)){var h={url:dh(),handleCodeInApp:!0};(o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof o.emailLinkSignIn&&kT(h,o.emailLinkSignIn()),o=h.url;var m=dh();m instanceof Bf||(m=e2(m)),o instanceof Bf||(o=e2(o));var b=m;m=new Bf(b);var I=!!o.j;I?QL(m,o.j):I=!!o.A,I?m.A=o.A:I=!!o.h,I?m.h=o.h:I=null!=o.C;var S=o.g;if(I)JL(m,o.C);else if(I=!!o.g)if("/"!=S.charAt(0)&&(b.h&&!b.g?S="/"+S:-1!=(b=m.g.lastIndexOf("/"))&&(S=m.g.substr(0,b+1)+S)),".."==S||"."==S)S="";else if(-1!=S.indexOf("./")||-1!=S.indexOf("/.")){b=0==S.lastIndexOf("/",0),S=S.split("/");for(var j=[],le=0;le<S.length;){var Ue=S[le++];"."==Ue?b&&le==S.length&&j.push(""):".."==Ue?((1<j.length||1==j.length&&""!=j[0])&&j.pop(),b&&le==S.length&&j.push("")):(j.push(Ue),b=!0)}S=j.join("/")}return I?m.g=S:I=""!==o.a.toString(),I?XL(m,J5(o.a)):I=!!o.s,I&&(m.s=o.s),h.url=m.toString(),h}return null}(nt(this)),S=new pm(I.url);return function soe(o,h){h?o.a.a.set(qr.Sa,h):fm(o.a.a,qr.Sa)}(S,b),h&&h.a&&(function pae(o,h,m){wv(cE,I8(o,JSON.stringify(m8(h))),m)}(b,h,nn(this)),e$(S,h.a.providerId)),function ooe(o,h){null!==h?o.a.a.set(qr.Qa,h?"1":"0"):fm(o.a.a,qr.Qa)}(S,function Eae(o){return!(!(o=Ga(o,wt.Z.auth.EmailAuthProvider.PROVIDER_ID))||!o.forceSameDevice)}(nt(this))),ph(this,function(j){return j&&((j=j.uid)?S.a.a.set(qr.Pa,j):fm(S.a.a,qr.Pa)),I.url=S.toString(),Pn(m).sendSignInLinkToEmail(o,I)}).then(function(){var j=nn(m),le={};le.email=o,wv(vv,I8(b,JSON.stringify(le)),j)},function(j){throw ta(cE,nn(m)),ta(vv,nn(m)),j})},n.bc=function(o,h){jn(this);var m=this;return Pn(this).signInWithEmailAndPassword(o,h).then(function(b){return ph(m,function(I){return I?Jf(m).then(function(){return Xf(m,{code:"auth/email-already-in-use"},wt.Z.auth.EmailAuthProvider.credential(o,h))}):b})})},n.Yb=function(o,h){jn(this);var m=this;return ph(this,function(b){if(b){var I=wt.Z.auth.EmailAuthProvider.credential(o,h);return b.linkWithCredential(I)}return Pn(m).createUserWithEmailAndPassword(o,h)})},n.ac=function(o){jn(this);var h=this;return ph(this,function(m){return m?m.linkWithCredential(o).then(function(b){return b},function(b){if(b&&"auth/email-already-in-use"==b.code&&b.email&&b.credential)throw b;return Xf(h,b,o)}):Pn(h).signInWithCredential(o)})},n.dc=function(o){jn(this);var h=this,m=this.i;return this.i=null,ph(this,function(b){return b&&!Gu(nn(h))?b.linkWithRedirect(o):Pn(h).signInWithRedirect(o)}).then(function(){},function(b){throw h.i=m,b})},n.cc=function(o,h){jn(this);var m=this;return ph(this,function(b){return b?b.linkWithPhoneNumber(o,h).then(function(I){return new O2(I,function(S){if("auth/credential-already-in-use"==S.code)return Xf(m,S);throw S})}):jc(m).signInWithPhoneNumber(o,h).then(function(I){return new O2(I)})})},n.$b=function(){return jn(this),jc(this).signInAnonymously()},n.Xb=function(o,h){return jn(this),Pn(this).signInWithEmailAndPassword(o,h)},p($E,et),$E.prototype.v=function(){this.u(this.i),this.w(this.i),this.l().focus(),V1(this.l(),(this.l().value||"").length),et.prototype.v.call(this)},$E.prototype.o=function(){this.i=null,et.prototype.o.call(this)},Zn($E.prototype,{l:hh,H:Qf,u:Lv,B:Bv,j:Vv,M:as,w:Ts}),p($1,et),$1.prototype.v=function(){(function gle(o,h){function m(le){h(le)}for(var b=o.g?l2("firebaseui-id-tenant-selection-button",o.g||o.s.a):[],I=0;I<b.length;I++){var S=b[I];lr(o,S,Na(m,j1(S,"tenantId")))}})(this,this.i),et.prototype.v.call(this)},$1.prototype.o=function(){this.i=null,et.prototype.o.call(this)},p(AB,et);var ble=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],q1="optionFirst",TB={pc:q1,oc:"identifierFirst"},W1="*";function Gc(o,h){var m=this;this.s=QT(o),this.a={},Object.keys(h).forEach(function(b){m.a[b]=new mle(h[b])}),this.ob=this.g=this.A=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.ob},set:function(b){this.ob=b||null},enumerable:!1})}function ep(o){o.j&&o.j.reset(),o.mb(),o.g&&o.g.m()}(n=Gc.prototype).Ub=function(o,h){var m=this;ep(this);var b=o.apiKey;return new Zr(function(I,S){if(m.a.hasOwnProperty(b)){var j=z1(m.a[b]).selectTenantUiHidden||null;if(function yle(o){for(var h in o=o.a.get("displayMode"),TB)if(TB[h]===o)return TB[h];return q1}(m.a[b])===q1){var le=[];h.forEach(function(Nt){Nt=Nt||"_";var oi=m.a[b].a.get("tenants");if(!oi)throw Error("Invalid tenant configuration!");(oi=oi[Nt]||oi[W1])?Nt={tenantId:"_"!==Nt?Nt:null,V:oi.fullLabel||null,displayName:oi.displayName,za:oi.iconUrl,ta:oi.buttonColor}:(ja("Invalid tenant configuration: "+Nt+" is not configured!",void 0),Nt=null),Nt&&le.push(Nt)});var Ue=function(Nt){Nt={tenantId:Nt,providerIds:oq(m.a[b],Nt||"_")},I(Nt)};if(1===le.length)return void Ue(le[0].tenantId);m.g=new $1(function(Nt){ep(m),j&&j(),Ue(Nt)},le,rq(m.a[b]),sq(m.a[b]))}else m.g=new $E(function(){var Nt=m.g.j();if(Nt){for(var oi=0;oi<h.length;oi++){var Hc=oq(m.a[b],h[oi]||"_",Nt);if(0!==Hc.length)return Nt={tenantId:h[oi],providerIds:Hc,email:Nt},ep(m),j&&j(),void I(Nt)}m.g.a(I$({code:"no-matching-tenant-for-email"}).toString())}},rq(m.a[b]),sq(m.a[b]));m.g.render(m.s),(S=z1(m.a[b]).selectTenantUiShown||null)&&S()}else{var lt=Error("Invalid project configuration: API key is invalid!");lt.code="invalid-configuration",m.pb(lt),S(lt)}})},n.Pb=function(o,h){if(!this.a.hasOwnProperty(o))throw Error("Invalid project configuration: API key is invalid!");var m=h||void 0;SB(this.a[o],h||"_");try{this.i=wt.Z.app(m).auth()}catch{var b=this.a[o].a.get("authDomain");if(!b)throw Error("Invalid project configuration: authDomain is required!");(o=wt.Z.initializeApp({apiKey:o,authDomain:b},m)).auth().tenantId=h,this.i=o.auth()}return this.i},n.Zb=function(o,h){var m=this;return new Zr(function(b,I){function S(oi,Hc){m.j=new qu(o),X7(m.j,m.s,oi,Hc)}var j=o.app.options.apiKey;m.a.hasOwnProperty(j)||I(Error("Invalid project configuration: API key is invalid!"));var le=function _le(o,h,m){return o=function vle(o,h){var m=ble,b=void 0===b?{}:b;return SB(o,h),function Yoe(o,h,m){return m=void 0===m?{}:m,Object.keys(o).filter(function(b){return h.includes(b)}).reduce(function(b,I){return b[I]=o[I],b},m)}((o=o.a.get("tenants"))[h]||o[W1],m,b)}(o,h),(h=o.signInOptions)&&m&&(h=h.filter(function(b){return m.includes("string"==typeof b?b:b.provider)}),o.signInOptions=h),o}(m.a[j],o.tenantId||"_",h&&h.providerIds);ep(m),I={signInSuccessWithAuthResult:function(oi){return b(oi),!1}};var Nt,Ue=z1(m.a[j]).signInUiShown||null,lt=!1;I.uiChanged=function(oi,Hc){null===oi&&"callback"===Hc?((oi=c2("firebaseui-id-page-callback",m.s))&&Ha(oi),m.h=new AB,m.h.render(m.s)):lt||null===oi&&"spinner"===Hc||"blank"===Hc||(m.h&&(m.h.m(),m.h=null),lt=!0,Ue&&Ue(o.tenantId))},le.callbacks=I,le.credentialHelper="none",h&&h.email&&(Nt={emailHint:h.email}),m.j?m.j.Wa().then(function(){S(le,Nt)}):S(le,Nt)})},n.reset=function(){var o=this;return Dr().then(function(){o.j&&o.j.Wa()}).then(function(){o.j=null,ep(o)})},n.Vb=function(){var o=this;this.h||this.A||(this.A=window.setTimeout(function(){ep(o),o.h=new AB,o.g=o.h,o.h.render(o.s),o.A=null},500))},n.mb=function(){window.clearTimeout(this.A),this.A=null,this.h&&(this.h.m(),this.h=null)},n.Bb=function(){return ep(this),this.g=new S7,this.g.render(this.s),Dr()},n.pb=function(o){var b,h=this,m=I$({code:o.code}).toString()||o.message;ep(this),o.retry&&"function"==typeof o.retry&&(b=function(){h.reset(),o.retry()}),this.g=new k7(m,b),this.g.render(this.s)},n.Rb=function(o){var h=this;return Dr().then(function(){var m=h.i&&h.i.app.options.apiKey;if(!h.a.hasOwnProperty(m))throw Error("Invalid project configuration: API key is invalid!");if(SB(h.a[m],o.tenantId||"_"),!h.i.currentUser||h.i.currentUser.uid!==o.uid)throw Error("The user being processed does not match the signed in user!");return(m=z1(h.a[m]).beforeSignInSuccess||null)?m(o):o}).then(function(m){if(m.uid!==o.uid)throw Error("User with mismatching UID returned.");return m})},Si("firebaseui.auth.FirebaseUiHandler",Gc),Si("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",Gc.prototype.Ub),Si("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",Gc.prototype.Pb),Si("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",Gc.prototype.Zb),Si("firebaseui.auth.FirebaseUiHandler.prototype.reset",Gc.prototype.reset),Si("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",Gc.prototype.Vb),Si("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",Gc.prototype.mb),Si("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",Gc.prototype.Bb),Si("firebaseui.auth.FirebaseUiHandler.prototype.handleError",Gc.prototype.pb),Si("firebaseui.auth.FirebaseUiHandler.prototype.processUser",Gc.prototype.Rb),Si("firebaseui.auth.AuthUI",qu),Si("firebaseui.auth.AuthUI.getInstance",function(o){return o=IB(o),HE[o]?HE[o]:null}),Si("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",qu.prototype.Db),Si("firebaseui.auth.AuthUI.prototype.start",qu.prototype.start),Si("firebaseui.auth.AuthUI.prototype.setConfig",qu.prototype.ib),Si("firebaseui.auth.AuthUI.prototype.signIn",qu.prototype.Wb),Si("firebaseui.auth.AuthUI.prototype.reset",qu.prototype.reset),Si("firebaseui.auth.AuthUI.prototype.delete",qu.prototype.Wa),Si("firebaseui.auth.AuthUI.prototype.isPendingRedirect",qu.prototype.nb),Si("firebaseui.auth.AuthUIError",KC),Si("firebaseui.auth.AuthUIError.prototype.toJSON",KC.prototype.toJSON),Si("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",nB),Si("firebaseui.auth.CredentialHelper.NONE",C1),Si("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),Zr.prototype.catch=Zr.prototype.Ca,Zr.prototype.finally=Zr.prototype.fc}).apply(typeof global<"u"?global:typeof self<"u"?self:window)}.apply(typeof global<"u"?global:typeof self<"u"?self:window),typeof window<"u"&&(window.dialogPolyfill=PD());var ok=firebaseui.auth,o0=N(7143),Wn=N(2090),Mc=N(9681),Rl=N(1877),xo=N(4859);const zp_url="https://mainstreetcode.github.io/torneo/#",zp_firebase={apiKey:"AIzaSyBXfstBvichb-xN3QAYd4Xx_03-j3FMaxA",authDomain:"tourney-84ede.firebaseapp.com",projectId:"tourney-84ede",storageBucket:"tourney-84ede.appspot.com",messagingSenderId:"720024685972",appId:"1:720024685972:web:27d438c5628bc965749381",measurementId:"G-DJDJLLFS6V"};var qp=N(5363);function vn(n,t){return(0,Lr.e)((e,i)=>{let r=null,l=0,d=!1;const p=()=>d&&!r&&i.complete();e.subscribe((0,or.x)(i,v=>{r?.unsubscribe();let E=0;const M=l++;(0,wc.Xf)(n(v,M)).subscribe(r=(0,or.x)(i,k=>i.next(t?t(v,k,M,E++):k),()=>{r=null,p()}))},()=>{d=!0,p()}))})}var xa=N(6063);class Da extends Qt.x{constructor(t=1/0,e=1/0,i=xa.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;e||(i.push(t),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!t.closed;d+=i?1:2)t.next(l[d]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=e.now();let p=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)p=v;p&&i.splice(0,p+1)}}}function a0(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,wy.B)({connector:()=>new Da(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const My=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ry(n){return(0,Lr.e)((t,e)=>{let i=!1;t.subscribe((0,or.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ND(n=ak){return(0,Lr.e)((t,e)=>{let i=!1;t.subscribe((0,or.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ak(){return new My}function Ia(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Oi((r,l)=>n(r,l,i)):Vh.y,Ln(1),e?Ry(t):ND(()=>new My))}function tf(n,t){return(0,Ho.m)(t)?vn(()=>n,t):vn(()=>n)}var l0=N(9468),jr=N(5813),Aa=N(2011);N(5867);var $e=N(5861);const jD=new Map,pk={activated:!1,tokenObservers:[]},gk={initialized:!1,enabled:!1};function Gr(n){return jD.get(n)||pk}function Sa(n,t){jD.set(n,t)}function Py(){return gk}class bk{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,$e.Z)(function*(){e.stop();try{e.pending=new Wn.BH,yield function wk(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Wn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const _s=new Wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function h0(n){if(!Gr(n).activated)throw _s.create("use-before-activation",{appName:n.name})}function Ny(n,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,$e.Z)(function*({url:n,body:t},e){var i,r;const l={"Content-Type":"application/json"},d=e.getImmediate({optional:!0});if(d){const W=yield d.getHeartbeatsHeader();W&&(l["X-Firebase-Client"]=W)}const p={method:"POST",body:JSON.stringify(t),headers:l};let v,E;try{v=yield fetch(n,p)}catch(W){throw _s.create("fetch-network-error",{originalErrorMessage:null===(i=W)||void 0===i?void 0:i.message})}if(200!==v.status)throw _s.create("fetch-status-error",{httpStatus:v.status});try{E=yield v.json()}catch(W){throw _s.create("fetch-parse-error",{originalErrorMessage:null===(r=W)||void 0===r?void 0:r.message})}const M=E.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const k=1e3*Number(M[1]),z=Date.now();return{token:E.token,expireTimeMillis:z+k,issuedAtTimeMillis:z}})).apply(this,arguments)}function f0(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Kp="firebase-app-check-store";let Rc=null;function Ek(){return Rc||(Rc=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var l;t(_s.create("storage-open",{originalErrorMessage:null===(l=r.target.error)||void 0===l?void 0:l.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kp,{keyPath:"compositeKey"})}}catch(i){t(_s.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Rc)}function zt(){return(zt=(0,$e.Z)(function*(n,t){const i=(yield Ek()).transaction(Kp,"readwrite"),l=i.objectStore(Kp).put({compositeKey:n,value:t});return new Promise((d,p)=>{l.onsuccess=v=>{d()},i.onerror=v=>{var E;p(_s.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const kl=new Rl.Yd("@firebase/app-check");function Qp(n,t){return(0,Wn.hl)()?function qV(n,t){return function xk(n,t){return zt.apply(this,arguments)}(function YD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{kl.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function y0(){return Py().enabled}function _0(){return v0.apply(this,arguments)}function v0(){return(v0=(0,$e.Z)(function*(){const n=Py();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const JD={error:"UNKNOWN_ERROR"};function XD(n){return Wn.US.encodeString(JSON.stringify(n),!1)}function Jp(n){return b0.apply(this,arguments)}function b0(){return(b0=(0,$e.Z)(function*(n,t=!1){const e=n.app;h0(e);const i=Gr(e);let l,r=i.token;if(!r){const v=yield i.cachedTokenPromise;v&&By(v)&&(r=v)}if(!t&&r&&By(r))return{token:r.token};let p,d=!1;if(y0()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Ny(f0(e,yield _0()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),d=!0);const v=yield i.exchangeTokenPromise;return yield Qp(e,v),Sa(e,Object.assign(Object.assign({},i),{token:v})),{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(v=>(i.exchangeTokenPromise=void 0,v)),d=!0),r=yield i.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?kl.warn(v.message):kl.error(v),l=v}return r?(p={token:r.token},Sa(e,Object.assign(Object.assign({},i),{token:r})),yield Qp(e,r)):p=Vy(l),d&&eI(e,p),p})).apply(this,arguments)}function C0(n,t){const e=Gr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Sa(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function rf(n){const{app:t}=n,e=Gr(t);let i=e.tokenRefresher;i||(i=function Ik(n){const{app:t}=n;return new bk((0,$e.Z)(function*(){let i;if(i=Gr(t).token?yield Jp(n,!0):yield Jp(n),i.error)throw i.error}),()=>!0,()=>{const e=Gr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Sa(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function eI(n,t){const e=Gr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function By(n){return n.expireTimeMillis-Date.now()>0}function Vy(n){return{token:XD(JD),error:n}}class tI{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Gr(this.app);for(const e of t)C0(this.app,e.next);return Promise.resolve()}}const sI="app-check-internal";!function Uk(){(0,Mc._registerComponent)(new xo.wA("app-check",n=>function nI(n,t){return new tI(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(sI).initialize()})),(0,Mc._registerComponent)(new xo.wA(sI,n=>function iI(n){return{getToken:t=>Jp(n,t),addTokenListener:t=>function w0(n,t,e,i){const{app:r}=n,l=Gr(r),d={next:e,error:i,type:t};if(Sa(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&By(l.token)){const p=l.token;Promise.resolve().then(()=>{e({token:p.token}),rf(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>rf(n))}(n,"INTERNAL",t),removeTokenListener:t=>C0(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mc.registerVersion)("@firebase/app-check","0.5.12")}();class S0{constructor(){return(0,jr.vb)("app-check")}}typeof window<"u"&&window;const jy=new s.OlP("angularfire2.auth.use-emulator"),cI=new s.OlP("angularfire2.auth.settings"),M0=new s.OlP("angularfire2.auth.tenant-id"),uI=new s.OlP("angularfire2.auth.langugage-code"),dI=new s.OlP("angularfire2.auth.use-device-language"),hI=new s.OlP("angularfire.auth.persistence"),fI=(n,t,e,i,r,l,d,p)=>(0,Aa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=t.runOutsideAngular(()=>n.auth());if(e&&v.useEmulator(...e),i&&(v.tenantId=i),v.languageCode=r,l&&v.useDeviceLanguage(),d)for(const[E,M]of Object.entries(d))v.settings[E]=M;return p&&v.setPersistence(p),v},[e,i,r,l,d,p]);let R0=(()=>{class n{constructor(e,i,r,l,d,p,v,E,M,k,z,W){const te=new Qt.x,Ee=ot(void 0).pipe((0,qp.Q)(d.outsideAngular),vn(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,5881)))),(0,It.U)(()=>(0,Aa.on)(e,l,i)),(0,It.U)(Be=>fI(Be,l,p,E,M,k,v,z)),a0({bufferSize:1,refCount:!1}));if(hs(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{Ee.pipe(Ia()).subscribe();const Ze=Ee.pipe(vn(bt=>bt.getRedirectResult().then(Ft=>Ft,()=>null)),jr.iC,a0({bufferSize:1,refCount:!1})),ht=Ee.pipe(vn(bt=>new Vr.y(Ft=>({unsubscribe:l.runOutsideAngular(()=>bt.onAuthStateChanged(Bt=>Ft.next(Bt),Bt=>Ft.error(Bt),()=>Ft.complete()))})))),Ct=Ee.pipe(vn(bt=>new Vr.y(Ft=>({unsubscribe:l.runOutsideAngular(()=>bt.onIdTokenChanged(Bt=>Ft.next(Bt),Bt=>Ft.error(Bt),()=>Ft.complete()))}))));this.authState=Ze.pipe(tf(ht),(0,l0.R)(d.outsideAngular),(0,qp.Q)(d.insideAngular)),this.user=Ze.pipe(tf(Ct),(0,l0.R)(d.outsideAngular),(0,qp.Q)(d.insideAngular)),this.idToken=this.user.pipe(vn(bt=>bt?(0,Nn.D)(bt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(vn(bt=>bt?(0,Nn.D)(bt.getIdTokenResult()):ot(null))),this.credential=(0,xc.T)(Ze,te,this.authState.pipe(Oi(bt=>!bt))).pipe((0,It.U)(bt=>bt?.user?bt:null),(0,l0.R)(d.outsideAngular),(0,qp.Q)(d.insideAngular))}return(0,Aa.pX)(this,Ee,l,{spy:{apply:(Be,Ze,ht)=>{(Be.startsWith("signIn")||Be.startsWith("createUser"))&&ht.then(Ct=>te.next(Ct))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Aa.Dh),s.LFG(Aa.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(jr.HU),s.LFG(jy,8),s.LFG(cI,8),s.LFG(M0,8),s.LFG(uI,8),s.LFG(dI,8),s.LFG(hI,8),s.LFG(S0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ol=(()=>{class n{constructor(e){this.afAuth=e,this.isLoggedInSubject=new gr(!1),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),wt.Z.initializeApp(zp_firebase),this.ui=new ok.AuthUI(wt.Z.auth()),wt.Z.auth().onAuthStateChanged(i=>{this.currentUser$=ot(i),this.isLoggedInSubject.next(!!i)})}getCurrentUser(){return wt.Z.auth().currentUser}showLogin(e){const i={signInOptions:[{provider:wt.Z.auth.EmailAuthProvider.PROVIDER_ID}],callbacks:{signInSuccessWithAuthResult:this.onLoginSuccessful.bind(this)}};this.ui.start(e,i)}onLoginSuccessful(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(R0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qk(n,t){1&n&&(s.TgZ(0,"div",2)(1,"h1",3),s._uU(2,"You are now logged in"),s.qZA()())}let k0=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){this.isLoggedIn$=this.authService.isLoggedIn$,this.subscription=this.isLoggedIn$.subscribe({next:e=>{e||this.authService.showLogin("#firebaseui-auth-container")}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:3,consts:[["id","firebaseui-auth-container",1,"auth-container"],["class","content",4,"ngIf"],[1,"content"],["mat-dialog-title",""]],template:function(e,i){1&e&&(s._UZ(0,"div",0),s.YNc(1,qk,3,0,"div",1),s.ALo(2,"async")),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,1,i.isLoggedIn$)))},dependencies:[En,qb,Fo]}),n})(),O0=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onNoClick(){this.dialogRef.close()}close(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login-dialog"]],decls:9,vars:0,consts:[["color","primary",1,"header"],[1,"flex-box-item"],["mat-dialog-title",""],["mat-icon-button","","aria-label","close",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"h1",2),s._uU(3,"Login"),s.qZA()(),s.TgZ(4,"div")(5,"button",3),s.NdJ("click",function(){return i.close()}),s.TgZ(6,"mat-icon"),s._uU(7,"close"),s.qZA()()()(),s._UZ(8,"app-login"))},dependencies:[Ac,Ea,qb,Ps,k0]}),n})();var Wk=N(9635);function P0(){return(0,Lr.e)((n,t)=>{let e=null;n._refCount++;const i=(0,or.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class F0 extends Vr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Lr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new sr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,or.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=sr.w0.EMPTY)}return t}refCount(){return P0()(this)}}function Zk(n,t,e,i,r){return(l,d)=>{let p=e,v=t,E=0;l.subscribe((0,or.x)(d,M=>{const k=E++;v=p?n(v,M,k):(p=!0,M),i&&d.next(v)},r&&(()=>{p&&d.next(v),d.complete()})))}}function ng(n,t){return(0,Lr.e)(Zk(n,t,arguments.length>=2,!0))}function N0(n){return n<=0?()=>ms.E:(0,Lr.e)((t,e)=>{let i=[];t.subscribe((0,or.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Gy(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Oi((r,l)=>n(r,l,i)):Vh.y,N0(1),e?Ry(t):ND(()=>new My))}const mn="primary",ig=Symbol("RouteTitle");class Yk{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Du(n){return new Yk(n)}function Kk(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const d=i[l],p=n[l];if(d.startsWith(":"))r[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!B0(n[r],t[r]))return!1;return!0}function B0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function mI(n){return Array.prototype.concat.apply([],n)}function Qk(n){return n.length>0?n[n.length-1]:null}function Mr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Iu(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):ot(n)}const yI={exact:function U0(n,t,e){if(!Hd(n.segments,t.segments)||!$y(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!U0(n.children[i],t.children[i],e))return!1;return!0},subset:bI},Hy={exact:function _I(n,t){return Fs(n,t)},subset:function vI(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>B0(n[e],t[e]))},ignored:()=>!0};function V0(n,t,e){return yI[e.paths](n.root,t.root,e.matrixParams)&&Hy[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bI(n,t,e){return wI(n,t,t.segments,e)}function wI(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Hd(r,e)||t.hasChildren()||!$y(r,e,i))}if(n.segments.length===e.length){if(!Hd(n.segments,e)||!$y(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bI(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Hd(n.segments,r)&&$y(n.segments,r,i)&&n.children[mn])&&wI(n.children[mn],t,l,i)}}function $y(n,t,e){return t.every((i,r)=>Hy[e](n[r].parameters,i.parameters))}class Gd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return nO.serialize(this)}}class xn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qy(this)}}class zy{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Du(this.parameters)),this._parameterMap}toString(){return DI(this)}}function Hd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let tO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new EI},providedIn:"root"}),n})();class EI{parse(t){const e=new MI(t);return new Gd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sg(t.root,!0)}`,i=function sO(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${og(e)}=${og(r)}`).join("&"):`${og(e)}=${og(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function iO(n){return encodeURI(n)}(t.fragment)}`:""}`}}const nO=new EI;function qy(n){return n.segments.map(t=>DI(t)).join("/")}function sg(n,t){if(!n.hasChildren())return qy(n);if(t){const e=n.children[mn]?sg(n.children[mn],!1):"",i=[];return Mr(n.children,(r,l)=>{l!==mn&&i.push(`${l}:${sg(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function eO(n,t){let e=[];return Mr(n.children,(i,r)=>{r===mn&&(e=e.concat(t(i,r)))}),Mr(n.children,(i,r)=>{r!==mn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===mn?[sg(n.children[mn],!1)]:[`${r}:${sg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mn]?`${qy(n)}/${e[0]}`:`${qy(n)}/(${e.join("//")})`}}function j0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function og(n){return j0(n).replace(/%3B/gi,";")}function G0(n){return j0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wy(n){return decodeURIComponent(n)}function xI(n){return Wy(n.replace(/\+/g,"%20"))}function DI(n){return`${G0(n.path)}${function rO(n){return Object.keys(n).map(t=>`;${G0(t)}=${G0(n[t])}`).join("")}(n.parameters)}`}const ag=/^[^\/()?;=#]+/;function lg(n){const t=n.match(ag);return t?t[0]:""}const II=/^[^=?&#]+/,SI=/^[^&#]+/;class MI{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[mn]=new xn(t,e)),i}parseSegment(){const t=lg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new zy(Wy(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lg(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=lg(this.remaining);r&&(i=r,this.capture(i))}t[Wy(e)]=Wy(i)}parseQueryParam(t){const e=function AI(n){const t=n.match(II);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function TI(n){const t=n.match(SI);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=xI(e),l=xI(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=lg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=mn);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[mn]:new xn([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function H0(n){return n.segments.length>0?new xn([],{[mn]:n}):n}function $0(n){const t={};for(const i of Object.keys(n.children)){const l=$0(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function RI(n){if(1===n.numberOfChildren&&n.children[mn]){const t=n.children[mn];return new xn(n.segments.concat(t.segments),t.children)}return n}(new xn(n.segments,t))}function $d(n){return n instanceof Gd}function aO(n,t,e,i,r){if(0===e.length)return sf(t.root,t.root,t.root,i,r);const l=function kI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new af(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Mr(l.outlets,(v,E)=>{p[E]="string"==typeof v?v.split("/"):v}),[...r,{outlets:p}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===d?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?e=!0:".."===p?t++:""!=p&&r.push(p))}),r):[...r,l]},[]);return new af(e,t,i)}(e);return l.toRoot()?sf(t.root,t.root,new xn([],{}),i,r):function d(v){const E=function Zy(n,t,e,i){if(n.isAbsolute)return new lf(t.root,!0,0);if(-1===i)return new lf(e,e===t.root,0);return function dg(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new lf(i,!1,r-l)}(e,i+(zd(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,t,n.snapshot?._urlSegment,v),M=E.processChildren?cf(E.segmentGroup,E.index,l.commands):q0(E.segmentGroup,E.index,l.commands);return sf(t.root,E.segmentGroup,M,i,r)}(n.snapshot?._lastPathIndex)}function zd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xs(n){return"object"==typeof n&&null!=n&&n.outlets}function sf(n,t,e,i,r){let d,l={};i&&Mr(i,(v,E)=>{l[E]=Array.isArray(v)?v.map(M=>`${M}`):`${v}`}),d=n===t?e:ug(n,t,e);const p=H0($0(d));return new Gd(p,l,r)}function ug(n,t,e){const i={};return Mr(n.children,(r,l)=>{i[l]=r===t?e:ug(r,t,e)}),new xn(n.segments,i)}class af{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&zd(i[0]))throw new s.vHH(4003,!1);const r=i.find(Xs);if(r&&r!==Qk(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function q0(n,t,e){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return cf(n,t,e);const i=function OI(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const d=n.segments[r],p=e[i];if(Xs(p))break;const v=`${p}`,E=i<e.length-1?e[i+1]:null;if(r>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!NI(v,E,d))return l;i+=2}else{if(!NI(v,{},d))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new xn(n.segments.slice(0,i.pathIndex),{});return l.children[mn]=new xn(n.segments.slice(i.pathIndex),n.children),cf(l,0,r)}return i.match&&0===r.length?new xn(n.segments,{}):i.match&&!n.hasChildren()?hg(n,t,e):i.match?cf(n,0,r):hg(n,t,e)}function cf(n,t,e){if(0===e.length)return new xn(n.segments,{});{const i=function cO(n){return Xs(n[0])?n[0].outlets:{[mn]:n}}(e),r={};return Mr(i,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[d]=q0(n.children[d],t,l))}),Mr(n.children,(l,d)=>{void 0===i[d]&&(r[d]=l)}),new xn(n.segments,r)}}function hg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Xs(l)){const v=PI(l.outlets);return new xn(i,v)}if(0===r&&zd(e[0])){i.push(new zy(n.segments[t].path,FI(e[0]))),r++;continue}const d=Xs(l)?l.outlets[mn]:`${l}`,p=r<e.length-1?e[r+1]:null;d&&p&&zd(p)?(i.push(new zy(d,FI(p))),r+=2):(i.push(new zy(d,{})),r++)}return new xn(i,{})}function PI(n){const t={};return Mr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=hg(new xn([],{}),0,e))}),t}function FI(n){const t={};return Mr(n,(e,i)=>t[i]=`${e}`),t}function NI(n,t,e){return n==e.path&&Fs(t,e.parameters)}class Au{constructor(t,e){this.id=t,this.url=e}}class fg extends Au{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends Au{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pg extends Au{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yy extends Au{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W0 extends Au{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uO extends Au{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dO extends Au{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hO extends Au{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fO extends Au{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LI{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Z0{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BI{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VI{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UI{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jI{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GI{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Y0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=K0(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=K0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ky(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ky(t,this._root).map(e=>e.value)}}function K0(n,t){if(n===t.value)return t;for(const e of t.children){const i=K0(n,e);if(i)return i}return null}function Ky(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ky(n,e);if(i.length)return i.unshift(t),i}return[]}class Pl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _r(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class qd extends Y0{constructor(t,e){super(t),this.snapshot=e,Q0(this,t)}toString(){return this.snapshot.toString()}}function $I(n,t){const e=function pO(n,t){const d=new gg([],{},{},"",{},mn,t,null,n.root,-1,{});return new uf("",new Pl(d,[]))}(n,t),i=new gr([new zy("",{})]),r=new gr({}),l=new gr({}),d=new gr({}),p=new gr(""),v=new eo(i,r,d,p,l,mn,t,e.root);return v.snapshot=e.root,new qd(new Pl(v,[]),e)}class eo{constructor(t,e,i,r,l,d,p,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.pipe((0,It.U)(E=>E[ig]))??ot(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(t=>Du(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(t=>Du(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function zI(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class gg{constructor(t,e,i,r,l,d,p,v,E,M,k,z){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=p,this.title=this.data?.[ig],this.routeConfig=v,this._urlSegment=E,this._lastPathIndex=M,this._correctedLastPathIndex=z??M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Du(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Du(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uf extends Y0{constructor(t,e){super(e),this.url=t,Q0(this,e)}toString(){return Qy(this._root)}}function Q0(n,t){t.value._routerState=n,t.children.forEach(e=>Q0(n,e))}function Qy(n){const t=n.children.length>0?` { ${n.children.map(Qy).join(", ")} } `:"";return`${n.value}${t}`}function J0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Fs(t.params,e.params)||n.params.next(e.params),function gI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Fs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Fs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Jy(n,t){const e=Fs(n.params,t.params)&&function CI(n,t){return Hd(n,t)&&n.every((e,i)=>Fs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Jy(n.parent,t.parent))}function mg(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function yO(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mg(n,i,r);return mg(n,i)})}(n,t,e);return new Pl(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>mg(n,p)),d}}const i=function X0(n){return new eo(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>mg(n,l));return new Pl(i,r)}}const Xy="ngNavigationCancelingError";function ew(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=$d(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=yg(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function yg(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Xy]=!0,i.cancellationCode=t,e&&(i.url=e),i}function e_(n){return _O(n)&&$d(n.url)}function _O(n){return n&&n[Xy]}class qI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _g,this.attachRef=null}}let _g=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new qI,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vg=!1;let Su=(()=>{class n{constructor(e,i,r,l,d){this.parentContexts=e,this.location=i,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||mn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,vg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,vg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,vg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,vg);this._activatedRoute=e;const r=this.location,d=e._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new vO(e,p,r.injector);if(i&&function WI(n){return!!n.resolveComponentFactory}(i)){const E=i.resolveComponentFactory(d);this.activated=r.createComponent(E,r.length,v)}else this.activated=r.createComponent(d,{index:r.length,injector:v,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_g),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class vO{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===eo?this.route:t===_g?this.childContexts:this.parent.get(t,e)}}let bg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Su],encapsulation:2}),n})();function bO(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function t_(n){const t=n.children&&n.children.map(t_),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==mn&&(e.component=bg),e}function Do(n){return n.outlet||mn}function KI(n,t){const e=n.filter(i=>Do(i)===t);return e.push(...n.filter(i=>Do(i)!==t)),e}function wg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class CO{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),J0(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=_r(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,r[d],i),delete r[d]}),Mr(r,(l,d)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=_r(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);if(i&&i.outlet){const d=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=_r(t);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=_r(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new jI(l.value.snapshot))}),t.children.length&&this.forwardEvent(new VI(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(J0(r),r===l)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const p=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),J0(p.route.value),this.activateChildRoutes(t,null,d.children)}else{const p=wg(r.snapshot),v=p?.get(s._Vd)??null;d.attachRef=null,d.route=r,d.resolver=v,d.injector=p,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class nw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cg{constructor(t,e){this.component=t,this.route=e}}function JI(n,t,e){const i=n._root;return Eg(i,t?t._root:null,e,[i.value])}function df(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function Eg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=_r(t);return n.children.forEach(d=>{(function l3(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const v=function eA(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Hd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Hd(n.url,t.url)||!Fs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jy(n,t)||!Fs(n.queryParams,t.queryParams);default:return!Jy(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new nw(i)):(l.data=d.data,l._resolvedData=d._resolvedData),Eg(n,t,l.component?p?p.children:null:e,i,r),v&&p&&p.outlet&&p.outlet.isActivated&&r.canDeactivateChecks.push(new Cg(p.outlet.component,d))}else d&&n_(t,p,r),r.canActivateChecks.push(new nw(i)),Eg(n,null,l.component?p?p.children:null:e,i,r)})(d,l[d.value.outlet],e,i.concat([d.value]),r),delete l[d.value.outlet]}),Mr(l,(d,p)=>n_(d,e.getContext(p),r)),r}function n_(n,t,e){const i=_r(n),r=n.value;Mr(i,(l,d)=>{n_(l,r.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new Cg(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function i_(n){return"function"==typeof n}function r_(n){return n instanceof My||"EmptyError"===n?.name}const Wd=Symbol("INITIAL_VALUE");function Zd(){return vn(n=>Ur(n.map(t=>t.pipe(Ln(1),Co(Wd)))).pipe((0,It.U)(t=>{for(const e of t)if(!0!==e){if(e===Wd)return Wd;if(!1===e||e instanceof Gd)return e}return!0}),Oi(t=>t!==Wd),Ln(1)))}function rA(n){return(0,Wk.z)((0,qi.b)(t=>{if($d(t))throw ew(0,t)}),(0,It.U)(t=>!0===t))}const sw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IO(n,t,e,i,r){const l=sA(n,t,e);return l.matched?function s_(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?ot(r.map(d=>{const p=df(d,n);return Iu(function p3(n){return n&&i_(n.canMatch)}(p)?p.canMatch(t,e):n.runInContext(()=>p(t,e)))})).pipe(Zd(),rA()):ot(!0)}(i=bO(t,i),t,e).pipe((0,It.U)(d=>!0===d?l:{...sw})):ot(l)}function sA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...sw}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Kk)(e,n,t);if(!r)return{...sw};const l={};Mr(r.posParams,(p,v)=>{l[v]=p.path});const d=r.consumed.length>0?{...l,...r.consumed[r.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function ow(n,t,e,i,r="corrected"){if(e.length>0&&function TO(n,t,e){return e.some(i=>o_(n,t,i)&&Do(i)!==mn)}(n,e,i)){const d=new xn(t,function SO(n,t,e,i){const r={};r[mn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Do(l)!==mn){const d=new xn([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,r[Do(l)]=d}return r}(n,t,i,new xn(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function _3(n,t,e){return e.some(i=>o_(n,t,i))}(n,e,i)){const d=new xn(n.segments,function AO(n,t,e,i,r,l){const d={};for(const p of i)if(o_(n,e,p)&&!r[Do(p)]){const v=new xn([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:t.length,d[Do(p)]=v}return{...r,...d}}(n,t,e,i,n.children,r));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const l=new xn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function o_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function aw(n,t,e,i){return!!(Do(n)===i||i!==mn&&o_(t,e,n))&&("**"===n.path||sA(t,n,e).matched)}function lw(n,t,e){return 0===t.length&&!n.children[e]}const cw=!1;class to{constructor(t){this.segmentGroup=t||null}}class oA{constructor(t){this.urlTree=t}}function Yd(n){return Yh(new to(n))}function aA(n){return Yh(new oA(n))}class RO{constructor(t,e,i,r,l){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0}apply(){const t=ow(this.urlTree.root,[],[],this.config).segmentGroup,e=new xn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,mn).pipe((0,It.U)(l=>this.createUrlTree($0(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ca(l=>{if(l instanceof oA)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof to?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,mn).pipe((0,It.U)(r=>this.createUrlTree($0(r),t.queryParams,t.fragment))).pipe(Ca(r=>{throw r instanceof to?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,cw)}createUrlTree(t,e,i){const r=H0(t);return new Gd(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,It.U)(l=>new xn([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,Nn.D)(r).pipe(yu(l=>{const d=i.children[l],p=KI(e,l);return this.expandSegmentGroup(t,p,d,l).pipe((0,It.U)(v=>({segment:v,outlet:l})))}),ng((l,d)=>(l[d.outlet]=d.segment,l),{}),Gy())}expandSegment(t,e,i,r,l,d){return(0,Nn.D)(i).pipe(yu(p=>this.expandSegmentAgainstRoute(t,e,i,p,r,l,d).pipe(Ca(E=>{if(E instanceof to)return ot(null);throw E}))),Ia(p=>!!p),Ca((p,v)=>{if(r_(p))return lw(e,r,l)?ot(new xn([],{})):Yd(e);throw p}))}expandSegmentAgainstRoute(t,e,i,r,l,d,p){return aw(r,e,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,d):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d):Yd(e):Yd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?aA(l):this.lineralizeSegments(i,l).pipe((0,mi.z)(d=>{const p=new xn(d,{});return this.expandSegment(t,p,e,d,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d){const{matched:p,consumedSegments:v,remainingSegments:E,positionalParamSegments:M}=sA(e,r,l);if(!p)return Yd(e);const k=this.applyRedirectCommands(v,r.redirectTo,M);return r.redirectTo.startsWith("/")?aA(k):this.lineralizeSegments(r,k).pipe((0,mi.z)(z=>this.expandSegment(t,e,i,z.concat(E),d,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){return"**"===i.path?(t=bO(i,t),i.loadChildren?(i._loadedRoutes?ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,It.U)(p=>(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,new xn(r,{})))):ot(new xn(r,{}))):IO(e,i,r,t).pipe(vn(({matched:d,consumedSegments:p,remainingSegments:v})=>d?this.getChildConfig(t=i._injector??t,i,r).pipe((0,mi.z)(M=>{const k=M.injector??t,z=M.routes,{segmentGroup:W,slicedSegments:te}=ow(e,p,v,z),Ee=new xn(W.segments,W.children);if(0===te.length&&Ee.hasChildren())return this.expandChildren(k,z,Ee).pipe((0,It.U)(Ct=>new xn(p,Ct)));if(0===z.length&&0===te.length)return ot(new xn(p,{}));const Be=Do(i)===l;return this.expandSegment(k,Ee,z,te,Be?mn:l,!0).pipe((0,It.U)(ht=>new xn(p.concat(ht.segments),ht.children)))})):Yd(e)))}getChildConfig(t,e,i){return e.children?ot({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ot({routes:e._loadedRoutes,injector:e._loadedInjector}):function DO(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?ot(!0):ot(r.map(d=>{const p=df(d,n);return Iu(function u3(n){return n&&i_(n.canLoad)}(p)?p.canLoad(t,e):n.runInContext(()=>p(t,e)))})).pipe(Zd(),rA())}(t,e,i).pipe((0,mi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,qi.b)(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function MO(n){return Yh(yg(cw,3))}())):ot({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[mn])return Yh(new s.vHH(4e3,cw));r=r.children[mn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new Gd(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Mr(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const p=r.substring(1);i[l]=e[p]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let d={};return Mr(e.children,(p,v)=>{d[v]=this.createSegmentGroup(t,p,i,r)}),new xn(l,d)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,cw);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class lA{}class uA{constructor(t,e,i,r,l,d,p,v){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p,this.urlSerializer=v}recognize(){const t=ow(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,mn).pipe((0,It.U)(e=>{if(null===e)return null;const i=new gg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Pl(i,e),l=new uf(this.url,r);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(t){const e=t.value,i=gO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Nn.D)(Object.keys(i.children)).pipe(yu(r=>{const l=i.children[r],d=KI(e,r);return this.processSegmentGroup(t,d,l,r)}),ng((r,l)=>r&&l?(r.push(...l),r):null),function L0(n,t=!1){return(0,Lr.e)((e,i)=>{let r=0;e.subscribe((0,or.x)(i,l=>{const d=n(l,r++);(d||t)&&i.next(l),!d&&i.complete()}))})}(r=>null!==r),Ry(null),Gy(),(0,It.U)(r=>{if(null===r)return null;const l=fA(r);return function dA(n){n.sort((t,e)=>t.value.outlet===mn?-1:e.value.outlet===mn?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}))}processSegment(t,e,i,r,l){return(0,Nn.D)(e).pipe(yu(d=>this.processSegmentAgainstRoute(d._injector??t,d,i,r,l)),Ia(d=>!!d),Ca(d=>{if(r_(d))return lw(i,r,l)?ot([]):ot(null);throw d}))}processSegmentAgainstRoute(t,e,i,r,l){if(e.redirectTo||!aw(e,i,r,l))return ot(null);let d;if("**"===e.path){const p=r.length>0?Qk(r).parameters:{},v=hw(i)+r.length;d=ot({snapshot:new gg(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fl(e),Do(e),e.component??e._loadedComponent??null,e,Oc(i),v,pA(e),v),consumedSegments:[],remainingSegments:[]})}else d=IO(i,e,r,t).pipe((0,It.U)(({matched:p,consumedSegments:v,remainingSegments:E,parameters:M})=>{if(!p)return null;const k=hw(i)+v.length;return{snapshot:new gg(v,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fl(e),Do(e),e.component??e._loadedComponent??null,e,Oc(i),k,pA(e),k),consumedSegments:v,remainingSegments:E}}));return d.pipe(vn(p=>{if(null===p)return ot(null);const{snapshot:v,consumedSegments:E,remainingSegments:M}=p;t=e._injector??t;const k=e._loadedInjector??t,z=function PO(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:W,slicedSegments:te}=ow(i,E,M,z.filter(Be=>void 0===Be.redirectTo),this.relativeLinkResolution);if(0===te.length&&W.hasChildren())return this.processChildren(k,z,W).pipe((0,It.U)(Be=>null===Be?null:[new Pl(v,Be)]));if(0===z.length&&0===te.length)return ot([new Pl(v,[])]);const Ee=Do(e)===l;return this.processSegment(k,z,W,te,Ee?mn:l).pipe((0,It.U)(Be=>null===Be?null:[new Pl(v,Be)]))}))}}function hA(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function fA(n){const t=[],e=new Set;for(const i of n){if(!hA(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=fA(i.children);t.push(new Pl(i.value,r))}return t.filter(i=>!e.has(i))}function Oc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Fl(n){return n.data||{}}function pA(n){return n.resolve||{}}function VO(n){return"string"==typeof n.title||null===n.title}function l_(n){return vn(t=>{const e=n(t);return e?(0,Nn.D)(e).pipe((0,It.U)(()=>t)):ot(t)})}let mA=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(l=>l.outlet===mn);return i}getResolvedTitleForRoute(e){return e.data[ig]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(fw)},providedIn:"root"}),n})(),fw=(()=>{class n extends mA{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pw{}class _A extends class yA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const xg=new s.OlP("",{providedIn:"root",factory:()=>({})}),ff=new s.OlP("ROUTES");let pf=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ot(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Iu(e.loadComponent()).pipe((0,qi.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),by(()=>{this.componentLoaders.delete(e)})),r=new F0(i,()=>new Qt.x).pipe(P0());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,It.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,E,M=!1;Array.isArray(p)?E=p:(v=p.create(e).injector,E=mI(v.get(ff,[],s.XFs.Self|s.XFs.Optional)));return{routes:E.map(t_),injector:v}}),by(()=>{this.childrenLoaders.delete(i)})),d=new F0(l,()=>new Qt.x).pipe(P0());return this.childrenLoaders.set(i,d),d}loadModuleFactoryOrRoutes(e){return Iu(e()).pipe((0,mi.z)(i=>i instanceof s.YKP||Array.isArray(i)?ot(i):(0,Nn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bA{}class UO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wA(n){throw n}function jO(n,t,e){return t.parse("/")}const GO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function mw(){const n=(0,s.f3M)(tO),t=(0,s.f3M)(_g),e=(0,s.f3M)(Ne),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),l=(0,s.f3M)(ff,{optional:!0})??[],d=(0,s.f3M)(xg,{optional:!0})??{},p=(0,s.f3M)(fw),v=(0,s.f3M)(mA,{optional:!0}),E=(0,s.f3M)(bA,{optional:!0}),M=(0,s.f3M)(pw,{optional:!0}),k=new Ii(null,n,t,e,i,r,mI(l));return E&&(k.urlHandlingStrategy=E),M&&(k.routeReuseStrategy=M),k.titleStrategy=v??p,function w3(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(d,k),k}let Ii=(()=>{class n{constructor(e,i,r,l,d,p,v){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qt.x,this.errorHandler=wA,this.malformedUriErrorHandler=jO,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ot(void 0),this.urlHandlingStrategy=new UO,this.routeReuseStrategy=new _A,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(pf),this.configLoader.onLoadEndListener=z=>this.triggerEvent(new Z0(z)),this.configLoader.onLoadStartListener=z=>this.triggerEvent(new LI(z)),this.ngModule=d.get(s.h0i),this.console=d.get(s.c2e);const k=d.get(s.R0b);this.isNgZoneEnabled=k instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function Xk(){return new Gd(new xn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$I(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Oi(r=>0!==r.id),(0,It.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let l=!1,d=!1;return ot(r).pipe((0,qi.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(p=>{const v=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return CA(p.source)&&(this.browserUrlTree=p.extractedUrl),ot(p).pipe(vn(k=>{const z=this.transitions.getValue();return i.next(new fg(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),z!==this.transitions.getValue()?ms.E:Promise.resolve(k)}),function kO(n,t,e,i){return vn(r=>function uw(n,t,e,i,r){return new RO(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,It.U)(l=>({...r,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qi.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},r.urlAfterRedirects=k.urlAfterRedirects}),function v3(n,t,e,i,r,l){return(0,mi.z)(d=>function OO(n,t,e,i,r,l,d="emptyOnly",p="legacy"){return new uA(n,t,e,i,r,d,p,l).recognize().pipe(vn(v=>null===v?function cA(n){return new Vr.y(t=>t.error(n))}(new lA):ot(v)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,r,l).pipe((0,It.U)(p=>({...d,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qi.b)(k=>{if(r.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(W,k)}this.browserUrlTree=k.urlAfterRedirects}const z=new W0(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);i.next(z)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:z,extractedUrl:W,source:te,restoredState:Ee,extras:Be}=p,Ze=new fg(z,this.serializeUrl(W),te,Ee);i.next(Ze);const ht=$I(W,this.rootComponentType).snapshot;return ot(r={...p,targetSnapshot:ht,urlAfterRedirects:W,extras:{...Be,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),ms.E}),(0,qi.b)(p=>{const v=new uO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,It.U)(p=>r={...p,guards:JI(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function tA(n,t){return(0,mi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?ot({...e,guardsResult:!0}):function m3(n,t,e,i){return(0,Nn.D)(n).pipe((0,mi.z)(r=>function xO(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?ot(l.map(p=>{const v=wg(t)??r,E=df(p,v);return Iu(function f3(n){return n&&i_(n.canDeactivate)}(E)?E.canDeactivate(n,t,e,i):v.runInContext(()=>E(n,t,e,i))).pipe(Ia())})).pipe(Zd()):ot(!0)}(r.component,r.route,e,t,i)),Ia(r=>!0!==r,!0))}(d,i,r,n).pipe((0,mi.z)(p=>p&&function c3(n){return"boolean"==typeof n}(p)?function rw(n,t,e,i){return(0,Nn.D)(t).pipe(yu(r=>Km(function EO(n,t){return null!==n&&t&&t(new BI(n)),ot(!0)}(r.route.parent,i),function nA(n,t){return null!==n&&t&&t(new UI(n)),ot(!0)}(r.route,i),function y3(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function XI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>cy(()=>ot(d.guards.map(v=>{const E=wg(d.node)??e,M=df(v,E);return Iu(function h3(n){return n&&i_(n.canActivateChild)}(M)?M.canActivateChild(i,n):E.runInContext(()=>M(i,n))).pipe(Ia())})).pipe(Zd())));return ot(l).pipe(Zd())}(n,r.path,e),function iA(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(l=>cy(()=>{const d=wg(t)??e,p=df(l,d);return Iu(function d3(n){return n&&i_(n.canActivate)}(p)?p.canActivate(t,n):d.runInContext(()=>p(t,n))).pipe(Ia())}));return ot(r).pipe(Zd())}(n,r.route,e))),Ia(r=>!0!==r,!0))}(i,l,n,t):ot(p)),(0,It.U)(p=>({...e,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,qi.b)(p=>{if(r.guardsResult=p.guardsResult,$d(p.guardsResult))throw ew(0,p.guardsResult);const v=new dO(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Oi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),l_(p=>{if(p.guards.canActivateChecks.length)return ot(p).pipe((0,qi.b)(v=>{const E=new hO(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}),vn(v=>{let E=!1;return ot(v).pipe(function FO(n,t){return(0,mi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ot(e);let l=0;return(0,Nn.D)(r).pipe(yu(d=>function NO(n,t,e,i){const r=n.routeConfig,l=n._resolve;return void 0!==r?.title&&!VO(r)&&(l[ig]=r.title),function LO(n,t,e,i){const r=function BO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ot({});const l={};return(0,Nn.D)(r).pipe((0,mi.z)(d=>function gA(n,t,e,i){const r=wg(t)??i,l=df(n,r);return Iu(l.resolve?l.resolve(t,e):r.runInContext(()=>l(t,e)))}(n[d],t,e,i).pipe(Ia(),(0,qi.b)(p=>{l[d]=p}))),N0(1),function pI(n){return(0,It.U)(()=>n)}(l),Ca(d=>r_(d)?ms.E:Yh(d)))}(l,n,t,i).pipe((0,It.U)(d=>(n._resolvedData=d,n.data=gO(n,e).resolve,r&&VO(r)&&(n.data[ig]=r.title),null)))}(d.route,i,n,t)),(0,qi.b)(()=>l++),N0(1),(0,mi.z)(d=>l===r.length?ot(e):ms.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qi.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,qi.b)(v=>{const E=new fO(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(E)}))}),l_(p=>{const v=E=>{const M=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(E.routeConfig).pipe((0,qi.b)(k=>{E.component=k}),(0,It.U)(()=>{})));for(const k of E.children)M.push(...v(k));return M};return Ur(v(p.targetSnapshot.root)).pipe(Ry(),Ln(1))}),l_(()=>this.afterPreactivation()),(0,It.U)(p=>{const v=function mO(n,t,e){const i=mg(n,t._root,e?e._root:void 0);return new qd(i,t)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return r={...p,targetRouterState:v}}),(0,qi.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,It.U)(i=>(new CO(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,qi.b)({next(){l=!0},complete(){l=!0}}),by(()=>{l||d||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ca(p=>{if(d=!0,_O(p)){e_(p)||(this.navigated=!0,this.restoreHistory(r,!0));const v=new pg(r.id,this.serializeUrl(r.extractedUrl),p.message,p.cancellationCode);if(i.next(v),e_(p)){const E=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||CA(r.source)};this.scheduleNavigation(E,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const v=new Yy(r.id,this.serializeUrl(r.extractedUrl),p,r.targetSnapshot??void 0);i.next(v);try{r.resolve(this.errorHandler(p))}catch(E){r.reject(E)}}return ms.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},l=e.state?.navigationId?e.state:null;if(l){const p={...l};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(r.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,l,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(t_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:d,queryParamsHandling:p,preserveFragment:v}=i,E=r||this.routerState.root,M=v?this.currentUrlTree.fragment:d;let k=null;switch(p){case"merge":k={...this.currentUrlTree.queryParams,...l};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),aO(E,this.currentUrlTree,e,k,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=$d(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function HO(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...GO}:!1===i?{...b3}:i,$d(e))return V0(this.currentUrlTree,e,r);const l=this.parseUrl(e);return V0(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new kc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,d){if(this.disposed)return Promise.resolve(!1);let p,v,E;d?(p=d.resolve,v=d.reject,E=d.promise):E=new Promise((z,W)=>{p=z,v=W});const M=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),k=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:M,targetPageId:k,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:p,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(z=>Promise.reject(z))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const l=new pg(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return mw()},providedIn:"root"}),n})();function CA(n){return"imperative"!==n}class $O{}let zO=(()=>{class n{constructor(e,i,r,l,d){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(e=>e instanceof kc),yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,s.MMx)(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,p=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?r.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&r.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,Nn.D)(r).pipe((0,jh.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ot(null);const l=r.pipe((0,mi.z)(d=>null===d?ot(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Nn.D)([l,d]).pipe((0,jh.J)())}return l})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ii),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG($O),s.LFG(pf))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _w=new s.OlP("");let vw=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof GI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new GI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Tu(n,t){return{\u0275kind:n,\u0275providers:t}}function bw(n){return[{provide:ff,multi:!0,useValue:n}]}function u_(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Ii),r=n.get(Ig);1===n.get(IA)&&i.initialNavigation(),n.get(ww,null,s.XFs.Optional)?.setUpPreloading(),n.get(_w,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const Ig=new s.OlP("",{factory:()=>new Qt.x}),IA=new s.OlP("",{providedIn:"root",factory:()=>1});const ww=new s.OlP("");function WO(n){return Tu(0,[{provide:ww,useExisting:zO},{provide:$O,useExisting:n}])}const Cw=new s.OlP("ROUTER_FORROOT_GUARD"),AA=[Ne,{provide:tO,useClass:EI},{provide:Ii,useFactory:mw},_g,{provide:eo,useFactory:function c_(n){return n.routerState.root},deps:[Ii]},pf];function SA(){return new s.PXZ("Router",Ii)}let TA=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[AA,[],bw(e),{provide:Cw,useFactory:M3,deps:[[Ii,new s.FiY,new s.tp0]]},{provide:xg,useValue:i||{}},i?.useHash?{provide:ee,useClass:Ve}:{provide:ee,useClass:ke},{provide:_w,useFactory:()=>{const n=(0,s.f3M)(Ii),t=(0,s.f3M)(Ch),e=(0,s.f3M)(xg);return e.scrollOffset&&t.setOffset(e.scrollOffset),new vw(n,t,e)}},i?.preloadingStrategy?WO(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:SA},i?.initialNavigation?RA(i):[],[{provide:h_,useFactory:u_},{provide:s.tb,multi:!0,useExisting:h_}]]}}static forChild(e){return{ngModule:n,providers:[bw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Cw,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[bg]}),n})();function M3(n){return"guarded"}function RA(n){return["disabled"===n.initialNavigation?Tu(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(Ii);return()=>{t.setUpLocationChangeListener()}}},{provide:IA,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Tu(2,[{provide:IA,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(Q,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(l=>{const d=t.get(Ii),p=t.get(Ig);(function r(l){t.get(Ii).events.pipe(Oi(p=>p instanceof kc||p instanceof pg||p instanceof Yy),(0,It.U)(p=>p instanceof kc||p instanceof pg&&(0===p.code||1===p.code)&&null),Oi(p=>null!==p),Ln(1)).subscribe(()=>{l()})})(()=>{l(!0),i=!0}),d.afterPreactivation=()=>(l(!0),i||p.closed?ot(void 0):p),d.initialNavigation()}))}}]).\u0275providers:[]]}const h_=new s.OlP("");function k3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.login())}),s._uU(2,"Login"),s.qZA()()}}function O3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.logout())}),s._uU(2,"Logout"),s.qZA()()}}function KO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",7),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.userProfile())}),s.TgZ(2,"mat-icon",8),s._uU(3,"account_circle"),s.qZA()()()}}let QO=(()=>{class n{constructor(e,i,r){this.router=e,this.authService=i,this.dialog=r,this.title="Torneo",this.subscriptions=[]}ngOnInit(){this.isLoggedIn$=this.authService.isLoggedIn$}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}login(){this.openDialog()}openDialog(){const e=this.dialog.open(O0,{panelClass:"dialog-container"});this.subscriptions.push(e.afterClosed().subscribe(i=>{console.log("The dialog was closed")}))}logout(){wt.Z.auth().signOut(),this.goHome()}goHome(){this.router.navigateByUrl("")}userProfile(){this.router.navigateByUrl("userProfile")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ii),s.Y36(Ol),s.Y36(Yo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:10,consts:[[1,"background-pattern"],[1,"center","main-content"],["color","primary",1,"header"],[1,"title"],[3,"click"],[4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-icon-button","","color","primary","aria-label","User profile",3,"click"],["color","accent"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar",2)(3,"mat-icon"),s._uU(4,"bar_chart"),s.qZA(),s.TgZ(5,"div",3)(6,"span",4),s.NdJ("click",function(){return i.goHome()}),s._uU(7),s.qZA()(),s.YNc(8,k3,3,0,"div",5),s.ALo(9,"async"),s.YNc(10,O3,3,0,"div",5),s.ALo(11,"async"),s.YNc(12,KO,4,0,"div",5),s.ALo(13,"async"),s.qZA(),s._UZ(14,"router-outlet"),s.qZA()()),2&e&&(s.xp6(7),s.Oqu(i.title),s.xp6(1),s.Q6J("ngIf",!1===s.lcZ(9,4,i.isLoggedIn$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(11,6,i.isLoggedIn$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(13,8,i.isLoggedIn$)))},dependencies:[En,Su,Ac,Ea,Ps,Fo],styles:[".header[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]{flex-grow:10}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:1rem;text-decoration:none;margin:.5rem;display:inline-block;background-color:#e8e8e8;color:#3d3d3d;border-radius:4px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42545c}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#000}.main-content[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 10px 10px 10px #888}.background-pattern[_ngcontent-%COMP%]{background-image:url(aces-falling.0ef43380312861d9.jpg);background-size:auto}.center[_ngcontent-%COMP%]{margin:auto;max-width:1024px;padding:0 0 1rem}"]}),n})(),kA=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),gf=(()=>{class n extends kA{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ll=new s.OlP("NgValueAccessor"),F3={provide:Ll,useExisting:(0,s.Gpc)(()=>Ag),multi:!0},N3=new s.OlP("CompositionEventMode");let Ag=(()=>{class n extends kA{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XO(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(N3,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[s._Bn([F3]),s.qOj]}),n})();function Kd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function eP(n){return null!=n&&"number"==typeof n.length}const vs=new s.OlP("NgValidators"),a=new s.OlP("NgAsyncValidators"),c=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class u{static min(t){return function f(n){return t=>{if(Kd(t.value)||Kd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function g(n){return t=>{if(Kd(t.value)||Kd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function y(n){return Kd(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function C(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function D(n){return Kd(n.value)||c.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function T(n){return t=>Kd(t.value)||!eP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function F(n){return t=>eP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return U(t)}static nullValidator(t){return null}static compose(t){return $t(t)}static composeAsync(t){return Zt(t)}}function U(n){if(!n)return Y;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Kd(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Y(n){return null}function _e(n){return null!=n}function Re(n){return(0,s.QGY)(n)?(0,Nn.D)(n):n}function ze(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function at(n,t){return t.map(e=>e(n))}function xt(n){return n.map(t=>function pt(n){return!n.validate}(t)?t:e=>t.validate(e))}function $t(n){if(!n)return null;const t=n.filter(_e);return 0==t.length?null:function(e){return ze(at(e,t))}}function Ke(n){return null!=n?$t(xt(n)):null}function Zt(n){if(!n)return null;const t=n.filter(_e);return 0==t.length?null:function(e){return Wb(at(e,t).map(Re)).pipe((0,It.U)(ze))}}function Bn(n){return null!=n?Zt(xt(n)):null}function Ai(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Mu(n){return n._rawValidators}function f_(n){return n._rawAsyncValidators}function Sg(n){return n?Array.isArray(n)?n:[n]:[]}function mf(n,t){return Array.isArray(n)?n.includes(t):n===t}function p_(n,t){const e=Sg(t);return Sg(n).forEach(r=>{mf(e,r)||e.push(r)}),e}function g_(n,t){return Sg(t).filter(e=>!mf(n,e))}class m_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ke(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class rs extends m_{get formDirective(){return null}get path(){return null}}class Ta extends m_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let OA=(()=>{class n extends class y_{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ta,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})();const xw="VALID",FA="INVALID",__="PENDING",Dw="DISABLED";function rP(n){return(NA(n)?n.validators:n)||null}function V3(n){return Array.isArray(n)?Ke(n):n||null}function sP(n,t){return(NA(t)?t.asyncValidators:n)||null}function U3(n){return Array.isArray(n)?Bn(n):n||null}function NA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class H3{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=V3(this._rawValidators),this._composedAsyncValidatorFn=U3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xw}get invalid(){return this.status===FA}get pending(){return this.status==__}get disabled(){return this.status===Dw}get enabled(){return this.status!==Dw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=V3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=U3(t)}addValidators(t){this.setValidators(p_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(p_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(g_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(g_(t,this._rawAsyncValidators))}hasValidator(t){return mf(this._rawValidators,t)}hasAsyncValidator(t){return mf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=__,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dw,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xw,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xw||this.status===__)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dw:xw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=__,this._hasOwnPendingAsyncValidator=!0;const e=Re(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Dw:this.errors?FA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(__)?__:this._anyControlsHaveStatus(FA)?FA:xw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){NA(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class oP extends H3{constructor(t,e,i){super(rP(e),sP(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function G3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function j3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Iw(n,t){aP(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Nq(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$3(n,t)})}(n,t),function Bq(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Lq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Fq(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function BA(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),UA(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function VA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aP(n,t){const e=Mu(n);null!==t.validator?n.setValidators(Ai(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=f_(n);null!==t.asyncValidator?n.setAsyncValidators(Ai(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();VA(t._rawValidators,r),VA(t._rawAsyncValidators,r)}function UA(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Mu(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=f_(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return VA(t._rawValidators,i),VA(t._rawAsyncValidators,i),e}function $3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function z3(n,t){aP(n,t)}function lP(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function W3(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function cP(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===Ag?e=l:function jq(n){return Object.getPrototypeOf(n.constructor)===gf}(l)?i=l:r=l}),r||i||e||null}const Hq={provide:rs,useExisting:(0,s.Gpc)(()=>jA)},Aw=(()=>Promise.resolve())();let jA=(()=>{class n extends rs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new oP({},Ke(e),Bn(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Aw.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Iw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Aw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Aw.then(()=>{const i=this._findContainer(e.path),r=new oP({});z3(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Aw.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Aw.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,W3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs,10),s.Y36(a,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Hq]),s.qOj]}),n})();function Z3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Y3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uP=class extends H3{constructor(t=null,e,i){super(rP(e),sP(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NA(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Y3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Z3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Z3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Y3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},qq={provide:Ta,useExisting:(0,s.Gpc)(()=>GA)},J3=(()=>Promise.resolve())();let GA=(()=>{class n extends Ta{constructor(e,i,r,l,d){super(),this._changeDetectorRef=d,this.control=new uP,this._registered=!1,this.update=new s.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=cP(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),lP(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Iw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){J3.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,s.D6c)(i);J3.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function LA(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(rs,9),s.Y36(vs,10),s.Y36(a,10),s.Y36(Ll,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([qq]),s.qOj,s.TTD]}),n})();const Zq={provide:Ll,useExisting:(0,s.Gpc)(()=>dP),multi:!0};let dP=(()=>{class n extends gf{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(l){return i.onChange(l.target.value)})("blur",function(){return i.onTouched()})},features:[s._Bn([Zq]),s.qOj]}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const hP=new s.OlP("NgModelWithFormControlWarning"),Jq={provide:Ta,useExisting:(0,s.Gpc)(()=>fP)};let fP=(()=>{class n extends Ta{constructor(e,i,r,l){super(),this._ngModelWarningConfig=l,this.update=new s.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=cP(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&BA(i,this,!1),Iw(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}lP(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&BA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(vs,10),s.Y36(a,10),s.Y36(Ll,10),s.Y36(hP,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s._Bn([Jq]),s.qOj,s.TTD]}),n})();const Xq={provide:rs,useExisting:(0,s.Gpc)(()=>HA)};let HA=(()=>{class n extends rs{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Iw(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){BA(e.control||null,e,!1),function Gq(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,W3(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(BA(i||null,e),(n=>n instanceof uP)(r)&&(Iw(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);z3(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Vq(n,t){return UA(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aP(this.form,this),this._oldForm&&UA(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vs,10),s.Y36(a,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([Xq]),s.qOj,s.TTD]}),n})(),Tg=(()=>{class n{constructor(){this._validator=Y}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Y,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const m9={provide:vs,useExisting:(0,s.Gpc)(()=>bP),multi:!0};let bP=(()=>{class n extends Tg{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>U(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[s._Bn([m9]),s.qOj]}),n})(),fU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[X3]}),n})(),y9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[fU]}),n})(),_9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:hP,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[fU]}),n})();var kt=(()=>{return(n=kt||(kt={})).Games="games",n.GamePlayers="gamePlayers",n.Admins="admins",n.Rounds="rounds",n.Tables="tables",n.Teams="team",kt;var n})();let v_=(()=>{class n{constructor(){this.messages=[]}add(e){console.log(e),this.messages.push(e)}clear(){this.messages=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wP(){return(0,Lr.e)((n,t)=>{let e,i=!1;n.subscribe((0,or.x)(t,r=>{const l=e;e=r,i&&t.next([l,r]),i=!0}))})}var Gt,b9=N(3942),w9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qd={},CP=CP||{},dn=w9||self;function $A(){}function zA(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Sw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var EP="closure_uid_"+(1e9*Math.random()>>>0),E9=0;function x9(n,t,e){return n.call.apply(n.bind,arguments)}function D9(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function no(n,t,e){return(no=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x9:D9).apply(null,arguments)}function qA(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ns(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return t.prototype[r].apply(i,d)}}function yf(){this.s=this.s,this.o=this.o}var A9={};yf.prototype.s=!1,yf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function C9(n){return Object.prototype.hasOwnProperty.call(n,EP)&&n[EP]||(n[EP]=++E9)}(this);delete A9[n]}},yf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function xP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function gU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(zA(i)){const r=n.length||0,l=i.length||0;n.length=r+l;for(let d=0;d<l;d++)n[r+d]=i[d]}else n.push(i)}}function io(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}io.prototype.h=function(){this.defaultPrevented=!0};var S9=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dn.addEventListener("test",$A,t),dn.removeEventListener("test",$A,t)}catch{}return n}();function WA(n){return/^[\s\xa0]*$/.test(n)}var mU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function DP(n,t){return n<t?-1:n>t?1:0}function ZA(){var n=dn.navigator;return n&&(n=n.userAgent)?n:""}function Ru(n){return-1!=ZA().indexOf(n)}function IP(n){return IP[" "](n),n}IP[" "]=$A;var YA,n,M9=Ru("Opera"),b_=Ru("Trident")||Ru("MSIE"),yU=Ru("Edge"),AP=yU||b_,_U=Ru("Gecko")&&!(-1!=ZA().toLowerCase().indexOf("webkit")&&!Ru("Edge"))&&!(Ru("Trident")||Ru("MSIE"))&&!Ru("Edge"),R9=-1!=ZA().toLowerCase().indexOf("webkit")&&!Ru("Edge");function vU(){var n=dn.document;return n?n.documentMode:void 0}e:{var SP="",TP=(n=ZA(),_U?/rv:([^\);]+)(\)|;)/.exec(n):yU?/Edge\/([\d\.]+)/.exec(n):b_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):R9?/WebKit\/(\S+)/.exec(n):M9?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TP&&(SP=TP?TP[1]:""),b_){var MP=vU();if(null!=MP&&MP>parseFloat(SP)){YA=String(MP);break e}}YA=SP}var k9={};var P9=dn.document&&b_&&(vU()||parseInt(YA,10))||void 0;function Tw(n,t){if(io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_U){e:{try{IP(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:F9[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tw.X.h.call(this)}}Ns(Tw,io);var F9={2:"touch",3:"pen",4:"mouse"};Tw.prototype.h=function(){Tw.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Mw="closure_listenable_"+(1e6*Math.random()|0),N9=0;function L9(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++N9,this.ba=this.ea=!1}function KA(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function kP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function wU(n){const t={};for(const e in n)t[e]=n[e];return t}const CU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let l=0;l<CU.length;l++)e=CU[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function QA(n){this.src=n,this.g={},this.h=0}function OP(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],r=pU(i,t);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(KA(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function PP(n,t,e,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ba&&l.listener==t&&l.capture==!!e&&l.ha==i)return r}return-1}QA.prototype.add=function(n,t,e,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=PP(n,t,i,r);return-1<d?(t=n[d],e||(t.ea=!1)):((t=new L9(t,this.src,l,!!i,r)).ea=e,n.push(t)),t};var FP="closure_lm_"+(1e6*Math.random()|0),NP={};function xU(n,t,e,i,r){if(i&&i.once)return IU(n,t,e,i,r);if(Array.isArray(t)){for(var l=0;l<t.length;l++)xU(n,t[l],e,i,r);return null}return e=UP(e),n&&n[Mw]?n.N(t,e,Sw(i)?!!i.capture:!!i,r):DU(n,t,e,!1,i,r)}function DU(n,t,e,i,r,l){if(!t)throw Error("Invalid event type");var d=Sw(r)?!!r.capture:!!r,p=BP(n);if(p||(n[FP]=p=new QA(n)),(e=p.add(t,e,i,d,l)).proxy)return e;if(i=function B9(){const t=V9;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)S9||(r=d),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(SU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function IU(n,t,e,i,r){if(Array.isArray(t)){for(var l=0;l<t.length;l++)IU(n,t[l],e,i,r);return null}return e=UP(e),n&&n[Mw]?n.O(t,e,Sw(i)?!!i.capture:!!i,r):DU(n,t,e,!0,i,r)}function AU(n,t,e,i,r){if(Array.isArray(t))for(var l=0;l<t.length;l++)AU(n,t[l],e,i,r);else i=Sw(i)?!!i.capture:!!i,e=UP(e),n&&n[Mw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=PP(l=n.g[t],e,i,r))&&(KA(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=BP(n))&&(t=n.g[t.toString()],n=-1,t&&(n=PP(t,e,i,r)),(e=-1<n?t[n]:null)&&LP(e))}function LP(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Mw])OP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(SU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=BP(t))?(OP(e,n),0==e.h&&(e.src=null,t[FP]=null)):KA(n)}}}function SU(n){return n in NP?NP[n]:NP[n]="on"+n}function V9(n,t){if(n.ba)n=!0;else{t=new Tw(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&LP(n),n=e.call(i,t)}return n}function BP(n){return(n=n[FP])instanceof QA?n:null}var VP="__closure_events_fn_"+(1e9*Math.random()>>>0);function UP(n){return"function"==typeof n?n:(n[VP]||(n[VP]=function(t){return n.handleEvent(t)}),n[VP])}function bs(){yf.call(this),this.i=new QA(this),this.P=this,this.I=null}function Ls(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new io(t,n);else if(t instanceof io)t.target=t.target||n;else{var r=t;EU(t=new io(i,n),r)}if(r=!0,e)for(var l=e.length-1;0<=l;l--){var d=t.g=e[l];r=JA(d,i,!0,t)&&r}if(r=JA(d=t.g=n,i,!0,t)&&r,r=JA(d,i,!1,t)&&r,e)for(l=0;l<e.length;l++)r=JA(d=t.g=e[l],i,!1,t)&&r}function JA(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,l=0;l<t.length;++l){var d=t[l];if(d&&!d.ba&&d.capture==e){var p=d.listener,v=d.ha||d.src;d.ea&&OP(n.i,d),r=!1!==p.call(v,i)&&r}}return r&&!i.defaultPrevented}Ns(bs,yf),bs.prototype[Mw]=!0,bs.prototype.removeEventListener=function(n,t,e,i){AU(this,n,t,e,i)},bs.prototype.M=function(){if(bs.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)KA(e[i]);delete n.g[t],n.h--}}this.I=null},bs.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},bs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var jP=dn.JSON.stringify;function U9(){var n=RU;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var GP,TU=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new G9,n=>n.reset());class G9{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function H9(n){dn.setTimeout(()=>{throw n},0)}function MU(n,t){GP||function $9(){var n=dn.Promise.resolve(void 0);GP=function(){n.then(z9)}}(),HP||(GP(),HP=!0),RU.add(n,t)}var HP=!1,RU=new class j9{constructor(){this.h=this.g=null}add(t,e){const i=TU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function z9(){for(var n;n=U9();){try{n.h.call(n.g)}catch(e){H9(e)}var t=TU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}HP=!1}function XA(n,t){bs.call(this),this.h=n||1,this.g=t||dn,this.j=no(this.kb,this),this.l=Date.now()}function $P(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function zP(n,t,e){if("function"==typeof n)e&&(n=no(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=no(n.handleEvent,n)}return 2147483647<Number(t)?-1:dn.setTimeout(n,t||0)}function kU(n){n.g=zP(()=>{n.g=null,n.i&&(n.i=!1,kU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Ns(XA,bs),(Gt=XA.prototype).ca=!1,Gt.R=null,Gt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ls(this,"tick"),this.ca&&($P(this),this.start()))}},Gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gt.M=function(){XA.X.M.call(this),$P(this),delete this.g};class q9 extends yf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:kU(this)}M(){super.M(),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rw(n){yf.call(this),this.h=n,this.g={}}Ns(Rw,yf);var OU=[];function PU(n,t,e,i){Array.isArray(e)||(e&&(OU[0]=e.toString()),e=OU);for(var r=0;r<e.length;r++){var l=xU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function FU(n){kP(n.g,function(t,e){this.g.hasOwnProperty(e)&&LP(t)},n),n.g={}}function eS(){this.g=!0}function w_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function K9(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<r.length;d++)r[d]=""}}}return jP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Rw.prototype.M=function(){Rw.X.M.call(this),FU(this)},Rw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eS.prototype.Aa=function(){this.g=!1},eS.prototype.info=function(){};var Mg={},NU=null;function tS(){return NU=NU||new bs}function LU(n){io.call(this,Mg.Oa,n)}function kw(n){const t=tS();Ls(t,new LU(t,n))}function BU(n,t){io.call(this,Mg.STAT_EVENT,n),this.stat=t}function Io(n){const t=tS();Ls(t,new BU(t,n))}function VU(n,t){io.call(this,Mg.Pa,n),this.size=t}function Ow(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){n()},t)}Mg.Oa="serverreachability",Ns(LU,io),Mg.STAT_EVENT="statevent",Ns(BU,io),Mg.Pa="timingevent",Ns(VU,io);var nS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},UU={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qP(){}function GU(){}qP.prototype.h=null;var YP,Pw={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function WP(){io.call(this,"d")}function ZP(){io.call(this,"c")}function iS(){}function Fw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Rw(this),this.O=Q9,this.T=new XA(n=AP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new HU}function HU(){this.i=null,this.g="",this.h=!1}Ns(WP,io),Ns(ZP,io),Ns(iS,qP),iS.prototype.g=function(){return new XMLHttpRequest},iS.prototype.i=function(){return{}},YP=new iS;var Q9=45e3,KP={},rS={};function QP(n,t,e){n.K=1,n.v=lS(Jd(t)),n.s=e,n.P=!0,$U(n,null)}function $U(n,t){n.F=Date.now(),Nw(n),n.A=Jd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),e6(e.i,"t",i),n.C=0,e=n.l.H,n.h=new HU,n.g=x6(n.l,e?t:null,!n.s),0<n.N&&(n.L=new q9(no(n.Ka,n,n.g),n.N)),PU(n.S,n.g,"readystatechange",n.hb),t=n.H?wU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),kw(1),function W9(n,t,e,i,r,l){n.info(function(){if(n.g)if(l)for(var d="",p=l.split("&"),v=0;v<p.length;v++){var E=p[v].split("=");if(1<E.length){var M=E[0];E=E[1];var k=M.split("_");d=2<=k.length&&"type"==k[1]?d+(M+"=")+E+"&":d+(M+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function zU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function qU(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=J9(n,e),r==rS){4==t&&(n.o=4,Io(14),i=!1),w_(n.j,n.m,null,"[Incomplete Response]");break}if(r==KP){n.o=4,Io(15),w_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}w_(n.j,n.m,r,null),JP(n,r)}zU(n)&&r!=rS&&r!=KP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Io(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),oF(t),t.K=!0,Io(11))):(w_(n.j,n.m,e,"[Invalid Chunked Response]"),Rg(n),Lw(n))}function J9(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?rS:(e=Number(t.substring(e,i)),isNaN(e)?KP:(i+=1)+e>t.length?rS:(t=t.substr(i,e),n.C=i+e,t))}function Nw(n){n.V=Date.now()+n.O,WU(n,n.O)}function WU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ow(no(n.fb,n),t)}function sS(n){n.B&&(dn.clearTimeout(n.B),n.B=null)}function Lw(n){0==n.l.G||n.I||b6(n.l,n)}function Rg(n){sS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,$P(n.T),FU(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function JP(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||XP(e.h,n)))if(!n.J&&XP(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;pS(e),hS(e)}sF(e),Io(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Ow(no(e.bb,e),6e3));if(1>=i6(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Og(e,11)}else if((n.J||e.g==n)&&pS(e),!WA(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let E=r[t];if(e.T=E[0],E=E[1],2==e.G)if("c"==E[0]){e.I=E[1],e.ka=E[2];const M=E[3];null!=M&&(e.ma=M,e.j.info("VER="+e.ma));const k=E[4];null!=k&&(e.Ca=k,e.j.info("SVER="+e.Ca));const z=E[5];null!=z&&"number"==typeof z&&0<z&&(e.J=i=1.5*z,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const W=n.g;if(W){const te=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var l=i.h;l.g||-1==te.indexOf("spdy")&&-1==te.indexOf("quic")&&-1==te.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(eF(l,l.h),l.h=null))}if(i.D){const Ee=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(i.za=Ee,Ki(i.F,i.D,Ee))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var d=n;if((i=e).sa=E6(i,i.H?i.ka:null,i.V),d.J){r6(i.h,d);var p=d,v=i.J;v&&p.setTimeout(v),p.B&&(sS(p),Nw(p)),i.g=d}else _6(i);0<e.i.length&&fS(e)}else"stop"!=E[0]&&"close"!=E[0]||Og(e,7);else 3==e.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?Og(e,7):rF(e):"noop"!=E[0]&&e.l&&e.l.wa(E),e.A=0)}kw(4)}catch{}}function ZU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(zA(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function eW(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(zA(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function X9(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(zA(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,l=0;l<r;l++)t.call(void 0,i[l],e&&e[l],n)}(Gt=Fw.prototype).setTimeout=function(n){this.O=n},Gt.hb=function(n){n=n.target;const t=this.L;t&&3==Xd(n)?t.l():this.Ka(n)},Gt.Ka=function(n){try{if(n==this.g)e:{const M=Xd(this.g);var t=this.g.Ea();const k=this.g.aa();if(!(3>M)&&(3!=M||AP||this.g&&(this.h.h||this.g.fa()||h6(this.g)))){this.I||4!=M||7==t||kw(8==t||0>=k?3:2),sS(this);var e=this.g.aa();this.Y=e;t:if(zU(this)){var i=h6(this.g);n="";var r=i.length,l=4==Xd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rg(this),Lw(this);var d="";break t}this.h.i=new dn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==e,function Z9(n,t,e,i,r,l,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,M,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!WA(p)){var E=p;break t}}E=null}if(!(e=E)){this.i=!1,this.o=3,Io(12),Rg(this),Lw(this);break e}w_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,JP(this,e)}this.P?(qU(this,M,d),AP&&this.i&&3==M&&(PU(this.S,this.T,"tick",this.gb),this.T.start())):(w_(this.j,this.m,d,null),JP(this,d)),4==M&&Rg(this),this.i&&!this.I&&(4==M?b6(this.l,this):(this.i=!1,Nw(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),Rg(this),Lw(this)}}}catch{}},Gt.gb=function(){if(this.g){var n=Xd(this.g),t=this.g.fa();this.C<t.length&&(sS(this),qU(this,n,t),this.i&&4!=n&&Nw(this))}},Gt.cancel=function(){this.I=!0,Rg(this)},Gt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Y9(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(kw(3),Io(17)),Rg(this),this.o=2,Lw(this)):WU(this,this.V-n)};var YU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kg(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof kg){this.h=void 0!==t?t:n.h,oS(this,n.j),this.s=n.s,this.g=n.g,aS(this,n.m),this.l=n.l,t=n.i;var e=new Uw;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),KU(this,e),this.o=n.o}else n&&(e=String(n).match(YU))?(this.h=!!t,oS(this,e[1]||"",!0),this.s=Bw(e[2]||""),this.g=Bw(e[3]||"",!0),aS(this,e[4]),this.l=Bw(e[5]||"",!0),KU(this,e[6]||"",!0),this.o=Bw(e[7]||"")):(this.h=!!t,this.i=new Uw(null,this.h))}function Jd(n){return new kg(n)}function oS(n,t,e){n.j=e?Bw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function aS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function KU(n,t,e){t instanceof Uw?(n.i=t,function aW(n,t){t&&!n.j&&(_f(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(JU(this,i),e6(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Vw(t,sW)),n.i=new Uw(t,n.h))}function Ki(n,t,e){n.i.set(t,e)}function lS(n){return Ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,nW),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nW(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}kg.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Vw(t,QU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Vw(t,QU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Vw(e,"/"==e.charAt(0)?rW:iW,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Vw(e,oW)),n.join("")};var QU=/[#\/\?@]/g,iW=/[#\?:]/g,rW=/[#\?]/g,sW=/[#\?@]/g,oW=/#/g;function Uw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function _f(n){n.g||(n.g=new Map,n.h=0,n.i&&function tW(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var l=n[e].substring(0,i);r=n[e].substring(i+1)}else l=n[e];t(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function JU(n,t){_f(n),t=C_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function XU(n,t){return _f(n),t=C_(n,t),n.g.has(t)}function e6(n,t,e){JU(n,t),0<e.length&&(n.i=null,n.g.set(C_(n,t),xP(e)),n.h+=e.length)}function C_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function t6(n){this.l=n||cW,n=dn.PerformanceNavigationTiming?0<(n=dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dn.g&&dn.g.Ga&&dn.g.Ga()&&dn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Gt=Uw.prototype).add=function(n,t){_f(this),this.i=null,n=C_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Gt.forEach=function(n,t){_f(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Gt.oa=function(){_f(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let l=0;l<r.length;l++)e.push(t[i])}return e},Gt.W=function(n){_f(this);let t=[];if("string"==typeof n)XU(this,n)&&(t=t.concat(this.g.get(C_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Gt.set=function(n,t){return _f(this),this.i=null,XU(this,n=C_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Gt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const l=encodeURIComponent(String(i)),d=this.W(i);for(i=0;i<d.length;i++){var r=l;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var cW=10;function n6(n){return!!n.h||!!n.g&&n.g.size>=n.j}function i6(n){return n.h?1:n.g?n.g.size:0}function XP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function eF(n,t){n.g?n.g.add(t):n.h=t}function r6(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function s6(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return xP(n.i)}function tF(){}function uW(){this.g=new tF}function dW(n,t,e){const i=e||"";try{ZU(n,function(r,l){let d=r;Sw(r)&&(d=jP(r)),t.push(i+l+"="+encodeURIComponent(d))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function cS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function jw(n){this.l=n.$b||null,this.j=n.ib||!1}function uS(n,t){bs.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=nF,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t6.prototype.cancel=function(){if(this.i=s6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},tF.prototype.stringify=function(n){return dn.JSON.stringify(n,void 0)},tF.prototype.parse=function(n){return dn.JSON.parse(n,void 0)},Ns(jw,qP),jw.prototype.g=function(){return new uS(this.l,this.j)},jw.prototype.i=function(n){return function(){return n}}({}),Ns(uS,bs);var nF=0;function o6(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Gw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hw(n)}function Hw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Gt=uS.prototype).open=function(n,t){if(this.readyState!=nF)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Hw(this)},Gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||dn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},Gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gw(this)),this.readyState=nF},Gt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hw(this)),this.g&&(this.readyState=3,Hw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof dn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;o6(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Gt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Gw(this):Hw(this),3==this.readyState&&o6(this)}},Gt.Ua=function(n){this.g&&(this.response=this.responseText=n,Gw(this))},Gt.Ta=function(n){this.g&&(this.response=n,Gw(this))},Gt.ga=function(){this.g&&Gw(this)},Gt.setRequestHeader=function(n,t){this.v.append(n,t)},Gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(uS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fW=dn.JSON.parse;function Hr(n){bs.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=a6,this.K=this.L=!1}Ns(Hr,bs);var a6="",pW=/^https?$/i,gW=["POST","PUT"];function l6(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,c6(n),dS(n)}function c6(n){n.D||(n.D=!0,Ls(n,"complete"),Ls(n,"error"))}function u6(n){if(n.h&&typeof CP<"u"&&(!n.C[1]||4!=Xd(n)||2!=n.aa()))if(n.v&&4==Xd(n))zP(n.Ha,0,n);else if(Ls(n,"readystatechange"),4==Xd(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===p){var r=String(n.H).match(YU)[1]||null;if(!r&&dn.self&&dn.self.location){var l=dn.self.location.protocol;r=l.substr(0,l.length-1)}i=!pW.test(r?r.toLowerCase():"")}e=i}if(e)Ls(n,"complete"),Ls(n,"success");else{n.m=6;try{var d=2<Xd(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",c6(n)}}finally{dS(n)}}}function dS(n,t){if(n.g){d6(n);const e=n.g,i=n.C[0]?$A:null;n.g=null,n.C=null,t||Ls(n,"ready");try{e.onreadystatechange=i}catch{}}}function d6(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(dn.clearTimeout(n.A),n.A=null)}function Xd(n){return n.g?n.g.readyState:0}function h6(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case a6:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function f6(n){let t="";return kP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function iF(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=f6(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ki(n,t,e))}function $w(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function p6(n){this.Ca=0,this.i=[],this.j=new eS,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=$w("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=$w("baseRetryDelayMs",5e3,n),this.ab=$w("retryDelaySeedMs",1e4,n),this.Za=$w("forwardChannelMaxRetries",2,n),this.ta=$w("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new t6(n&&n.concurrentRequestLimit),this.Fa=new uW,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rF(n){if(g6(n),3==n.G){var t=n.U++,e=Jd(n.F);Ki(e,"SID",n.I),Ki(e,"RID",t),Ki(e,"TYPE","terminate"),zw(n,e),(t=new Fw(n,n.j,t,void 0)).K=2,t.v=lS(Jd(e)),e=!1,dn.navigator&&dn.navigator.sendBeacon&&(e=dn.navigator.sendBeacon(t.v.toString(),"")),!e&&dn.Image&&((new Image).src=t.v,e=!0),e||(t.g=x6(t.l,null),t.g.da(t.v)),t.F=Date.now(),Nw(t)}C6(n)}function hS(n){n.g&&(oF(n),n.g.cancel(),n.g=null)}function g6(n){hS(n),n.u&&(dn.clearTimeout(n.u),n.u=null),pS(n),n.h.cancel(),n.m&&("number"==typeof n.m&&dn.clearTimeout(n.m),n.m=null)}function fS(n){n6(n.h)||n.m||(n.m=!0,MU(n.Ja,n),n.C=0)}function m6(n,t){var e;e=t?t.m:n.U++;const i=Jd(n.F);Ki(i,"SID",n.I),Ki(i,"RID",e),Ki(i,"AID",n.T),zw(n,i),n.o&&n.s&&iF(i,n.o,n.s),e=new Fw(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=y6(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),eF(n.h,e),QP(e,i,t)}function zw(n,t){n.ia&&kP(n.ia,function(e,i){Ki(t,i,e)}),n.l&&ZU({},function(e,i){Ki(t,i,e)})}function y6(n,t,e){e=Math.min(n.i.length,e);var i=n.l?no(n.l.Qa,n.l,n):null;e:{var r=n.i;let l=-1;for(;;){const d=["count="+e];-1==l?0<e?(l=r[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let p=!0;for(let v=0;v<e;v++){let E=r[v].h;const M=r[v].g;if(E-=l,0>E)l=Math.max(0,r[v].h-100),p=!1;else try{dW(M,d,"req"+E+"_")}catch{i&&i(M)}}if(p){i=d.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function _6(n){n.g||n.u||(n.Z=1,MU(n.Ia,n),n.A=0)}function sF(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Ow(no(n.Ia,n),w6(n,n.A)),n.A++,0))}function oF(n){null!=n.B&&(dn.clearTimeout(n.B),n.B=null)}function v6(n){n.g=new Fw(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Jd(n.sa);Ki(t,"RID","rpc"),Ki(t,"SID",n.I),Ki(t,"CI",n.L?"0":"1"),Ki(t,"AID",n.T),Ki(t,"TYPE","xmlhttp"),zw(n,t),n.o&&n.s&&iF(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=lS(Jd(t)),e.s=null,e.P=!0,$U(e,n)}function pS(n){null!=n.v&&(dn.clearTimeout(n.v),n.v=null)}function b6(n,t){var e=null;if(n.g==t){pS(n),oF(n),n.g=null;var i=2}else{if(!XP(n.h,t))return;e=t.D,r6(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Ls(i=tS(),new VU(i,e,t,r)),fS(n)}else _6(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function yW(n,t){return!(i6(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Ow(no(n.Ja,n,t),w6(n,n.C)),n.C++,0)))}(n,t)||2==i&&sF(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Og(n,5);break;case 4:Og(n,10);break;case 3:Og(n,6);break;default:Og(n,2)}}function w6(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function Og(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=no(n.jb,n);e||(e=new kg("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||oS(e,"https"),lS(e)),function hW(n,t){const e=new eS;if(dn.Image){const i=new Image;i.onload=qA(cS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=qA(cS,e,i,"TestLoadImage: error",!1,t),i.onabort=qA(cS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=qA(cS,e,i,"TestLoadImage: timeout",!1,t),dn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Io(2);n.G=0,n.l&&n.l.va(t),C6(n),g6(n)}function C6(n){if(n.G=0,n.la=[],n.l){const t=s6(n.h);(0!=t.length||0!=n.i.length)&&(gU(n.la,t),gU(n.la,n.i),n.h.i.length=0,xP(n.i),n.i.length=0),n.l.ua()}}function E6(n,t,e){var i=e instanceof kg?Jd(e):new kg(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),aS(i,i.m);else{var r=dn.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var l=new kg(null,void 0);i&&oS(l,i),t&&(l.g=t),r&&aS(l,r),e&&(l.l=e),i=l}return t=n.za,(e=n.D)&&t&&Ki(i,e,t),Ki(i,"VER",n.ma),zw(n,i),i}function x6(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Hr(e&&n.Da&&!n.ra?new jw({ib:!0}):n.ra)).L=n.H,t}function D6(){}function gS(){if(b_&&!(10<=Number(P9)))throw Error("Environmental error: no available transport.")}function Ma(n,t){bs.call(this),this.g=new p6(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!WA(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!WA(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new E_(this)}function I6(n){WP.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function A6(){ZP.call(this),this.status=1}function E_(n){this.g=n}(Gt=Hr.prototype).da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():YP.g(),this.C=function jU(n){return n.h||(n.h=n.i())}(this.u?this.u:YP),this.g.onreadystatechange=no(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void l6(this,l)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const l of i.keys())e.set(l,i.get(l))}i=Array.from(e.keys()).find(l=>"content-type"==l.toLowerCase()),r=dn.FormData&&n instanceof dn.FormData,!(0<=pU(gW,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of e)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{d6(this),0<this.B&&((this.K=function mW(n){return b_&&function O9(){return function T9(n){var t=k9;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=mU(String(YA)).split("."),e=mU("9").split("."),i=Math.max(t.length,e.length);for(let d=0;0==n&&d<i;d++){var r=t[d]||"",l=e[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=DP(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||DP(0==r[2].length,0==l[2].length)||DP(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=no(this.qa,this)):this.A=zP(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){l6(this,l)}},Gt.qa=function(){typeof CP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ls(this,"timeout"),this.abort(8))},Gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ls(this,"complete"),Ls(this,"abort"),dS(this))},Gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dS(this,!0)),Hr.X.M.call(this)},Gt.Ha=function(){this.s||(this.F||this.v||this.l?u6(this):this.eb())},Gt.eb=function(){u6(this)},Gt.aa=function(){try{return 2<Xd(this)?this.g.status:-1}catch{return-1}},Gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Gt.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),fW(t)}},Gt.Ea=function(){return this.m},Gt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Gt=p6.prototype).ma=8,Gt.G=1,Gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Fw(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=wU(l),EU(l,this.S)):l=this.S),null!==this.o||this.N||(r.H=l,l=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=y6(this,r,t),Ki(e=Jd(this.F),"RID",n),Ki(e,"CVER",22),this.D&&Ki(e,"X-HTTP-Session-Id",this.D),zw(this,e),l&&(this.N?t="headers="+encodeURIComponent(String(f6(l)))+"&"+t:this.o&&iF(e,this.o,l)),eF(this.h,r),this.Xa&&Ki(e,"TYPE","init"),this.O?(Ki(e,"$req",t),Ki(e,"SID","null"),r.Z=!0,QP(r,e,null)):QP(r,e,t),this.G=2}}else 3==this.G&&(n?m6(this,n):0==this.i.length||n6(this.h)||m6(this))},Gt.Ia=function(){if(this.u=null,v6(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Ow(no(this.cb,this),n)}},Gt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Io(10),hS(this),v6(this))},Gt.bb=function(){null!=this.v&&(this.v=null,hS(this),sF(this),Io(19))},Gt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),Io(2)):(this.j.info("Failed to ping google.com"),Io(1))},(Gt=D6.prototype).xa=function(){},Gt.wa=function(){},Gt.va=function(){},Gt.ua=function(){},Gt.Qa=function(){},gS.prototype.g=function(n,t){return new Ma(n,t)},Ns(Ma,bs),Ma.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Io(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=E6(n,null,n.V),fS(n)},Ma.prototype.close=function(){rF(this.g)},Ma.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=jP(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.$a++,n)),3==t.G&&fS(t)},Ma.prototype.M=function(){this.g.l=null,delete this.j,rF(this.g),delete this.g,Ma.X.M.call(this)},Ns(I6,WP),Ns(A6,ZP),Ns(E_,D6),E_.prototype.xa=function(){Ls(this.g,"a")},E_.prototype.wa=function(n){Ls(this.g,new I6(n))},E_.prototype.va=function(n){Ls(this.g,new A6(n))},E_.prototype.ua=function(){Ls(this.g,"b")},gS.prototype.createWebChannel=gS.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,nS.NO_ERROR=0,nS.TIMEOUT=8,nS.HTTP_ERROR=6,UU.COMPLETE="complete",GU.EventType=Pw,Pw.OPEN="a",Pw.CLOSE="b",Pw.ERROR="c",Pw.MESSAGE="d",bs.prototype.listen=bs.prototype.N,Hr.prototype.listenOnce=Hr.prototype.O,Hr.prototype.getLastError=Hr.prototype.Na,Hr.prototype.getLastErrorCode=Hr.prototype.Ea,Hr.prototype.getStatus=Hr.prototype.aa,Hr.prototype.getResponseJson=Hr.prototype.Ra,Hr.prototype.getResponseText=Hr.prototype.fa,Hr.prototype.send=Hr.prototype.da;var _W=Qd.createWebChannelTransport=function(){return new gS},vW=Qd.getStatEventTarget=function(){return tS()},aF=Qd.ErrorCode=nS,bW=Qd.EventType=UU,wW=Qd.Event=Mg,S6=Qd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},CW=Qd.FetchXmlHttpFactory=jw,mS=Qd.WebChannel=GU,EW=Qd.XhrIo=Hr;const T6="@firebase/firestore";class ws{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ws.UNAUTHENTICATED=new ws(null),ws.GOOGLE_CREDENTIALS=new ws("google-credentials-uid"),ws.FIRST_PARTY=new ws("first-party-uid"),ws.MOCK_USER=new ws("mock-user");let x_="9.10.0";const vf=new Rl.Yd("@firebase/firestore");function lF(){return vf.logLevel}function st(n,...t){if(vf.logLevel<=Rl.in.DEBUG){const e=t.map(cF);vf.debug(`Firestore (${x_}): ${n}`,...e)}}function Rr(n,...t){if(vf.logLevel<=Rl.in.ERROR){const e=t.map(cF);vf.error(`Firestore (${x_}): ${n}`,...e)}}function Pg(n,...t){if(vf.logLevel<=Rl.in.WARN){const e=t.map(cF);vf.warn(`Firestore (${x_}): ${n}`,...e)}}function cF(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function At(n="Unexpected state"){const t=`FIRESTORE (${x_}) INTERNAL ASSERTION FAILED: `+n;throw Rr(t),new Error(t)}function an(n,t){n||At()}function _t(n,t){return n}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Wn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class M6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ws.UNAUTHENTICATED))}shutdown(){}}class AW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class SW{constructor(t){this.t=t,this.currentUser=ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=E=>this.i!==r?(r=this.i,e(E)):Promise.resolve();let d=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Cs,t.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const E=d;t.enqueueRetryable((0,$e.Z)(function*(){yield E.promise,yield l(i.currentUser)}))},v=E=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Cs)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(an("string"==typeof i.accessToken),new M6(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return an(null===t||"string"==typeof t),new ws(t)}}class TW{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=ws.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(an(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class MW{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new TW(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(ws.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RW{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=l=>{null!=l.error&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const r=l=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?r(l):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(an("string"==typeof e.token),this.A=e.token,new R6(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kW(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class k6{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=kW(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+=t.charAt(r[l]%t.length))}return i}}function hn(n,t){return n<t?-1:n>t?1:0}function D_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function O6(n){return n+"\0"}class Qi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new it(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new it(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new it(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Qi.fromMillis(Date.now())}static fromDate(t){return Qi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Qi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?hn(this.nanoseconds,t.nanoseconds):hn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Jt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Jt(t)}static min(){return new Jt(new Qi(0,0))}static max(){return new Jt(new Qi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class qw{constructor(t,e,i){void 0===e?e=0:e>t.length&&At(),void 0===i?i=t.length-e:i>t.length-e&&At(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===qw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof qw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),d=e.get(r);if(l<d)return-1;if(l>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class $n extends qw{construct(t,e,i){return new $n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new it(je.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new $n(e)}static emptyPath(){return new $n([])}}const OW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends qw{construct(t,e,i){return new vr(t,e,i)}static isValidIdentifier(t){return OW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new it(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const p=t[r];if("\\"===p){if(r+1===t.length)throw new it(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[r+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new it(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=v,r+=2}else"`"===p?(d=!d,r++):"."!==p||d?(i+=p,r++):(l(),r++)}if(l(),d)throw new it(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vr(e)}static emptyPath(){return new vr([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt($n.fromString(t))}static fromName(t){return new gt($n.fromString(t).popFirst(5))}static empty(){return new gt($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===$n.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return $n.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new $n(t.slice()))}}class yS{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function uF(n){return n.fields.find(t=>2===t.kind)}function Fg(n){return n.fields.filter(t=>2!==t.kind)}yS.UNKNOWN_ID=-1;class _S{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ww{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ww(0,Ra.min())}}function P6(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Jt.fromTimestamp(1e9===i?new Qi(e+1,0):new Qi(e,i));return new Ra(r,gt.empty(),t)}function F6(n){return new Ra(n.readTime,n.key,-1)}class Ra{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ra(Jt.min(),gt.empty(),-1)}static max(){return new Ra(Jt.max(),gt.empty(),-1)}}function dF(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=gt.comparator(n.documentKey,t.documentKey),0!==e?e:hn(n.largestBatchId,t.largestBatchId))}const N6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function bf(n){return hF.apply(this,arguments)}function hF(){return hF=(0,$e.Z)(function*(n){if(n.code!==je.FAILED_PRECONDITION||n.message!==N6)throw n;st("LocalStore","Unexpectedly lost primary lease")}),hF.apply(this,arguments)}class Fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Fe((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Fe?e:Fe.resolve(e)}catch(e){return Fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Fe.reject(e)}static resolve(t){return new Fe((e,i)=>{e(t)})}static reject(t){return new Fe((e,i)=>{i(t)})}static waitFor(t){return new Fe((e,i)=>{let r=0,l=0,d=!1;t.forEach(p=>{++r,p.next(()=>{++l,d&&l===r&&e()},v=>i(v))}),d=!0,l===r&&e()})}static or(t){let e=Fe.resolve(!1);for(const i of t)e=e.next(r=>r?Fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}static mapArray(t,e){return new Fe((i,r)=>{const l=t.length,d=new Array(l);let p=0;for(let v=0;v<l;v++){const E=v;e(t[E]).next(M=>{d[E]=M,++p,p===l&&i(d)},M=>r(M))}})}static doWhile(t,e){return new Fe((i,r)=>{const l=()=>{!0===t()?e().next(()=>{l()},r):i()};l()})}}class vS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Cs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Zw(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=fF(i.target.error);this.P.reject(new Zw(t,r))}}static open(t,e,i,r){try{return new vS(e,t.transaction(r,i))}catch(l){throw new Zw(e,l)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(st("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new LW(e)}}class Pc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===Pc.D((0,Wn.z$)())&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return st("SimpleDb","Removing database:",t),Ng(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,Wn.hl)())return!1;if(Pc.N())return!0;const t=(0,Wn.z$)(),e=Pc.D(t),i=0<e&&e<10,r=Pc.k(t),l=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,$e.Z)(function*(){return e.db||(st("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=d=>{i(d.target.result)},l.onblocked=()=>{r(new Zw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const p=d.target.error;r("VersionError"===p.name?new it(je.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new it(je.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Zw(t,p))},l.onupgradeneeded=d=>{st("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.S.$(d.target.result,l.transaction,d.oldVersion,e.version).next(()=>{st("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var l=this;return(0,$e.Z)(function*(){const d="readonly"===e;let p=0;for(;;){++p;try{l.db=yield l.F(t);const v=vS.open(l.db,t,d?"readonly":"readwrite",i),E=r(v).next(M=>(v.V(),M)).catch(M=>(v.abort(M),Fe.reject(M))).toPromise();return E.catch(()=>{}),yield v.v,E}catch(v){const E=v,M="FirebaseError"!==E.name&&p<3;if(st("SimpleDb","Transaction failed with error:",E.message,"Retrying:",M),l.close(),!M)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NW{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Ng(this.U.delete())}}class Zw extends it{constructor(t,e){super(je.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function wf(n){return"IndexedDbTransactionError"===n.name}class LW{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(st("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(st("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Ng(i)}add(t){return st("SimpleDb","ADD",this.store.name,t,t),Ng(this.store.add(t))}get(t){return Ng(this.store.get(t)).next(e=>(void 0===e&&(e=null),st("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return st("SimpleDb","DELETE",this.store.name,t),Ng(this.store.delete(t))}count(){return st("SimpleDb","COUNT",this.store.name),Ng(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.H(r,(d,p)=>{l.push(p)}).next(()=>l)}{const r=this.store.getAll(i.range);return new Fe((l,d)=>{r.onerror=p=>{d(p.target.error)},r.onsuccess=p=>{l(p.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Fe((r,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}Y(t,e){st("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(l,d,p)=>p.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new Fe((i,r)=>{e.onerror=l=>{const d=fF(l.target.error);r(d)},e.onsuccess=l=>{const d=l.target.result;d?t(d.primaryKey,d.value).next(p=>{p?d.continue():i()}):i()}})}H(t,e){const i=[];return new Fe((r,l)=>{t.onerror=d=>{l(d.target.error)},t.onsuccess=d=>{const p=d.target.result;if(!p)return void r();const v=new NW(p),E=e(p.primaryKey,p.value,v);if(E instanceof Fe){const M=E.catch(k=>(v.done(),Fe.reject(k)));i.push(M)}v.isDone?r():null===v.G?p.continue():p.continue(v.G)}}).next(()=>Fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Ng(n){return new Fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=fF(i.target.error);e(r)}})}let B6=!1;function fF(n){const t=Pc.D((0,Wn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new it("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return B6||(B6=!0,setTimeout(()=>{throw i},0)),i}}return n}class BW{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;st("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,$e.Z)(function*(){e.task=null;try{st("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){wf(i)?st("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield bf(i)}yield e.nt(6e4)}))}}class VW{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,$e.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,l=!0;return Fe.doWhile(()=>!0===l&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(d=>{if(null!==d&&!i.has(d))return st("IndexBackiller",`Processing collection: ${d}`),this.rt(t,d,r).next(p=>{r-=p,i.add(d)});l=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(t,d).next(()=>this.ot(r,l)).next(p=>(st("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(t,e,p))).next(()=>d.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,l)=>{const d=F6(l);dF(d,i)>0&&(i=d)}),new Ra(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Qo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function V6(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Lg(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function U6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Qo.at=-1;class br{constructor(t,e){this.comparator=t,this.root=e||Bs.EMPTY}insert(t,e){return new br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(t){return new br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bS(this.root,t,this.comparator,!1)}getReverseIterator(){return new bS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bS(this.root,t,this.comparator,!0)}}class bS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Bs{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=i??Bs.RED,this.left=r??Bs.EMPTY,this.right=l??Bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new Bs(t??this.key,e??this.value,i??this.color,r??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Bs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Bs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1,Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Bs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yi{constructor(t){this.comparator=t,this.data=new br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new j6(this.data.getIterator())}getIteratorFrom(t){return new j6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof yi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new yi(this.comparator);return e.data=t,e}}class j6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function I_(n){return n.hasNext()?n.getNext():void 0}class ka{constructor(t){this.fields=t,t.sort(vr.comparator)}static empty(){return new ka([])}unionWith(t){let e=new yi(vr.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ka(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return D_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ss{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ss(e)}static fromUint8Array(t){const e=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(t);return new ss(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return hn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const jW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cf(n){if(an(!!n),"string"==typeof n){let t=0;const e=jW.exec(n);if(an(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bg(n){return"string"==typeof n?ss.fromBase64String(n):ss.fromUint8Array(n)}function pF(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function G6(n){const t=n.mapValue.fields.__previous_value__;return pF(t)?G6(t):t}function Yw(n){const t=Cf(n.mapValue.fields.__local_write_time__.timestampValue);return new Qi(t.seconds,t.nanos)}class GW{constructor(t,e,i,r,l,d,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Ef{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ef("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ef&&t.projectId===this.projectId&&t.database===this.database}}function Kw(n){return null==n}function Qw(n){return 0===n&&1/n==-1/0}function H6(n){return"number"==typeof n&&Number.isInteger(n)&&!Qw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const xf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wS={nullValue:"NULL_VALUE"};function Vg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pF(n)?4:W6(n)?9007199254740991:10:At()}function ku(n,t){if(n===t)return!0;const e=Vg(n);if(e!==Vg(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Yw(n).isEqual(Yw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Cf(i.timestampValue),d=Cf(r.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Bg(n.bytesValue).isEqual(Bg(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return wr(i.geoPointValue.latitude)===wr(r.geoPointValue.latitude)&&wr(i.geoPointValue.longitude)===wr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wr(i.integerValue)===wr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=wr(i.doubleValue),d=wr(r.doubleValue);return l===d?Qw(l)===Qw(d):isNaN(l)&&isNaN(d)}return!1}(n,t);case 9:return D_(n.arrayValue.values||[],t.arrayValue.values||[],ku);case 10:return function(i,r){const l=i.mapValue.fields||{},d=r.mapValue.fields||{};if(V6(l)!==V6(d))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===d[p]||!ku(l[p],d[p])))return!1;return!0}(n,t);default:return At()}var r}function Jw(n,t){return void 0!==(n.values||[]).find(e=>ku(e,t))}function Df(n,t){if(n===t)return 0;const e=Vg(n),i=Vg(t);if(e!==i)return hn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return hn(n.booleanValue,t.booleanValue);case 2:return function(r,l){const d=wr(r.integerValue||r.doubleValue),p=wr(l.integerValue||l.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,t);case 3:return $6(n.timestampValue,t.timestampValue);case 4:return $6(Yw(n),Yw(t));case 5:return hn(n.stringValue,t.stringValue);case 6:return function(r,l){const d=Bg(r),p=Bg(l);return d.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(r,l){const d=r.split("/"),p=l.split("/");for(let v=0;v<d.length&&v<p.length;v++){const E=hn(d[v],p[v]);if(0!==E)return E}return hn(d.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,l){const d=hn(wr(r.latitude),wr(l.latitude));return 0!==d?d:hn(wr(r.longitude),wr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,l){const d=r.values||[],p=l.values||[];for(let v=0;v<d.length&&v<p.length;++v){const E=Df(d[v],p[v]);if(E)return E}return hn(d.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,l){if(r===xf.mapValue&&l===xf.mapValue)return 0;if(r===xf.mapValue)return 1;if(l===xf.mapValue)return-1;const d=r.fields||{},p=Object.keys(d),v=l.fields||{},E=Object.keys(v);p.sort(),E.sort();for(let M=0;M<p.length&&M<E.length;++M){const k=hn(p[M],E[M]);if(0!==k)return k;const z=Df(d[p[M]],v[E[M]]);if(0!==z)return z}return hn(p.length,E.length)}(n.mapValue,t.mapValue);default:throw At()}}function $6(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return hn(n,t);const e=Cf(n),i=Cf(t),r=hn(e.seconds,i.seconds);return 0!==r?r:hn(e.nanos,i.nanos)}function A_(n){return gF(n)}function gF(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Cf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bg(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const d of i.values||[])l?l=!1:r+=",",r+=gF(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",d=!0;for(const p of r)d?d=!1:l+=",",l+=`${p}:${gF(i.fields[p])}`;return l+"}"}(n.mapValue):At();var t}function Ug(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function mF(n){return!!n&&"integerValue"in n}function Xw(n){return!!n&&"arrayValue"in n}function z6(n){return!!n&&"nullValue"in n}function q6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function CS(n){return!!n&&"mapValue"in n}function eC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Lg(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=eC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=eC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function W6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function HW(n){return"nullValue"in n?wS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ug(Ef.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:At()}function $W(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ug(Ef.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xf:At()}function Z6(n,t){const e=Df(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Y6(n,t){const e=Df(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Vs{constructor(t){this.value=t}static empty(){return new Vs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!CS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=eC(e)}setAll(t){let e=vr.emptyPath(),i={},r=[];t.forEach((d,p)=>{if(!e.isImmediateParentOf(p)){const v=this.getFieldsMap(e);this.applyChanges(v,i,r),i={},r=[],e=p.popLast()}d?i[p.lastSegment()]=eC(d):r.push(p.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());CS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ku(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];CS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Lg(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new Vs(eC(this.value))}}function K6(n){const t=[];return Lg(n.fields,(e,i)=>{const r=new vr([e]);if(CS(i)){const l=K6(i.mapValue).fields;if(0===l.length)t.push(r);else for(const d of l)t.push(r.child(d))}else t.push(r)}),new ka(t)}class Pi{constructor(t,e,i,r,l,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=l,this.documentState=d}static newInvalidDocument(t){return new Pi(t,0,Jt.min(),Jt.min(),Vs.empty(),0)}static newFoundDocument(t,e,i){return new Pi(t,1,e,Jt.min(),i,0)}static newNoDocument(t,e){return new Pi(t,2,e,Jt.min(),Vs.empty(),0)}static newUnknownDocument(t,e){return new Pi(t,3,e,Jt.min(),Vs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Pi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zW{constructor(t,e=null,i=[],r=[],l=null,d=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=d,this.endAt=p,this.ht=null}}function Q6(n,t=null,e=[],i=[],r=null,l=null,d=null){return new zW(n,t,e,i,r,l,d)}function jg(n){const t=_t(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+A_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Kw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>A_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>A_(i)).join(",")),t.ht=e}return t.ht}function tC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!eZ(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ku(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nj(n.startAt,t.startAt)&&nj(n.endAt,t.endAt)}function ES(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xS(n,t){return n.filters.filter(e=>e instanceof Us&&e.field.isEqual(t))}function J6(n,t,e){let i=wS,r=!0;for(const l of xS(n,t)){let d=wS,p=!0;switch(l.op){case"<":case"<=":d=HW(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,p=!1;break;case"!=":case"not-in":d=wS}Z6({value:i,inclusive:r},{value:d,inclusive:p})<0&&(i=d,r=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const d=e.position[l];Z6({value:i,inclusive:r},{value:d,inclusive:e.inclusive})<0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}function X6(n,t,e){let i=xf,r=!0;for(const l of xS(n,t)){let d=xf,p=!0;switch(l.op){case">=":case">":d=$W(l.value),p=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,p=!1;break;case"!=":case"not-in":d=xf}Y6({value:i,inclusive:r},{value:d,inclusive:p})>0&&(i=d,r=p)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const d=e.position[l];Y6({value:i,inclusive:r},{value:d,inclusive:e.inclusive})>0&&(i=d,r=e.inclusive);break}return{value:i,inclusive:r}}class Us extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new WW(t,e,i):"array-contains"===e?new KW(t,i):"in"===e?new QW(t,i):"not-in"===e?new JW(t,i):"array-contains-any"===e?new XW(t,i):new Us(t,e,i)}static lt(t,e,i){return"in"===e?new ZW(t,i):new YW(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Df(e,this.value)):null!==e&&Vg(this.value)===Vg(e)&&this.ft(Df(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return At()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WW extends Us{constructor(t,e,i){super(t,e,i),this.key=gt.fromName(i.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.ft(e)}}class ZW extends Us{constructor(t,e){super(t,"in",e),this.keys=ej(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class YW extends Us{constructor(t,e){super(t,"not-in",e),this.keys=ej(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function ej(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>gt.fromName(i.referenceValue))}class KW extends Us{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xw(e)&&Jw(e.arrayValue,this.value)}}class QW extends Us{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Jw(this.value.arrayValue,e)}}class JW extends Us{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Jw(this.value.arrayValue,e)}}class XW extends Us{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Jw(this.value.arrayValue,i))}}class If{constructor(t,e){this.position=t,this.inclusive=e}}class S_{constructor(t,e="asc"){this.field=t,this.dir=e}}function eZ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function tj(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],d=n.position[r];if(i=l.field.isKeyField()?gt.comparator(gt.fromName(d.referenceValue),e.key):Df(d,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function nj(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ku(n.position[e],t.position[e]))return!1;return!0}class eh{constructor(t,e=null,i=[],r=[],l=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=v,this._t=null,this.wt=null}}function ij(n,t,e,i,r,l,d,p){return new eh(n,t,e,i,r,l,d,p)}function T_(n){return new eh(n)}function rj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yF(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function _F(n){for(const t of n.filters)if(t.dt())return t.field;return null}function vF(n){return null!==n.collectionGroup}function M_(n){const t=_t(n);if(null===t._t){t._t=[];const e=_F(t),i=yF(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new S_(e)),t._t.push(new S_(vr.keyField(),"asc"));else{let r=!1;for(const l of t.explicitOrderBy)t._t.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new S_(vr.keyField(),l))}}}return t._t}function Jo(n){const t=_t(n);if(!t.wt)if("F"===t.limitType)t.wt=Q6(t.path,t.collectionGroup,M_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of M_(t))e.push(new S_(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new If(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,t.startAt.inclusive):null;t.wt=Q6(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function DS(n,t,e){return new eh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function nC(n,t){return tC(Jo(n),Jo(t))&&n.limitType===t.limitType}function sj(n){return`${jg(Jo(n))}|lt:${n.limitType}`}function bF(n){return`Query(target=${function qW(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${A_(i.value)}`;var i}).join(", ")}]`),Kw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>A_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>A_(e)).join(",")),`Target(${t})`}(Jo(n))}; limitType=${n.limitType})`}function wF(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):gt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,l,d){const p=tj(r,l,d);return r.inclusive?p<=0:p<0}(e.startAt,M_(e),i)||e.endAt&&!function(r,l,d){const p=tj(r,l,d);return r.inclusive?p>=0:p>0}(e.endAt,M_(e),i)));var e,i}function oj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aj(n){return(t,e)=>{let i=!1;for(const r of M_(n)){const l=tZ(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function tZ(n,t,e){const i=n.field.isKeyField()?gt.comparator(t.key,e.key):function(r,l,d){const p=l.data.field(r),v=d.data.field(r);return null!==p&&null!==v?Df(p,v):At()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At()}}function lj(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qw(t)?"-0":t}}function cj(n){return{integerValue:""+n}}function uj(n,t){return H6(t)?cj(t):lj(n,t)}class IS{constructor(){this._=void 0}}function nZ(n,t,e){return n instanceof R_?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(e,t):n instanceof Gg?hj(n,t):n instanceof Hg?fj(n,t):function(i,r){const l=dj(i,r),d=pj(l)+pj(i.yt);return mF(l)&&mF(i.yt)?cj(d):lj(i.It,d)}(n,t)}function iZ(n,t,e){return n instanceof Gg?hj(n,t):n instanceof Hg?fj(n,t):e}function dj(n,t){return n instanceof k_?mF(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class R_ extends IS{}class Gg extends IS{constructor(t){super(),this.elements=t}}function hj(n,t){const e=gj(t);for(const i of n.elements)e.some(r=>ku(r,i))||e.push(i);return{arrayValue:{values:e}}}class Hg extends IS{constructor(t){super(),this.elements=t}}function fj(n,t){let e=gj(t);for(const i of n.elements)e=e.filter(r=>!ku(r,i));return{arrayValue:{values:e}}}class k_ extends IS{constructor(t,e){super(),this.It=t,this.yt=e}}function pj(n){return wr(n.integerValue||n.doubleValue)}function gj(n){return Xw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iC{constructor(t,e){this.field=t,this.transform=e}}class sZ{constructor(t,e){this.version=t,this.transformResults=e}}class Ji{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ji}static exists(t){return new Ji(void 0,t)}static updateTime(t){return new Ji(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function AS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class SS{}function mj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new P_(n.key,Ji.none()):new O_(n.key,n.data,Ji.none());{const e=n.data,i=Vs.empty();let r=new yi(vr.comparator);for(let l of t.fields)if(!r.has(l)){let d=e.field(l);null===d&&l.length>1&&(l=l.popLast(),d=e.field(l)),null===d?i.delete(l):i.set(l,d),r=r.add(l)}return new th(n.key,i,new ka(r.toArray()),Ji.none())}}function oZ(n,t,e){n instanceof O_?function(i,r,l){const d=i.value.clone(),p=vj(i.fieldTransforms,r,l.transformResults);d.setAll(p),r.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,t,e):n instanceof th?function(i,r,l){if(!AS(i.precondition,r))return void r.convertToUnknownDocument(l.version);const d=vj(i.fieldTransforms,r,l.transformResults),p=r.data;p.setAll(_j(i)),p.setAll(d),r.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function rC(n,t,e,i){return n instanceof O_?function(r,l,d,p){if(!AS(r.precondition,l))return d;const v=r.value.clone(),E=bj(r.fieldTransforms,p,l);return v.setAll(E),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,t,e,i):n instanceof th?function(r,l,d,p){if(!AS(r.precondition,l))return d;const v=bj(r.fieldTransforms,p,l),E=l.data;return E.setAll(_j(r)),E.setAll(v),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,t,e,i):(d=e,AS(n.precondition,l=t)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function aZ(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=dj(i.transform,r||null);null!=l&&(null===e&&(e=Vs.empty()),e.set(i.field,l))}return e||null}function yj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&D_(e,i,(r,l)=>function rZ(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gg&&i instanceof Gg||e instanceof Hg&&i instanceof Hg?D_(e.elements,i.elements,ku):e instanceof k_&&i instanceof k_?ku(e.yt,i.yt):e instanceof R_&&i instanceof R_);var e,i}(r,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class O_ extends SS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class th extends SS{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _j(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function vj(n,t,e){const i=new Map;an(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],d=l.transform,p=t.data.field(l.field);i.set(l.field,iZ(d,p,e[r]))}return i}function bj(n,t,e){const i=new Map;for(const r of n){const l=r.transform,d=e.data.field(r.field);i.set(r.field,nZ(l,d,t))}return i}class P_ extends SS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CF extends SS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class lZ{constructor(t){this.count=t}}var $r,zn;function wj(n){switch(n){default:return At();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function Cj(n){if(void 0===n)return Rr("GRPC error has no .code"),je.UNKNOWN;switch(n){case $r.OK:return je.OK;case $r.CANCELLED:return je.CANCELLED;case $r.UNKNOWN:return je.UNKNOWN;case $r.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case $r.INTERNAL:return je.INTERNAL;case $r.UNAVAILABLE:return je.UNAVAILABLE;case $r.UNAUTHENTICATED:return je.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case $r.NOT_FOUND:return je.NOT_FOUND;case $r.ALREADY_EXISTS:return je.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return je.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case $r.ABORTED:return je.ABORTED;case $r.OUT_OF_RANGE:return je.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return je.UNIMPLEMENTED;case $r.DATA_LOSS:return je.DATA_LOSS;default:return At()}}(zn=$r||($r={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";class Af{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Lg(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return U6(this.inner)}size(){return this.innerSize}}const cZ=new br(gt.comparator);function Xo(){return cZ}const Ej=new br(gt.comparator);function sC(...n){let t=Ej;for(const e of n)t=t.insert(e.key,e);return t}function xj(n){let t=Ej;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ou(){return oC()}function Dj(){return oC()}function oC(){return new Af(n=>n.toString(),(n,t)=>n.isEqual(t))}const uZ=new br(gt.comparator),dZ=new yi(gt.comparator);function bn(...n){let t=dZ;for(const e of n)t=t.add(e);return t}const hZ=new yi(hn);function TS(){return hZ}class aC{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,lC.createSynthesizedTargetChangeForCurrentChange(t,e)),new aC(Jt.min(),i,TS(),Xo(),bn())}}class lC{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new lC(ss.EMPTY_BYTE_STRING,e,bn(),bn(),bn())}}class MS{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class Ij{constructor(t,e){this.targetId=t,this.At=e}}class Aj{constructor(t,e,i=ss.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Sj{constructor(){this.Rt=0,this.bt=Mj(),this.Pt=ss.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=bn(),e=bn(),i=bn();return this.bt.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:At()}}),new lC(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Mj()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fZ{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Xo(),this.qt=Tj(),this.Kt=new yi(hn)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:At()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const l=r.target;if(ES(l))if(0===i){const d=new gt(l.path);this.jt(e,d,Pi.newNoDocument(d,Jt.min()))}else an(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((l,d)=>{const p=this.Xt(d);if(p){if(l.current&&ES(p.target)){const v=new gt(p.target.path);null!==this.Ut.get(v)||this.ee(d,v)||this.jt(d,v,Pi.newNoDocument(v,t))}l.Dt&&(e.set(d,l.xt()),l.Nt())}});let i=bn();this.qt.forEach((l,d)=>{let p=!0;d.forEachWhile(v=>{const E=this.Xt(v);return!E||2===E.purpose||(p=!1,!1)}),p&&(i=i.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(t));const r=new aC(t,e,this.Kt,this.Ut,i);return this.Ut=Xo(),this.qt=Tj(),this.Kt=new yi(hn),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new Sj,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new yi(hn),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||st("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new Sj),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Tj(){return new br(gt.comparator)}function Mj(){return new br(gt.comparator)}const pZ={asc:"ASCENDING",desc:"DESCENDING"},gZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mZ{constructor(t,e){this.databaseId=t,this.gt=e}}function cC(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rj(n,t){return n.gt?t.toBase64():t.toUint8Array()}function yZ(n,t){return cC(n,t.toTimestamp())}function Es(n){return an(!!n),Jt.fromTimestamp(function(t){const e=Cf(t);return new Qi(e.seconds,e.nanos)}(n))}function EF(n,t){return(e=n,new $n(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function kj(n){const t=$n.fromString(n);return an(jj(t)),t}function uC(n,t){return EF(n.databaseId,t.path)}function Pu(n,t){const e=kj(t);if(e.get(1)!==n.databaseId.projectId)throw new it(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new it(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new gt(Pj(e))}function xF(n,t){return EF(n.databaseId,t)}function Oj(n){const t=kj(n);return 4===t.length?$n.emptyPath():Pj(t)}function dC(n){return new $n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pj(n){return an(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Fj(n,t,e){return{name:uC(n,t),fields:e.value.mapValue.fields}}function Nj(n,t,e){const i=Pu(n,t.name),r=Es(t.updateTime),l=new Vs({mapValue:{fields:t.fields}}),d=Pi.newFoundDocument(i,r,l);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function hC(n,t){let e;if(t instanceof O_)e={update:Fj(n,t.key,t.value)};else if(t instanceof P_)e={delete:uC(n,t.key)};else if(t instanceof th)e={update:Fj(n,t.key,t.data),updateMask:IZ(t.fieldMask)};else{if(!(t instanceof CF))return At();e={verify:uC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const d=l.transform;if(d instanceof R_)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gg)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Hg)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof k_)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw At()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:yZ(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:At()),e;var r}function DF(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ji.updateTime(Es(r.updateTime)):void 0!==r.exists?Ji.exists(r.exists):Ji.none():Ji.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(l,d){let p=null;"setToServerValue"in d?(an("REQUEST_TIME"===d.setToServerValue),p=new R_):"appendMissingElements"in d?p=new Gg(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new Hg(d.removeAllFromArray.values||[]):"increment"in d?p=new k_(l,d.increment):At();const v=vr.fromServerFormat(d.fieldPath);return new iC(v,p)}(n,r)):[];var r;if(t.update){const r=Pu(n,t.update.name),l=new Vs({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new ka((t.updateMask.fieldPaths||[]).map(E=>vr.fromServerFormat(E)));return new th(r,l,d,e,i)}return new O_(r,l,e,i)}if(t.delete){const r=Pu(n,t.delete);return new P_(r,e)}if(t.verify){const r=Pu(n,t.verify);return new CF(r,e)}return At()}function Lj(n,t){return{documents:[xF(n,t.path)]}}function Bj(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=xF(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=xF(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(v){if(0===v.length)return;const E=v.map(M=>function(k){if("=="===k.op){if(q6(k.value))return{unaryFilter:{field:F_(k.field),op:"IS_NAN"}};if(z6(k.value))return{unaryFilter:{field:F_(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(q6(k.value))return{unaryFilter:{field:F_(k.field),op:"IS_NOT_NAN"}};if(z6(k.value))return{unaryFilter:{field:F_(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:F_(k.field),op:EZ(k.op),value:k.value}}}(M));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(t.filters);r&&(e.structuredQuery.where=r);const l=function(v){if(0!==v.length)return v.map(E=>{return{field:F_((M=E).field),direction:CZ(M.dir)};var M})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const d=(E=t.limit,n.gt||Kw(E)?E:{value:E});var E,p,v;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(p=t.startAt).inclusive,values:p.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function Vj(n){let t=Oj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){an(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let l=[];e.where&&(l=Uj(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(M=>{return new S_(N_((k=M).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let p=null;e.limit&&(p=function(M){let k;return k="object"==typeof M?M.value:M,Kw(k)?null:k}(e.limit));let v=null;var M;e.startAt&&(v=new If((M=e.startAt).values||[],!!M.before));let E=null;return e.endAt&&(E=function(M){return new If(M.values||[],!M.before)}(e.endAt)),ij(t,r,d,l,p,"F",v,E)}function Uj(n){return n?void 0!==n.unaryFilter?[DZ(n)]:void 0!==n.fieldFilter?[xZ(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Uj(t)).reduce((t,e)=>t.concat(e)):At():[]}function CZ(n){return pZ[n]}function EZ(n){return gZ[n]}function F_(n){return{fieldPath:n.canonicalString()}}function N_(n){return vr.fromServerFormat(n.fieldPath)}function xZ(n){return Us.create(N_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(n.fieldFilter.op),n.fieldFilter.value)}function DZ(n){switch(n.unaryFilter.op){case"IS_NAN":const t=N_(n.unaryFilter.field);return Us.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=N_(n.unaryFilter.field);return Us.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=N_(n.unaryFilter.field);return Us.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=N_(n.unaryFilter.field);return Us.create(r,"!=",{nullValue:"NULL_VALUE"});default:return At()}}function IZ(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ao(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Gj(t)),t=AZ(n.get(e),t);return Gj(t)}function AZ(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function Gj(n){return n+"\x01\x01"}function Fu(n){const t=n.length;if(an(t>=2),2===t)return an("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),$n.emptyPath();const e=t-2,i=[];let r="";for(let l=0;l<t;){const d=n.indexOf("\x01",l);switch((d<0||d>e)&&At(),n.charAt(d+1)){case"\x01":const p=n.substring(l,d);let v;0===r.length?v=p:(r+=p,v=r,r=""),i.push(v);break;case"\x10":r+=n.substring(l,d),r+="\0";break;case"\x11":r+=n.substring(l,d+1);break;default:At()}l=d+2}return new $n(i)}const Hj=["userId","batchId"];function RS(n,t){return[n,Ao(t)]}function $j(n,t,e){return[n,Ao(t),e]}const SZ={},TZ=["prefixPath","collectionGroup","readTime","documentId"],MZ=["prefixPath","collectionGroup","documentId"],RZ=["collectionGroup","readTime","prefixPath","documentId"],kZ=["canonicalId","targetId"],OZ=["targetId","path"],PZ=["path","targetId"],FZ=["collectionId","parent"],NZ=["indexId","uid"],LZ=["uid","sequenceNumber"],BZ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],VZ=["indexId","uid","orderedDocumentKey"],UZ=["userId","collectionPath","documentId"],jZ=["userId","collectionPath","largestBatchId"],GZ=["userId","collectionGroup","largestBatchId"],zj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HZ=[...zj,"documentOverlays"],qj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wj=qj,$Z=[...Wj,"indexConfiguration","indexState","indexEntries"];class IF extends L6{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function xs(n,t){const e=_t(n);return Pc.O(e.ie,t)}class AF{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&oZ(l,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=rC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=rC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Dj();return this.mutations.forEach(r=>{const l=t.get(r.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=e.has(r.key)?null:p;const v=mj(d,p);null!==v&&i.set(r.key,v),d.isValidDocument()||d.convertToNoDocument(Jt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&D_(this.mutations,t.mutations,(e,i)=>yj(e,i))&&D_(this.baseMutations,t.baseMutations,(e,i)=>yj(e,i))}}class SF{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){an(t.mutations.length===i.length);let r=uZ;const l=t.mutations;for(let d=0;d<l.length;d++)r=r.insert(l[d].key,i[d].version);return new SF(t,e,i,r)}}class TF{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sf{constructor(t,e,i,r,l=Jt.min(),d=Jt.min(),p=ss.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(t){return new Sf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Sf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Zj{constructor(t){this.re=t}}function Yj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:kS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:uC(r=n.re,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:cC(r,l.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:$g(t.version)};else{if(!t.isUnknownDocument())return At();i.unknownDocument={path:e.path.toArray(),version:$g(t.version)}}var r,l;return i}function kS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function $g(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function zg(n){const t=new Qi(n.seconds,n.nanoseconds);return Jt.fromTimestamp(t)}function qg(n,t){const e=(t.baseMutations||[]).map(l=>DF(n.re,l));for(let l=0;l<t.mutations.length-1;++l){const d=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(d.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>DF(n.re,l)),r=Qi.fromMillis(t.localWriteTimeMs);return new AF(t.batchId,r,e,i)}function fC(n){const t=zg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?zg(n.lastLimboFreeSnapshotVersion):Jt.min();let i;var r;return void 0!==n.query.documents?(an(1===(r=n.query).documents.length),i=Jo(T_(Oj(r.documents[0])))):i=Jo(Vj(n.query)),new Sf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ss.fromBase64String(n.resumeToken))}function Kj(n,t){const e=$g(t.snapshotVersion),i=$g(t.lastLimboFreeSnapshotVersion);let r;r=ES(t.target)?Lj(n.re,t.target):Bj(n.re,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jg(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function MF(n){const t=Vj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?DS(t,t.limit,"L"):t}function RF(n,t){return new TF(t.largestBatchId,DF(n.re,t.overlayMutation))}function Qj(n,t){const e=t.path.lastSegment();return[n,Ao(t.path.popLast()),e]}function Jj(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:$g(i.readTime),documentKey:Ao(i.documentKey.path),largestBatchId:i.largestBatchId}}class qZ{getBundleMetadata(t,e){return Xj(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:zg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Xj(t).put({bundleId:(i=e).id,createTime:$g(Es(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return eG(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:MF(r.bundledQuery),readTime:zg(r.readTime)};var r})}saveNamedQuery(t,e){return eG(t).put({name:(i=e).name,readTime:$g(Es(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Xj(n){return xs(n,"bundles")}function eG(n){return xs(n,"namedQueries")}class OS{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new OS(t,e.uid||"")}getOverlay(t,e){return pC(t).get(Qj(this.userId,e)).next(i=>i?RF(this.It,i):null)}getOverlays(t,e){const i=Ou();return Fe.forEach(e,r=>this.getOverlay(t,r).next(l=>{null!==l&&i.set(r,l)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((l,d)=>{const p=new TF(e,d);r.push(this.ue(t,p))}),Fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(d=>r.add(Ao(d.getCollectionPath())));const l=[];return r.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);l.push(pC(t).Y("collectionPathOverlayIndex",p))}),Fe.waitFor(l)}getOverlaysForCollection(t,e,i){const r=Ou(),l=Ao(e),d=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return pC(t).W("collectionPathOverlayIndex",d).next(p=>{for(const v of p){const E=RF(this.It,v);r.set(E.getKey(),E)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const l=Ou();let d;const p=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pC(t).Z({index:"collectionGroupOverlayIndex",range:p},(v,E,M)=>{const k=RF(this.It,E);l.size()<r||k.largestBatchId===d?(l.set(k.getKey(),k),d=k.largestBatchId):M.done()}).next(()=>l)}ue(t,e){return pC(t).put(function(i,r,l){const[d,p,v]=Qj(r,l.mutation.key);return{userId:r,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:hC(i.re,l.mutation)}}(this.It,this.userId,e))}}function pC(n){return xs(n,"documentOverlays")}class Wg{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(wr(t.integerValue));else if("doubleValue"in t){const i=wr(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Qw(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Bg(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?W6(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):At()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),gt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function WZ(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function tG(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const l=WZ(255&e[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(t/8)}Wg.Te=new Wg;class ZZ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=tG(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=tG(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class YZ{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class KZ{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class gC{constructor(){this.Be=new ZZ,this.Le=new YZ(this.Be),this.Ue=new KZ(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Zg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Zg(this.indexId,this.documentKey,this.arrayValue,i)}}function Yg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=nG(n.arrayValue,t.arrayValue),0!==e?e:(e=nG(n.directionalValue,t.directionalValue),0!==e?e:gt.comparator(n.documentKey,t.documentKey)))}function nG(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class QZ{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=uF(t);if(void 0!==e&&!this.ze(e))return!1;const i=Fg(t);let r=0,l=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const d=i[r];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class JZ{constructor(){this.Ye=new kF}addToCollectionParentIndex(t,e){return this.Ye.add(e),Fe.resolve()}getCollectionParents(t,e){return Fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return Fe.resolve()}deleteFieldIndex(t,e){return Fe.resolve()}getDocumentsMatchingTarget(t,e){return Fe.resolve(null)}getIndexType(t,e){return Fe.resolve(0)}getFieldIndexes(t,e){return Fe.resolve([])}getNextCollectionGroupToUpdate(t){return Fe.resolve(null)}getMinOffset(t,e){return Fe.resolve(Ra.min())}getMinOffsetFromCollectionGroup(t,e){return Fe.resolve(Ra.min())}updateCollectionGroup(t,e,i){return Fe.resolve()}updateIndexEntries(t,e){return Fe.resolve()}}class kF{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new yi($n.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new yi($n.comparator)).toArray()}}const PS=new Uint8Array(0);class XZ{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new kF,this.Ze=new Af(i=>jg(i),(i,r)=>tC(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const l={collectionId:i,parent:Ao(r)};return iG(t).put(l)}return Fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[O6(e),""],!1,!0);return iG(t).W(r).next(l=>{for(const d of l){if(d.collectionId!==e)break;i.push(Fu(d.parent))}return i})}addFieldIndex(t,e){const i=FS(t),r={indexId:(d=e).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete r.indexId;const l=i.add(r);if(e.indexState){const d=yC(t);return l.next(p=>{d.put(Jj(p,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return l.next()}deleteFieldIndex(t,e){const i=FS(t),r=yC(t),l=mC(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=mC(t);let r=!0;const l=new Map;return Fe.forEach(this.tn(e),d=>this.en(t,d).next(p=>{r&&(r=!!p),l.set(d,p)})).next(()=>{if(r){let d=bn();const p=[];return Fe.forEach(l,(v,E)=>{var M;st("IndexedDbIndexManager",`Using index ${M=v,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${jg(e)}`);const k=function(Ct,bt){const Ft=uF(bt);if(void 0===Ft)return null;for(const Bt of xS(Ct,Ft.fieldPath))switch(Bt.op){case"array-contains-any":return Bt.value.arrayValue.values||[];case"array-contains":return[Bt.value]}return null}(E,v),z=function(Ct,bt){const Ft=new Map;for(const Bt of Fg(bt))for(const In of xS(Ct,Bt.fieldPath))switch(In.op){case"==":case"in":Ft.set(Bt.fieldPath.canonicalString(),In.value);break;case"not-in":case"!=":return Ft.set(Bt.fieldPath.canonicalString(),In.value),Array.from(Ft.values())}return null}(E,v),W=function(Ct,bt){const Ft=[];let Bt=!0;for(const In of Fg(bt)){const Is=0===In.kind?J6(Ct,In.fieldPath,Ct.startAt):X6(Ct,In.fieldPath,Ct.startAt);Ft.push(Is.value),Bt&&(Bt=Is.inclusive)}return new If(Ft,Bt)}(E,v),te=function(Ct,bt){const Ft=[];let Bt=!0;for(const In of Fg(bt)){const Is=0===In.kind?X6(Ct,In.fieldPath,Ct.endAt):J6(Ct,In.fieldPath,Ct.endAt);Ft.push(Is.value),Bt&&(Bt=Is.inclusive)}return new If(Ft,Bt)}(E,v),Ee=this.nn(v,E,W),Be=this.nn(v,E,te),Ze=this.sn(v,E,z),ht=this.rn(v.indexId,k,Ee,W.inclusive,Be,te.inclusive,Ze);return Fe.forEach(ht,Ct=>i.J(Ct,e.limit).next(bt=>{bt.forEach(Ft=>{const Bt=gt.fromSegments(Ft.documentKey);d.has(Bt)||(d=d.add(Bt),p.push(Bt))})}))}).next(()=>p)}return Fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,l,d,p){const v=(null!=e?e.length:1)*Math.max(i.length,l.length),E=v/(null!=e?e.length:1),M=[];for(let k=0;k<v;++k){const z=e?this.on(e[k/E]):PS,W=this.un(t,z,i[k%E],r),te=this.cn(t,z,l[k%E],d),Ee=p.map(Be=>this.un(t,z,Be,!0));M.push(...this.createRange(W,te,Ee))}return M}un(t,e,i,r){const l=new Zg(t,gt.empty(),e,i);return r?l:l.Ke()}cn(t,e,i,r){const l=new Zg(t,gt.empty(),e,i);return r?l.Ke():l}en(t,e){const i=new QZ(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(l=>{let d=null;for(const p of l)i.We(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(t,e){let i=2;return Fe.forEach(this.tn(e),r=>this.en(t,r).next(l=>{l?0!==i&&l.fields.length<function(d){let p=new yi(vr.comparator),v=!1;for(const E of d.filters){const M=E;M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?v=!0:p=p.add(M.field))}for(const E of d.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(v?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new gC;for(const r of Fg(t)){const l=e.data.field(r.fieldPath);if(null==l)return null;const d=i.qe(r.kind);Wg.Te.ce(l,d)}return i.$e()}on(t){const e=new gC;return Wg.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new gC;return Wg.Te.ce(Ug(this.databaseId,e),i.qe(function(r){const l=Fg(r);return 0===l.length?0:l[l.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new gC);let l=0;for(const d of Fg(t)){const p=i[l++];for(const v of r)if(this.ln(e,d.fieldPath)&&Xw(p))r=this.fn(r,d,p);else{const E=v.qe(d.kind);Wg.Te.ce(p,E)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],l=[];for(const d of i.arrayValue.values||[])for(const p of r){const v=new gC;v.seed(p.$e()),Wg.Te.ce(d,v.qe(e.kind)),l.push(v)}return l}ln(t,e){return!!t.filters.find(i=>i instanceof Us&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=FS(t),r=yC(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(l=>{const d=[];return Fe.forEach(l,p=>r.get([p.indexId,this.uid]).next(v=>{d.push(function(E,M){const k=M?new Ww(M.sequenceNumber,new Ra(zg(M.readTime),new gt(Fu(M.documentKey)),M.largestBatchId)):Ww.empty(),z=E.fields.map(([W,te])=>new _S(vr.fromServerFormat(W),te));return new yS(E.indexId,E.collectionGroup,z,k)}(p,v))})).next(()=>d)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:hn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=FS(t),l=yC(t);return this._n(t).next(d=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(p=>Fe.forEach(p,v=>l.put(Jj(v.indexId,this.user,d,i)))))}updateIndexEntries(t,e){const i=new Map;return Fe.forEach(e,(r,l)=>{const d=i.get(r.collectionGroup);return(d?Fe.resolve(d):this.getFieldIndexes(t,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),Fe.forEach(p,v=>this.wn(t,r,v).next(E=>{const M=this.mn(l,v);return E.isEqual(M)?Fe.resolve():this.gn(t,l,v,E,M)}))))})}yn(t,e,i,r){return mC(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return mC(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=mC(t);let l=new yi(Yg);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(d,p)=>{l=l.add(new Zg(i.indexId,e,p.arrayValue,p.directionalValue))}).next(()=>l)}mn(t,e){let i=new yi(Yg);const r=this.an(e,t);if(null==r)return i;const l=uF(e);if(null!=l){const d=t.data.field(l.fieldPath);if(Xw(d))for(const p of d.arrayValue.values||[])i=i.add(new Zg(e.indexId,t.key,this.on(p),r))}else i=i.add(new Zg(e.indexId,t.key,PS,r));return i}gn(t,e,i,r,l){st("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const d=[];return function(p,v,E,M,k){const z=p.getIterator(),W=v.getIterator();let te=I_(z),Ee=I_(W);for(;te||Ee;){let Be=!1,Ze=!1;if(te&&Ee){const ht=E(te,Ee);ht<0?Ze=!0:ht>0&&(Be=!0)}else null!=te?Ze=!0:Be=!0;Be?(M(Ee),Ee=I_(W)):Ze?(k(te),te=I_(z)):(te=I_(z),Ee=I_(W))}}(r,l,Yg,p=>{d.push(this.yn(t,e,i,p))},p=>{d.push(this.pn(t,e,i,p))}),Fe.waitFor(d)}_n(t){let e=1;return yC(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((d,p)=>Yg(d,p)).filter((d,p,v)=>!p||0!==Yg(d,v[p-1]));const r=[];r.push(t);for(const d of i){const p=Yg(d,t),v=Yg(d,e);if(0===p)r[0]=t.Ke();else if(p>0&&v<0)r.push(d),r.push(d.Ke());else if(v>0)break}r.push(e);const l=[];for(let d=0;d<r.length;d+=2)l.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,PS,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,PS,[]]));return l}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(rG)}getMinOffset(t,e){return Fe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||At())).next(rG)}}function iG(n){return xs(n,"collectionParents")}function mC(n){return xs(n,"indexEntries")}function FS(n){return xs(n,"indexConfiguration")}function yC(n){return xs(n,"indexState")}function rG(n){an(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;dF(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ra(t.readTime,t.documentKey,e)}const sG={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ea{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new ea(t,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oG(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],d=IDBKeyRange.only(e.batchId);let p=0;const v=i.Z({range:d},(M,k,z)=>(p++,z.delete()));l.push(v.next(()=>{an(1===p)}));const E=[];for(const M of e.mutations){const k=$j(t,M.key.path,e.batchId);l.push(r.delete(k)),E.push(M.key)}return Fe.waitFor(l).next(()=>E)}function NS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw At();t=n.noDocument}return JSON.stringify(t).length}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class LS{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){an(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new LS(l,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tf(t).Z({index:"userMutationsIndex",range:i},(r,l,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const l=L_(t),d=Tf(t);return d.add({}).next(p=>{an("number"==typeof p);const v=new AF(p,e,i,r),E=function(z,W,te){const Ee=te.baseMutations.map(Ze=>hC(z.re,Ze)),Be=te.mutations.map(Ze=>hC(z.re,Ze));return{userId:W,batchId:te.batchId,localWriteTimeMs:te.localWriteTime.toMillis(),baseMutations:Ee,mutations:Be}}(this.It,this.userId,v),M=[];let k=new yi((z,W)=>hn(z.canonicalString(),W.canonicalString()));for(const z of r){const W=$j(this.userId,z.key.path,p);k=k.add(z.key.path.popLast()),M.push(d.put(E)),M.push(l.put(W,SZ))}return k.forEach(z=>{M.push(this.indexManager.addToCollectionParentIndex(t,z))}),t.addOnCommittedListener(()=>{this.In[p]=v.keys()}),Fe.waitFor(M).next(()=>v)})}lookupMutationBatch(t,e){return Tf(t).get(e).next(i=>i?(an(i.userId===this.userId),qg(this.It,i)):null)}Tn(t,e){return this.In[e]?Fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Tf(t).Z({index:"userMutationsIndex",range:r},(d,p,v)=>{p.userId===this.userId&&(an(p.batchId>=i),l=qg(this.It,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Tf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,l,d)=>{i=l.batchId,d.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tf(t).W("userMutationsIndex",e).next(i=>i.map(r=>qg(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=RS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),l=[];return L_(t).Z({range:r},(d,p,v)=>{const[E,M,k]=d,z=Fu(M);if(E===this.userId&&e.path.isEqual(z))return Tf(t).get(k).next(W=>{if(!W)throw At();an(W.userId===this.userId),l.push(qg(this.It,W))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yi(hn);const r=[];return e.forEach(l=>{const d=RS(this.userId,l.path),p=IDBKeyRange.lowerBound(d),v=L_(t).Z({range:p},(E,M,k)=>{const[z,W,te]=E,Ee=Fu(W);z===this.userId&&l.path.isEqual(Ee)?i=i.add(te):k.done()});r.push(v)}),Fe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,l=RS(this.userId,i),d=IDBKeyRange.lowerBound(l);let p=new yi(hn);return L_(t).Z({range:d},(v,E,M)=>{const[k,z,W]=v,te=Fu(z);k===this.userId&&i.isPrefixOf(te)?te.length===r&&(p=p.add(W)):M.done()}).next(()=>this.En(t,p))}En(t,e){const i=[],r=[];return e.forEach(l=>{r.push(Tf(t).get(l).next(d=>{if(null===d)throw At();an(d.userId===this.userId),i.push(qg(this.It,d))}))}),Fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return oG(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),Fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return L_(t).Z({range:i},(l,d,p)=>{if(l[0]===this.userId){const v=Fu(l[1]);r.push(v)}else p.done()}).next(()=>{an(0===r.length)})})}containsKey(t,e){return aG(t,this.userId,e)}Rn(t){return lG(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aG(n,t,e){const i=RS(t,e.path),r=i[1],l=IDBKeyRange.lowerBound(i);let d=!1;return L_(n).Z({range:l,X:!0},(p,v,E)=>{const[M,k,z]=p;M===t&&k===r&&(d=!0),E.done()}).next(()=>d)}function Tf(n){return xs(n,"mutations")}function L_(n){return xs(n,"documentMutations")}function lG(n){return xs(n,"mutationQueues")}class Kg{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Kg(0)}static vn(){return new Kg(-1)}}class eY{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Kg(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Jt.fromTimestamp(new Qi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>B_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(an(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const l=[];return B_(t).Z((d,p)=>{const v=fC(p);v.sequenceNumber<=e&&null===i.get(v.targetId)&&(r++,l.push(this.removeTargetData(t,v)))}).next(()=>Fe.waitFor(l)).next(()=>r)}forEachTarget(t,e){return B_(t).Z((i,r)=>{const l=fC(r);e(l)})}Vn(t){return cG(t).get("targetGlobalKey").next(e=>(an(null!==e),e))}Sn(t,e){return cG(t).put("targetGlobalKey",e)}Dn(t,e){return B_(t).put(Kj(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=jg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return B_(t).Z({range:r,index:"queryTargetsIndex"},(d,p,v)=>{const E=fC(p);tC(e,E.target)&&(l=E,v.done())}).next(()=>l)}addMatchingKeys(t,e,i){const r=[],l=Mf(t);return e.forEach(d=>{const p=Ao(d.path);r.push(l.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(t,i,d))}),Fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=Mf(t);return Fe.forEach(e,l=>{const d=Ao(l.path);return Fe.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=Mf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mf(t);let l=bn();return r.Z({range:i,X:!0},(d,p,v)=>{const E=Fu(d[1]),M=new gt(E);l=l.add(M)}).next(()=>l)}containsKey(t,e){const i=Ao(e.path),r=IDBKeyRange.bound([i],[O6(i)],!1,!0);let l=0;return Mf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([d,p],v,E)=>{0!==d&&(l++,E.done())}).next(()=>l>0)}se(t,e){return B_(t).get(e).next(i=>i?fC(i):null)}}function B_(n){return xs(n,"targets")}function cG(n){return xs(n,"targetGlobal")}function Mf(n){return xs(n,"targetDocuments")}function uG([n,t],[e,i]){const r=hn(n,e);return 0===r?hn(t,i):r}class tY{constructor(t){this.xn=t,this.buffer=new yi(uG),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();uG(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class nY{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;st("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,$e.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){wf(i)?st("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield bf(i)}yield e.Fn(3e5)}))}}class iY{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Fe.resolve(Qo.at);const i=new tY(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(sG)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sG):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,l,d,p,v,E;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),r=this.params.maximumSequenceNumbersToCollect):r=k,d=Date.now(),this.nthSequenceNumber(t,r))).next(k=>(i=k,p=Date.now(),this.removeTargets(t,i,e))).next(k=>(l=k,v=Date.now(),this.removeOrphanedDocuments(t,i))).next(k=>(E=Date.now(),lF()<=Rl.in.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${r} in `+(p-d)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${k} documents in `+(E-v)+`ms\nTotal Duration: ${E-M}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:k})))}}class rY{constructor(t,e){this.db=t,this.garbageCollector=new iY(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return BS(t,i)}removeReference(t,e,i){return BS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return BS(t,e)}Gn(t,e){return function(i,r){let l=!1;return lG(i).tt(d=>aG(i,d,r).next(p=>(p&&(l=!0),Fe.resolve(!p)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Kn(t,(d,p)=>{if(p<=e){const v=this.Gn(t,d).next(E=>{if(!E)return l++,i.getEntry(t,d).next(()=>(i.removeEntry(d,Jt.min()),Mf(t).delete([0,Ao(d.path)])))});r.push(v)}}).next(()=>Fe.waitFor(r)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return BS(t,e)}Kn(t,e){const i=Mf(t);let r,l=Qo.at;return i.Z({index:"documentTargetsIndex"},([d,p],{path:v,sequenceNumber:E})=>{0===d?(l!==Qo.at&&e(new gt(Fu(r)),l),l=E,r=v):l=Qo.at}).next(()=>{l!==Qo.at&&e(new gt(Fu(r)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function BS(n,t){return Mf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ao(t.path),sequenceNumber:i}));var i}class dG{constructor(){this.changes=new Af(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Pi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sY{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Qg(t).put(i)}removeEntry(t,e,i){return Qg(t).delete(function(r,l){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],kS(l),d[d.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=Pi.newInvalidDocument(e);return Qg(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_C(e))},(r,l)=>{i=this.jn(e,l)}).next(()=>i)}Wn(t,e){let i={size:0,document:Pi.newInvalidDocument(e)};return Qg(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_C(e))},(r,l)=>{i={document:this.jn(e,l),size:NS(l)}}).next(()=>i)}getEntries(t,e){let i=Xo();return this.zn(t,e,(r,l)=>{const d=this.jn(r,l);i=i.insert(r,d)}).next(()=>i)}Hn(t,e){let i=Xo(),r=new br(gt.comparator);return this.zn(t,e,(l,d)=>{const p=this.jn(l,d);i=i.insert(l,p),r=r.insert(l,NS(d))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return Fe.resolve();let r=new yi(gG);e.forEach(v=>r=r.add(v));const l=IDBKeyRange.bound(_C(r.first()),_C(r.last())),d=r.getIterator();let p=d.getNext();return Qg(t).Z({index:"documentKeyIndex",range:l},(v,E,M)=>{const k=gt.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&gG(p,k)<0;)i(p,null),p=d.getNext();p&&p.isEqual(k)&&(i(p,E),p=d.hasNext()?d.getNext():null),p?M.j(_C(p)):M.done()}).next(()=>{for(;p;)i(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),kS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qg(t).W(IDBKeyRange.bound(r,l,!0)).next(d=>{let p=Xo();for(const v of d){const E=this.jn(gt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(E.key,E)}return p})}getAllFromCollectionGroup(t,e,i,r){let l=Xo();const d=pG(e,i),p=pG(e,Ra.max());return Qg(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(v,E,M)=>{const k=this.jn(gt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(k.key,k),l.size===r&&M.done()}).next(()=>l)}newChangeBuffer(t){return new oY(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return fG(t).get("remoteDocumentGlobalKey").next(e=>(an(!!e),e))}Qn(t,e){return fG(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function zZ(n,t){let e;if(t.document)e=Nj(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=gt.fromSegments(t.noDocument.path),r=zg(t.noDocument.readTime);e=Pi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return At();{const i=gt.fromSegments(t.unknownDocument.path),r=zg(t.unknownDocument.version);e=Pi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Qi(i[0],i[1]);return Jt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Jt.min()))return i}return Pi.newInvalidDocument(t)}}function hG(n){return new sY(n)}class oY extends dG{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Af(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new yi((l,d)=>hn(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const p=this.Xn.get(l);if(e.push(this.Yn.removeEntry(t,l,p.readTime)),d.isValidDocument()){const v=Yj(this.Yn.It,d);r=r.add(l.path.popLast()),i+=NS(v)-p.size,e.push(this.Yn.addEntry(t,l,v))}else if(i-=p.size,this.trackRemovals){const v=Yj(this.Yn.It,d.convertToNoDocument(Jt.min()));e.push(this.Yn.addEntry(t,l,v))}}),r.forEach(l=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.Yn.updateMetadata(t,i)),Fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:i.get(l).readTime})}),i))}}function fG(n){return xs(n,"remoteDocumentGlobal")}function Qg(n){return xs(n,"remoteDocumentsV14")}function _C(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function pG(n,t){const e=t.documentKey.path.toArray();return[n,kS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function gG(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(r=hn(e[l],i[l]),r)return r;return r=hn(e.length,i.length),r||(r=hn(e[e.length-2],i[i.length-2]),r||hn(e[e.length-1],i[i.length-1]))}class aY{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class mG{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&rC(i.mutation,r,ka.empty(),Qi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,bn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=bn()){const r=Ou();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(l=>{let d=sC();return l.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=Ou();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,bn()))}populateOverlays(t,e,i){const r=[];return i.forEach(l=>{e.has(l)||r.push(l)}),this.documentOverlayCache.getOverlays(t,r).next(l=>{l.forEach((d,p)=>{e.set(d,p)})})}computeViews(t,e,i,r){let l=Xo();const d=oC(),p=oC();return e.forEach((v,E)=>{const M=i.get(E.key);r.has(E.key)&&(void 0===M||M.mutation instanceof th)?l=l.insert(E.key,E):void 0!==M&&(d.set(E.key,M.mutation.getFieldMask()),rC(M.mutation,E,M.mutation.getFieldMask(),Qi.now()))}),this.recalculateAndSaveOverlays(t,l).next(v=>(v.forEach((E,M)=>d.set(E,M)),e.forEach((E,M)=>{var k;return p.set(E,new aY(M,null!==(k=d.get(E))&&void 0!==k?k:null))}),p))}recalculateAndSaveOverlays(t,e){const i=oC();let r=new br((d,p)=>d-p),l=bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const p of d)p.keys().forEach(v=>{const E=e.get(v);if(null===E)return;let M=i.get(v)||ka.empty();M=p.applyToLocalView(E,M),i.set(v,M);const k=(r.get(p.batchId)||bn()).add(v);r=r.insert(p.batchId,k)})}).next(()=>{const d=[],p=r.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),E=v.key,M=v.value,k=Dj();M.forEach(z=>{if(!l.has(z)){const W=mj(e.get(z),i.get(z));null!==W&&k.set(z,W),l=l.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(t,E,k))}return Fe.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return gt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):vF(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(l=>{const d=r-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-l.size):Fe.resolve(Ou());let p=-1,v=l;return d.next(E=>Fe.forEach(E,(M,k)=>(p<k.largestBatchId&&(p=k.largestBatchId),l.get(M)?Fe.resolve():this.getBaseDocument(t,M,k).next(z=>{v=v.insert(M,z)}))).next(()=>this.populateOverlays(t,E,l)).next(()=>this.computeViews(t,v,E,bn())).next(M=>({batchId:p,changes:xj(M)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new gt(e)).next(i=>{let r=sC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let l=sC();return this.indexManager.getCollectionParents(t,r).next(d=>Fe.forEach(d,p=>{const v=(E=e,M=p.child(r),new eh(M,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,M;return this.getDocumentsMatchingCollectionQuery(t,v,i).next(E=>{E.forEach((M,k)=>{l=l.insert(M,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(l=>(r=l,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(l=>{l.forEach((p,v)=>{const E=v.getKey();null===r.get(E)&&(r=r.insert(E,Pi.newInvalidDocument(E)))});let d=sC();return r.forEach((p,v)=>{const E=l.get(p);void 0!==E&&rC(E.mutation,v,ka.empty(),Qi.now()),wF(e,v)&&(d=d.insert(p,v))}),d})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):Fe.resolve(Pi.newInvalidDocument(e))}}class lY{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return Fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Es(i.createTime)}),Fe.resolve()}getNamedQuery(t,e){return Fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:MF(i.bundledQuery),readTime:Es(i.readTime)}),Fe.resolve();var i}}class cY{constructor(){this.overlays=new br(gt.comparator),this.es=new Map}getOverlay(t,e){return Fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ou();return Fe.forEach(e,r=>this.getOverlay(t,r).next(l=>{null!==l&&i.set(r,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,l)=>{this.ue(t,e,l)}),Fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(i)),Fe.resolve()}getOverlaysForCollection(t,e,i){const r=Ou(),l=e.length+1,d=new gt(e.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,E=v.getKey();if(!e.isPrefixOf(E.path))break;E.path.length===l&&v.largestBatchId>i&&r.set(v.getKey(),v)}return Fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let l=new br((E,M)=>E-M);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===e&&E.largestBatchId>i){let M=l.get(E.largestBatchId);null===M&&(M=Ou(),l=l.insert(E.largestBatchId,M)),M.set(E.getKey(),E)}}const p=Ou(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,M)=>p.set(E,M)),!(p.size()>=r)););return Fe.resolve(p)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new TF(e,i));let l=this.es.get(e);void 0===l&&(l=bn(),this.es.set(e,l)),this.es.set(e,l.add(i.key))}}class OF{constructor(){this.ns=new yi(Ds.ss),this.rs=new yi(Ds.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Ds(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Ds(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new gt(new $n([])),i=new Ds(e,t),r=new Ds(e,t+1),l=[];return this.rs.forEachInRange([i,r],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new gt(new $n([])),i=new Ds(e,t),r=new Ds(e,t+1);let l=bn();return this.rs.forEachInRange([i,r],d=>{l=l.add(d.key)}),l}containsKey(t){const e=new Ds(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ds{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return gt.comparator(t.key,e.key)||hn(t._s,e._s)}static os(t,e){return hn(t._s,e._s)||gt.comparator(t.key,e.key)}}class uY{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new yi(Ds.ss)}checkEmpty(t){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const l=this.ws;this.ws++;const d=new AF(l,e,i,r);this.mutationQueue.push(d);for(const p of r)this.gs=this.gs.add(new Ds(p.key,l)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Fe.resolve(d)}lookupMutationBatch(t,e){return Fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),l=r<0?0:r;return Fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ds(e,0),r=new Ds(e,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([i,r],d=>{const p=this.ys(d._s);l.push(p)}),Fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yi(hn);return e.forEach(r=>{const l=new Ds(r,0),d=new Ds(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],p=>{i=i.add(p._s)})}),Fe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;gt.isDocumentKey(l)||(l=l.child(""));const d=new Ds(new gt(l),0);let p=new yi(hn);return this.gs.forEachWhile(v=>{const E=v.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(p=p.add(v._s)),!0)},d),Fe.resolve(this.Is(p))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){an(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return Fe.forEach(e.mutations,r=>{const l=new Ds(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Ds(e,0),r=this.gs.firstAfterOrEqual(i);return Fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class dY{constructor(t){this.Es=t,this.docs=new br(gt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),l=r?r.size:0,d=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Fe.resolve(i?i.document.mutableCopy():Pi.newInvalidDocument(e))}getEntries(t,e){let i=Xo();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Pi.newInvalidDocument(r))}),Fe.resolve(i)}getAllFromCollection(t,e,i){let r=Xo();const l=new gt(e.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!e.isPrefixOf(p.path))break;p.path.length>e.length+1||dF(F6(v),i)<=0||(r=r.insert(v.key,v.mutableCopy()))}return Fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){At()}As(t,e){return Fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new hY(this)}getSize(t){return Fe.resolve(this.size)}}class hY extends dG{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),Fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class fY{constructor(t){this.persistence=t,this.Rs=new Af(e=>jg(e),tC),this.lastRemoteSnapshotVersion=Jt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new OF,this.targetCount=0,this.vs=Kg.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),Fe.resolve()}getLastRemoteSnapshotVersion(t){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),Fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Kg(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,Fe.resolve()}updateTargetData(t,e){return this.Dn(e),Fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Rs.forEach((d,p)=>{p.sequenceNumber<=e&&null===i.get(p.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(t,p.targetId)),r++)}),Fe.waitFor(l).next(()=>r)}getTargetCount(t){return Fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return Fe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),Fe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(d=>{l.push(r.markPotentiallyOrphaned(t,d))}),Fe.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),Fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return Fe.resolve(i)}containsKey(t,e){return Fe.resolve(this.Ps.containsKey(e))}}class yG{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Qo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new fY(this),this.indexManager=new JZ,this.remoteDocumentCache=new dY(i=>this.referenceDelegate.xs(i)),this.It=new Zj(e),this.Ns=new lY(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new cY,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new uY(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){st("MemoryPersistence","Starting transaction:",t);const r=new pY(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(l=>this.referenceDelegate.Ms(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Os(t,e){return Fe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class pY extends L6{constructor(t){super(),this.currentSequenceNumber=t}}class VS{constructor(t){this.persistence=t,this.Fs=new OF,this.$s=null}static Bs(t){return new VS(t)}get Ls(){if(this.$s)return this.$s;throw At()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),Fe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),Fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),Fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.Ls.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ls,i=>{const r=gt.fromPath(i);return this.Us(t,r).next(l=>{l||e.removeEntry(r,Jt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return Fe.or([()=>Fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class gY{constructor(t){this.It=t}$(t,e,i,r){const l=new vS("createOrUpgrade",e);var p;i<1&&r>=1&&(t.createObjectStore("owner"),(p=t).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hj,{unique:!0}),p.createObjectStore("documentMutations"),_G(t),function(p){p.createObjectStore("remoteDocuments")}(t));let d=Fe.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(t),_G(t)),d=d.next(()=>function(p){const v=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Jt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(l))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(p,v){return v.store("mutations").W().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hj,{unique:!0});const M=v.store("mutations"),k=E.map(z=>M.put(z));return Fe.waitFor(k)})}(t,l))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(d=d.next(()=>this.qs(l))),i<6&&r>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(l)))),i<7&&r>=7&&(d=d.next(()=>this.Gs(l))),i<8&&r>=8&&(d=d.next(()=>this.Qs(t,l))),i<9&&r>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(d=d.next(()=>this.js(l))),i<11&&r>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(d=d.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:UZ});v.createIndex("collectionPathOverlayIndex",jZ,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",GZ,{unique:!1})}(t)})),i<13&&r>=13&&(d=d.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:TZ});v.createIndex("documentKeyIndex",MZ),v.createIndex("collectionGroupIndex",RZ)}(t)).next(()=>this.Ws(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.zs(t,l))),i<15&&r>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:NZ}).createIndex("sequenceNumberIndex",LZ,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:BZ}).createIndex("documentKeyIndex",VZ,{unique:!1})}(t))),d}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=NS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>Fe.forEach(r,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",d).next(p=>Fe.forEach(p,v=>{an(v.userId===l.userId);const E=qg(this.It,v);return oG(t,l.userId,E).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Z((d,p)=>{const v=new $n(d),E=[0,Ao(v)];l.push(e.get(E).next(M=>M?Fe.resolve():e.put({targetId:0,path:Ao(v),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(l))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:FZ});const i=e.store("collectionParents"),r=new kF,l=d=>{if(r.add(d)){const p=d.lastSegment(),v=d.popLast();return i.put({collectionId:p,parent:Ao(v)})}};return e.store("remoteDocuments").Z({X:!0},(d,p)=>{const v=new $n(d);return l(v.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([d,p,v],E)=>{const M=Fu(p);return l(M.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const l=fC(r),d=Kj(this.It,l);return e.put(d)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((l,d)=>{const p=e.store("remoteDocumentsV14"),v=(E=d,E.document?new gt($n.fromString(E.document.name).popFirst(5)):E.noDocument?gt.fromSegments(E.noDocument.path):E.unknownDocument?gt.fromSegments(E.unknownDocument.path):At()).path.toArray();var E;const M={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(p.put(M))}).next(()=>Fe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=hG(this.It),l=new yG(VS.Bs,this.It.re);return i.W().next(d=>{const p=new Map;return d.forEach(v=>{var E;let M=null!==(E=p.get(v.userId))&&void 0!==E?E:bn();qg(this.It,v).keys().forEach(k=>M=M.add(k)),p.set(v.userId,M)}),Fe.forEach(p,(v,E)=>{const M=new ws(E),k=OS.oe(this.It,M),z=l.getIndexManager(M),W=LS.oe(M,this.It,z,l.referenceDelegate);return new mG(r,W,k,z).recalculateAndSaveOverlaysForDocumentKeys(new IF(e,Qo.at),v).next()})})}}function _G(n){n.createObjectStore("targetDocuments",{keyPath:OZ}).createIndex("documentTargetsIndex",PZ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kZ,{unique:!0}),n.createObjectStore("targetGlobal")}const PF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FF{constructor(t,e,i,r,l,d,p,v,E,M,k=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=l,this.window=d,this.document=p,this.Js=E,this.Ys=M,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=z=>Promise.resolve(),!FF.C())throw new it(je.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rY(this,r),this.ii=e+"main",this.It=new Zj(v),this.ri=new Pc(this.ii,this.Xs,new gY(this.It)),this.Cs=new eY(this.referenceDelegate,this.It),this.remoteDocumentCache=hG(this.It),this.Ns=new qZ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===M&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new it(je.FAILED_PRECONDITION,PF);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Qo(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,$e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,$e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,$e.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>US(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(wf(t))return st("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return st("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return vC(t).get("owner").next(e=>Fe.resolve(this.mi(e)))}gi(t){return US(t).delete(this.clientId)}yi(){var t=this;return(0,$e.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=xs(i,"clientMetadata");return r.W().next(l=>{const d=t.Ii(l,18e5),p=l.filter(v=>-1===d.indexOf(v));return Fe.forEach(p,v=>r.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?Fe.resolve(!0):vC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new it(je.FAILED_PRECONDITION,PF);return!1}}return!(!this.networkEnabled||!this.inForeground)||US(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,p=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&p)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&st("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,$e.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new IF(e,Qo.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>US(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return LS.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new XZ(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return OS.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){st("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",l=15===(d=this.Xs)?$Z:14===d?Wj:13===d?qj:12===d?HZ:11===d?zj:void At();var d;let p;return this.ri.runTransaction(t,r,l,v=>(p=new IF(v,this.Ss?this.Ss.next():Qo.at),"readwrite-primary"===e?this.fi(p).next(E=>!!E||this.di(p)).next(E=>{if(!E)throw Rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new it(je.FAILED_PRECONDITION,N6);return i(p)}).next(E=>this.wi(p).next(()=>E)):this.Vi(p).next(()=>i(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Vi(t){return vC(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new it(je.FAILED_PRECONDITION,PF)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vC(t).put("owner",e)}static C(){return Pc.C()}_i(t){const e=vC(t);return e.get("owner").next(i=>this.mi(i)?(st("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Fe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Wn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return st("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){Rr("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function vC(n){return xs(n,"owner")}function US(n){return xs(n,"clientMetadata")}function NF(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class LF{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=bn(),r=bn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new LF(t,e.fromCache,i,r)}}class vG{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(l=>l||this.Mi(t,e,r,i)).next(l=>l||this.Oi(t,e))}ki(t,e){if(rj(e))return Fe.resolve(null);let i=Jo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=DS(e,null,"F"),i=Jo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const d=bn(...l);return this.Ni.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,i).next(v=>{const E=this.Fi(e,p);return this.$i(e,E,d,v.readTime)?this.ki(t,DS(e,null,"F")):this.Bi(t,E,e,v)}))})))}Mi(t,e,i,r){return rj(e)||r.isEqual(Jt.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(l=>{const d=this.Fi(e,l);return this.$i(e,d,i,r)?this.Oi(t,e):(lF()<=Rl.in.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bF(e)),this.Bi(t,d,e,P6(r,-1)))})}Fi(t,e){let i=new yi(aj(t));return e.forEach((r,l)=>{wF(t,l)&&(i=i.add(l))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Oi(t,e){return lF()<=Rl.in.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",bF(e)),this.Ni.getDocumentsMatchingQuery(t,e,Ra.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(l=>(e.forEach(d=>{l=l.insert(d.key,d)}),l))}}class mY{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new br(hn),this.qi=new Af(l=>jg(l),tC),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mG(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function bG(n,t,e,i){return new mY(n,t,e,i)}function wG(n,t){return BF.apply(this,arguments)}function BF(){return BF=(0,$e.Z)(function*(n,t){const e=_t(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(l=>(r=l,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],p=[];let v=bn();for(const E of r){d.push(E.batchId);for(const M of E.mutations)v=v.add(M.key)}for(const E of l){p.push(E.batchId);for(const M of E.mutations)v=v.add(M.key)}return e.localDocuments.getDocuments(i,v).next(E=>({ji:E,removedBatchIds:d,addedBatchIds:p}))})})}),BF.apply(this,arguments)}function yY(n,t){const e=_t(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.Gi.newChangeBuffer({trackRemovals:!0});return function(d,p,v,E){const M=v.batch,k=M.keys();let z=Fe.resolve();return k.forEach(W=>{z=z.next(()=>E.getEntry(p,W)).next(te=>{const Ee=v.docVersions.get(W);an(null!==Ee),te.version.compareTo(Ee)<0&&(M.applyToRemoteDocument(te,v),te.isValidDocument()&&(te.setReadTime(v.commitVersion),E.addEntry(te)))})}),z.next(()=>d.mutationQueue.removeMutationBatch(p,M))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=bn();for(let v=0;v<d.mutationResults.length;++v)d.mutationResults[v].transformResults.length>0&&(p=p.add(d.batch.mutations[v].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function CG(n){const t=_t(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function _Y(n,t){const e=_t(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const p=[];t.targetChanges.forEach((M,k)=>{const z=r.get(k);if(!z)return;p.push(e.Cs.removeMatchingKeys(l,M.removedDocuments,k).next(()=>e.Cs.addMatchingKeys(l,M.addedDocuments,k)));let W=z.withSequenceNumber(l.currentSequenceNumber);var te,Ee,Be;t.targetMismatches.has(k)?W=W.withResumeToken(ss.EMPTY_BYTE_STRING,Jt.min()).withLastLimboFreeSnapshotVersion(Jt.min()):M.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(M.resumeToken,i)),r=r.insert(k,W),Ee=W,Be=M,(0===(te=z).resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Be.addedDocuments.size+Be.modifiedDocuments.size+Be.removedDocuments.size>0)&&p.push(e.Cs.updateTargetData(l,W))});let v=Xo(),E=bn();if(t.documentUpdates.forEach(M=>{t.resolvedLimboDocuments.has(M)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(l,M))}),p.push(EG(l,d,t.documentUpdates).next(M=>{v=M.Wi,E=M.zi})),!i.isEqual(Jt.min())){const M=e.Cs.getLastRemoteSnapshotVersion(l).next(k=>e.Cs.setTargetsMetadata(l,l.currentSequenceNumber,i));p.push(M)}return Fe.waitFor(p).next(()=>d.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,v,E)).next(()=>v)}).then(l=>(e.Ui=r,l))}function EG(n,t,e){let i=bn(),r=bn();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let d=Xo();return e.forEach((p,v)=>{const E=l.get(p);v.isFoundDocument()!==E.isFoundDocument()&&(r=r.add(p)),v.isNoDocument()&&v.version.isEqual(Jt.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):st("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",v.version)}),{Wi:d,zi:r}})}function vY(n,t){const e=_t(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function V_(n,t){const e=_t(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(l=>l?(r=l,Fe.resolve(r)):e.Cs.allocateTargetId(i).next(d=>(r=new Sf(t,d,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function U_(n,t,e){return VF.apply(this,arguments)}function VF(){return VF=(0,$e.Z)(function*(n,t,e){const i=_t(n),r=i.Ui.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!wf(d))throw d;st("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),VF.apply(this,arguments)}function jS(n,t,e){const i=_t(n);let r=Jt.min(),l=bn();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,v,E){const M=_t(p),k=M.qi.get(E);return void 0!==k?Fe.resolve(M.Ui.get(k)):M.Cs.getTargetData(v,E)}(i,d,Jo(t)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(d,p.targetId).next(v=>{l=v})}).next(()=>i.Li.getDocumentsMatchingQuery(d,t,e?r:Jt.min(),e?l:bn())).next(p=>(IG(i,oj(t),p),{documents:p,Hi:l})))}function xG(n,t){const e=_t(n),i=_t(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",l=>i.se(l,t).next(d=>d?d.target:null))}function DG(n,t){const e=_t(n),i=e.Ki.get(t)||Jt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,P6(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(IG(e,t,r),r))}function IG(n,t,e){let i=Jt.min();e.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ki.set(t,i)}function UF(){return UF=(0,$e.Z)(function*(n,t,e,i){const r=_t(n);let l=bn(),d=Xo();for(const E of e){const M=t.Ji(E.metadata.name);E.document&&(l=l.add(M));const k=t.Yi(E);k.setReadTime(t.Xi(E.metadata.readTime)),d=d.insert(M,k)}const p=r.Gi.newChangeBuffer({trackRemovals:!0}),v=yield V_(r,(E=i,Jo(T_($n.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>EG(E,p,d).next(M=>(p.apply(E),M)).next(M=>r.Cs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>r.Cs.addMatchingKeys(E,l,v.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(E,M.Wi,M.zi)).next(()=>M.Wi)))}),UF.apply(this,arguments)}function wY(n,t){return jF.apply(this,arguments)}function jF(){return jF=(0,$e.Z)(function*(n,t,e=bn()){const i=yield V_(n,Jo(MF(t.bundledQuery))),r=_t(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const d=Es(t.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ns.saveNamedQuery(l,t);const p=i.withResumeToken(ss.EMPTY_BYTE_STRING,d);return r.Ui=r.Ui.insert(p.targetId,p),r.Cs.updateTargetData(l,p).next(()=>r.Cs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.Cs.addMatchingKeys(l,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(l,t))})}),jF.apply(this,arguments)}function AG(n,t){return`firestore_clients_${n}_${t}`}function SG(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function GF(n,t){return`firestore_targets_${n}_${t}`}class GS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let l,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(l=new it(r.error.code,r.error.message))),d?new GS(t,e,r.state,l):(Rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new it(i.error.code,i.error.message))),l?new bC(t,i.state,r):(Rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class HS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=TS();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=H6(i.activeTargetIds[d]),l=l.add(i.activeTargetIds[d]);return r?new HS(t,l):(Rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class HF{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new HF(e.clientId,e.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class $F{constructor(){this.activeTargetIds=TS()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zF{constructor(t,e,i,r,l){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new br(hn),this.started=!1,this.cr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=AG(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new $F),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,$e.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const l=t.getItem(AG(t.persistenceKey,r));if(l){const d=HS.Zi(r,l);d&&(t.ur=t.ur.insert(d.clientId,d))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(GF(this.persistenceKey,t));if(i){const r=bC.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(GF(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return st("SharedClientState","READ",t,e),e}setItem(t,e){st("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){st("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(st("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,$e.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(l){let d=Qo.at;if(null!=l)try{const p=JSON.parse(l);an("number"==typeof p),d=p}catch(p){Rr("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(i.newValue);r!==Qo.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(l=>e.syncEngine.Or(l)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new GS(this.currentUser,t,e,i),l=SG(this.persistenceKey,this.currentUser,t);this.setItem(l,r.tr())}Er(t){const e=SG(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=GF(this.persistenceKey,t),l=new bC(t,e,i);this.setItem(r,l.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return HS.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return GS.Zi(new ws(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return bC.Zi(r,e)}yr(t){return HF.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,$e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);st("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),l=this.Ir(i),d=[],p=[];return l.forEach(v=>{r.has(v)||d.push(v)}),r.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Br(d,p).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=TS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class TG{constructor(){this.Lr=new $F,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new $F,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class CY{qr(t){}shutdown(){}}class MG{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){st("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){st("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const EY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xY{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class DY extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,l){const d=this.ao(t,e);st("RestConnection","Sending: ",d,i);const p={};return this.ho(p,r,l),this.lo(t,d,p,i).then(v=>(st("RestConnection","Received: ",v),v),v=>{throw Pg("RestConnection",`${t} failed with error: `,v,"url: ",d,"request:",i),v})}fo(t,e,i,r,l,d){return this.co(t,e,i,r,l)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+x_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,l)=>t[l]=r),i&&i.headers.forEach((r,l)=>t[l]=r)}ao(t,e){return`${this.oo}/v1/${e}:${EY[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((l,d)=>{const p=new EW;p.listenOnce(bW.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case aF.NO_ERROR:const E=p.getResponseJson();st("Connection","XHR received:",JSON.stringify(E)),l(E);break;case aF.TIMEOUT:st("Connection",'RPC "'+t+'" timed out'),d(new it(je.DEADLINE_EXCEEDED,"Request time out"));break;case aF.HTTP_ERROR:const M=p.getStatus();if(st("Connection",'RPC "'+t+'" failed with status:',M,"response text:",p.getResponseText()),M>0){const k=p.getResponseJson().error;if(k&&k.status&&k.message){const z=function(W){const te=W.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(te)>=0?te:je.UNKNOWN}(k.status);d(new it(z,k.message))}else d(new it(je.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new it(je.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{st("Connection",'RPC "'+t+'" completed.')}});const v=JSON.stringify(r);p.send(e,"POST",v,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=_W(),d=vW(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new CW({})),this.ho(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const v=r.join("");st("Connection","Creating WebChannel: "+v,p);const E=l.createWebChannel(v,p);let M=!1,k=!1;const z=new xY({Hr:te=>{k?st("Connection","Not sending because WebChannel is closed:",te):(M||(st("Connection","Opening WebChannel transport."),E.open(),M=!0),st("Connection","WebChannel sending:",te),E.send(te))},Jr:()=>E.close()}),W=(te,Ee,Be)=>{te.listen(Ee,Ze=>{try{Be(Ze)}catch(ht){setTimeout(()=>{throw ht},0)}})};return W(E,mS.EventType.OPEN,()=>{k||st("Connection","WebChannel transport opened.")}),W(E,mS.EventType.CLOSE,()=>{k||(k=!0,st("Connection","WebChannel transport closed"),z.io())}),W(E,mS.EventType.ERROR,te=>{k||(k=!0,Pg("Connection","WebChannel transport errored:",te),z.io(new it(je.UNAVAILABLE,"The operation could not be completed")))}),W(E,mS.EventType.MESSAGE,te=>{var Ee;if(!k){const Be=te.data[0];an(!!Be);const Ze=Be,ht=Ze.error||(null===(Ee=Ze[0])||void 0===Ee?void 0:Ee.error);if(ht){st("Connection","WebChannel received error:",ht);const Ct=ht.status;let bt=function(Bt){const In=$r[Bt];if(void 0!==In)return Cj(In)}(Ct),Ft=ht.message;void 0===bt&&(bt=je.INTERNAL,Ft="Unknown error status: "+Ct+" with message "+ht.message),k=!0,z.io(new it(bt,Ft)),E.close()}else st("Connection","WebChannel received:",Be),z.ro(Be)}}),W(d,wW.STAT_EVENT,te=>{te.stat===S6.PROXY?st("Connection","Detected buffering proxy"):te.stat===S6.NOPROXY&&st("Connection","Detected no buffering proxy")}),setTimeout(()=>{z.so()},0),z}}function RG(){return typeof window<"u"?window:null}function $S(){return typeof document<"u"?document:null}function wC(n){return new mZ(n,!0)}class qF{constructor(t,e,i=1e3,r=1.5,l=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&st("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class kG{constructor(t,e,i,r,l,d,p,v){this.Hs=t,this.Po=i,this.vo=r,this.Vo=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qF(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,$e.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,$e.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,$e.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===je.RESOURCE_EXHAUSTED?(Rr(e.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===je.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new it(je.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,$e.Z)(function*(){t.state=0,t.start()}))}Qo(t){return st("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(st("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IY extends kG{constructor(t,e,i,r,l,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.It=l}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function vZ(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:At(),r=t.targetChange.targetIds||[],l=function(v,E){return v.gt?(an(void 0===E||"string"==typeof E),ss.fromBase64String(E||"")):(an(void 0===E||E instanceof Uint8Array),ss.fromUint8Array(E||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(v){const E=void 0===v.code?je.UNKNOWN:Cj(v.code);return new it(E,v.message||"")}(d);e=new Aj(i,r,l,p||null)}else if("documentChange"in t){const i=t.documentChange,r=Pu(n,i.document.name),l=Es(i.document.updateTime),d=new Vs({mapValue:{fields:i.document.fields}}),p=Pi.newFoundDocument(r,l,d);e=new MS(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=Pu(n,i.document),l=i.readTime?Es(i.readTime):Jt.min(),d=Pi.newNoDocument(r,l);e=new MS([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Pu(n,i.document);e=new MS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return At();{const i=t.filter,l=new lZ(i.count||0);e=new Ij(i.targetId,l)}}var v;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Jt.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?Jt.min():l.readTime?Es(l.readTime):Jt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=dC(this.It),e.addTarget=function(r,l){let d;const p=l.target;return d=ES(p)?{documents:Lj(r,p)}:{query:Bj(r,p)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=Rj(r,l.resumeToken):l.snapshotVersion.compareTo(Jt.min())>0&&(d.readTime=cC(r,l.snapshotVersion.toTimestamp())),d}(this.It,t);const i=function wZ(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return At()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=dC(this.It),e.removeTarget=t,this.Bo(e)}}class AY extends kG{constructor(t,e,i,r,l,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(an(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function bZ(n,t){return n&&n.length>0?(an(void 0!==t),n.map(e=>function(i,r){let l=Es(i.updateTime?i.updateTime:r);return l.isEqual(Jt.min())&&(l=Es(r)),new sZ(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Es(t.commitTime);return this.listener.Zo(i,e)}return an(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=dC(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hC(this.It,i))};this.Bo(e)}}class SY extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new it(je.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.Vo.co(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new it(je.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.Vo.fo(t,e,i,l,d,r)).catch(l=>{throw"FirebaseError"===l.name?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new it(je.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class TY{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Rr(e),this.ou=!1):st("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class MY{constructor(t,e,i,r,l){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(p=>{i.enqueueAndForget((0,$e.Z)(function*(){var v;Rf(d)&&(st("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,$e.Z)(function*(E){const M=_t(E);M._u.add(4),yield j_(M),M.gu.set("Unknown"),M._u.delete(4),yield CC(M)}),function(E){return v.apply(this,arguments)})(d))}))}),this.gu=new TY(i,r)}}function CC(n){return WF.apply(this,arguments)}function WF(){return WF=(0,$e.Z)(function*(n){if(Rf(n))for(const t of n.wu)yield t(!0)}),WF.apply(this,arguments)}function j_(n){return ZF.apply(this,arguments)}function ZF(){return ZF=(0,$e.Z)(function*(n){for(const t of n.wu)yield t(!1)}),ZF.apply(this,arguments)}function zS(n,t){const e=_t(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),QF(e)?KF(e):H_(e).ko()&&YF(e,t))}function EC(n,t){const e=_t(n),i=H_(e);e.du.delete(t),i.ko()&&OG(e,t),0===e.du.size&&(i.ko()?i.Fo():Rf(e)&&e.gu.set("Unknown"))}function YF(n,t){n.yu.Ot(t.targetId),H_(n).zo(t)}function OG(n,t){n.yu.Ot(t),H_(n).Ho(t)}function KF(n){n.yu=new fZ({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),H_(n).start(),n.gu.uu()}function QF(n){return Rf(n)&&!H_(n).No()&&n.du.size>0}function Rf(n){return 0===_t(n)._u.size}function PG(n){n.yu=void 0}function RY(n){return JF.apply(this,arguments)}function JF(){return JF=(0,$e.Z)(function*(n){n.du.forEach((t,e)=>{YF(n,t)})}),JF.apply(this,arguments)}function kY(n,t){return XF.apply(this,arguments)}function XF(){return XF=(0,$e.Z)(function*(n,t){PG(n),QF(n)?(n.gu.hu(t),KF(n)):n.gu.set("Unknown")}),XF.apply(this,arguments)}function OY(n,t,e){return eN.apply(this,arguments)}function eN(){return eN=(0,$e.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof Aj&&2===t.state&&t.cause)try{yield(i=(0,$e.Z)(function*(r,l){const d=l.cause;for(const p of l.targetIds)r.du.has(p)&&(yield r.remoteSyncer.rejectListen(p,d),r.du.delete(p),r.yu.removeTarget(p))}),function(r,l){return i.apply(this,arguments)})(n,t)}catch(i){st("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield qS(n,i)}else if(t instanceof MS?n.yu.Gt(t):t instanceof Ij?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Jt.min()))try{const i=yield CG(n.localStore);e.compareTo(i)>=0&&(yield function(r,l){const d=r.yu.te(l);return d.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const E=r.du.get(v);E&&r.du.set(v,E.withResumeToken(p.resumeToken,l))}}),d.targetMismatches.forEach(p=>{const v=r.du.get(p);if(!v)return;r.du.set(p,v.withResumeToken(ss.EMPTY_BYTE_STRING,v.snapshotVersion)),OG(r,p);const E=new Sf(v.target,p,1,v.sequenceNumber);YF(r,E)}),r.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(i){st("RemoteStore","Failed to raise snapshot:",i),yield qS(n,i)}var i}),eN.apply(this,arguments)}function qS(n,t,e){return tN.apply(this,arguments)}function tN(){return tN=(0,$e.Z)(function*(n,t,e){if(!wf(t))throw t;n._u.add(1),yield j_(n),n.gu.set("Offline"),e||(e=()=>CG(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){st("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield CC(n)}))}),tN.apply(this,arguments)}function FG(n,t){return t().catch(e=>qS(n,e,t))}function G_(n){return nN.apply(this,arguments)}function nN(){return nN=(0,$e.Z)(function*(n){const t=_t(n),e=kf(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;PY(t);)try{const r=yield vY(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,FY(t,r)}catch(r){yield qS(t,r)}NG(t)&&LG(t)}),nN.apply(this,arguments)}function PY(n){return Rf(n)&&n.fu.length<10}function FY(n,t){n.fu.push(t);const e=kf(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function NG(n){return Rf(n)&&!kf(n).No()&&n.fu.length>0}function LG(n){kf(n).start()}function NY(n){return iN.apply(this,arguments)}function iN(){return iN=(0,$e.Z)(function*(n){kf(n).eu()}),iN.apply(this,arguments)}function LY(n){return rN.apply(this,arguments)}function rN(){return rN=(0,$e.Z)(function*(n){const t=kf(n);for(const e of n.fu)t.Xo(e.mutations)}),rN.apply(this,arguments)}function BY(n,t,e){return sN.apply(this,arguments)}function sN(){return sN=(0,$e.Z)(function*(n,t,e){const i=n.fu.shift(),r=SF.from(i,t,e);yield FG(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield G_(n)}),sN.apply(this,arguments)}function VY(n,t){return oN.apply(this,arguments)}function oN(){return oN=(0,$e.Z)(function*(n,t){var e;t&&kf(n).Yo&&(yield(e=(0,$e.Z)(function*(i,r){if(wj(l=r.code)&&l!==je.ABORTED){const d=i.fu.shift();kf(i).Oo(),yield FG(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield G_(i)}var l}),function(i,r){return e.apply(this,arguments)})(n,t)),NG(n)&&LG(n)}),oN.apply(this,arguments)}function BG(n,t){return aN.apply(this,arguments)}function aN(){return aN=(0,$e.Z)(function*(n,t){const e=_t(n);e.asyncQueue.verifyOperationInProgress(),st("RemoteStore","RemoteStore received new credentials");const i=Rf(e);e._u.add(3),yield j_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield CC(e)}),aN.apply(this,arguments)}function lN(n,t){return cN.apply(this,arguments)}function cN(){return cN=(0,$e.Z)(function*(n,t){const e=_t(n);t?(e._u.delete(2),yield CC(e)):t||(e._u.add(2),yield j_(e),e.gu.set("Unknown"))}),cN.apply(this,arguments)}function H_(n){return n.pu||(n.pu=function(t,e,i){const r=_t(t);return r.su(),new IY(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:RY.bind(null,n),Zr:kY.bind(null,n),Wo:OY.bind(null,n)}),n.wu.push(function(){var t=(0,$e.Z)(function*(e){e?(n.pu.Oo(),QF(n)?KF(n):n.gu.set("Unknown")):(yield n.pu.stop(),PG(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function kf(n){return n.Iu||(n.Iu=function(t,e,i){const r=_t(t);return r.su(),new AY(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:NY.bind(null,n),Zr:VY.bind(null,n),tu:LY.bind(null,n),Zo:BY.bind(null,n)}),n.wu.push(function(){var t=(0,$e.Z)(function*(e){e?(n.Iu.Oo(),yield G_(n)):(yield n.Iu.stop(),n.fu.length>0&&(st("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class uN{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,i,r,l){const d=Date.now()+i,p=new uN(t,e,d,r,l);return p.start(i),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new it(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $_(n,t){if(Rr("AsyncQueue",`${t}: ${n}`),wf(n))return new it(je.UNAVAILABLE,`${t}: ${n}`);throw n}class z_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||gt.comparator(e.key,i.key):(e,i)=>gt.comparator(e.key,i.key),this.keyedMap=sC(),this.sortedSet=new br(this.comparator)}static emptySet(t){return new z_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof z_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new z_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class VG{constructor(){this.Tu=new br(gt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):At():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class q_{constructor(t,e,i,r,l,d,p,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(t,e,i,r){const l=[];return e.forEach(d=>{l.push({type:0,doc:d})}),new q_(t,e,z_.emptySet(e),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class UY{constructor(){this.Au=void 0,this.listeners=[]}}class jY{constructor(){this.queries=new Af(t=>sj(t),nC),this.onlineState="Unknown",this.Ru=new Set}}function dN(n,t){return hN.apply(this,arguments)}function hN(){return hN=(0,$e.Z)(function*(n,t){const e=_t(n),i=t.query;let r=!1,l=e.queries.get(i);if(l||(r=!0,l=new UY),r)try{l.Au=yield e.onListen(i)}catch(d){const p=$_(d,`Initialization of query '${bF(t.query)}' failed`);return void t.onError(p)}e.queries.set(i,l),l.listeners.push(t),t.bu(e.onlineState),l.Au&&t.Pu(l.Au)&&gN(e)}),hN.apply(this,arguments)}function fN(n,t){return pN.apply(this,arguments)}function pN(){return pN=(0,$e.Z)(function*(n,t){const e=_t(n),i=t.query;let r=!1;const l=e.queries.get(i);if(l){const d=l.listeners.indexOf(t);d>=0&&(l.listeners.splice(d,1),r=0===l.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),pN.apply(this,arguments)}function GY(n,t){const e=_t(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const p of d.listeners)p.Pu(r)&&(i=!0);d.Au=r}}i&&gN(e)}function HY(n,t,e){const i=_t(n),r=i.queries.get(t);if(r)for(const l of r.listeners)l.onError(e);i.queries.delete(t)}function gN(n){n.Ru.forEach(t=>{t.next()})}class mN{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new q_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=q_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class $Y{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class UG{constructor(t){this.It=t}Ji(t){return Pu(this.It,t)}Yi(t){return t.metadata.exists?Nj(this.It,t.document,!1):Pi.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Es(t)}}class zY{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jG(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=$n.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new UG(this.It);for(const r of t)if(r.metadata.queries){const l=i.Ji(r.metadata.name);for(const d of r.metadata.queries){const p=(e.get(d)||bn()).add(l);e.set(d,p)}}return e}complete(){var t=this;return(0,$e.Z)(function*(){const e=yield function bY(n,t,e,i){return UF.apply(this,arguments)}(t.localStore,new UG(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield wY(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function jG(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GG{constructor(t){this.key=t}}class HG{constructor(t){this.key=t}}class $G{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=bn(),this.mutatedKeys=bn(),this.Ku=aj(t),this.Gu=new z_(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new VG,r=e?e.Gu:this.Gu;let l=e?e.mutatedKeys:this.mutatedKeys,d=r,p=!1;const v="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,E="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,k)=>{const z=r.get(M),W=wF(this.query,k)?k:null,te=!!z&&this.mutatedKeys.has(z.key),Ee=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let Be=!1;z&&W?z.data.isEqual(W.data)?te!==Ee&&(i.track({type:3,doc:W}),Be=!0):this.zu(z,W)||(i.track({type:2,doc:W}),Be=!0,(v&&this.Ku(W,v)>0||E&&this.Ku(W,E)<0)&&(p=!0)):!z&&W?(i.track({type:0,doc:W}),Be=!0):z&&!W&&(i.track({type:1,doc:z}),Be=!0,(v||E)&&(p=!0)),Be&&(W?(d=d.add(W),l=Ee?l.add(M):l.delete(M)):(d=d.delete(M),l=l.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),l=l.delete(M.key),i.track({type:1,doc:M})}return{Gu:d,Wu:i,$i:p,mutatedKeys:l}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const l=t.Wu.Eu();l.sort((E,M)=>function(k,z){const W=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return W(k)-W(z)}(E.type,M.type)||this.Ku(E.doc,M.doc)),this.Hu(i);const d=e?this.Ju():[],p=0===this.qu.size&&this.current?1:0,v=p!==this.Uu;return this.Uu=p,0!==l.length||v?{snapshot:new q_(this.query,t.Gu,r,l,t.mutatedKeys,0===p,v,!1),Yu:d}:{Yu:d}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new VG,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=bn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new HG(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new GG(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=bn();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return q_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class qY{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class WY{constructor(t){this.key=t,this.ec=!1}}class ZY{constructor(t,e,i,r,l,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new Af(p=>sj(p),nC),this.ic=new Map,this.rc=new Set,this.oc=new br(gt.comparator),this.uc=new Map,this.cc=new OF,this.ac={},this.hc=new Map,this.lc=Kg.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function YY(n,t){return yN.apply(this,arguments)}function yN(){return yN=(0,$e.Z)(function*(n,t){const e=UN(n);let i,r;const l=e.sc.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),r=l.view.tc();else{const d=yield V_(e.localStore,Jo(t));e.isPrimaryClient&&zS(e.remoteStore,d);const p=e.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield _N(e,t,i,"current"===p)}return r}),yN.apply(this,arguments)}function _N(n,t,e,i){return vN.apply(this,arguments)}function vN(){return vN=(0,$e.Z)(function*(n,t,e,i){n.dc=(M,k,z)=>{return(W=(0,$e.Z)(function*(te,Ee,Be,Ze){let ht=Ee.view.ju(Be);ht.$i&&(ht=yield jS(te.localStore,Ee.query,!1).then(({documents:Ft})=>Ee.view.ju(Ft,ht)));const Ct=Ze&&Ze.targetChanges.get(Ee.targetId),bt=Ee.view.applyChanges(ht,te.isPrimaryClient,Ct);return TN(te,Ee.targetId,bt.Yu),bt.snapshot}),function(te,Ee,Be,Ze){return W.apply(this,arguments)})(n,M,k,z);var W};const r=yield jS(n.localStore,t,!0),l=new $G(t,r.Hi),d=l.ju(r.documents),p=lC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),v=l.applyChanges(d,n.isPrimaryClient,p);TN(n,e,v.Yu);const E=new qY(t,e,l);return n.sc.set(t,E),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),v.snapshot}),vN.apply(this,arguments)}function KY(n,t){return bN.apply(this,arguments)}function bN(){return bN=(0,$e.Z)(function*(n,t){const e=_t(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(l=>!nC(l,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield U_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),EC(e.remoteStore,i.targetId),W_(e,i.targetId)}).catch(bf))):(W_(e,i.targetId),yield U_(e.localStore,i.targetId,!0))}),bN.apply(this,arguments)}function wN(){return wN=(0,$e.Z)(function*(n,t,e){const i=jN(n);try{const r=yield function(l,d){const p=_t(l),v=Qi.now(),E=d.reduce((z,W)=>z.add(W.key),bn());let M,k;return p.persistence.runTransaction("Locally write mutations","readwrite",z=>{let W=Xo(),te=bn();return p.Gi.getEntries(z,E).next(Ee=>{W=Ee,W.forEach((Be,Ze)=>{Ze.isValidDocument()||(te=te.add(Be))})}).next(()=>p.localDocuments.getOverlayedDocuments(z,W)).next(Ee=>{M=Ee;const Be=[];for(const Ze of d){const ht=aZ(Ze,M.get(Ze.key).overlayedDocument);null!=ht&&Be.push(new th(Ze.key,ht,K6(ht.value.mapValue),Ji.exists(!0)))}return p.mutationQueue.addMutationBatch(z,v,Be,d)}).next(Ee=>{k=Ee;const Be=Ee.applyToLocalDocumentSet(M,te);return p.documentOverlayCache.saveOverlays(z,Ee.batchId,Be)})}).then(()=>({batchId:k.batchId,changes:xj(M)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,d,p){let v=l.ac[l.currentUser.toKey()];v||(v=new br(hn)),v=v.insert(d,p),l.ac[l.currentUser.toKey()]=v}(i,r.batchId,e),yield nh(i,r.changes),yield G_(i.remoteStore)}catch(r){const l=$_(r,"Failed to persist write");e.reject(l)}}),wN.apply(this,arguments)}function zG(n,t){return CN.apply(this,arguments)}function CN(){return CN=(0,$e.Z)(function*(n,t){const e=_t(n);try{const i=yield _Y(e.localStore,t);t.targetChanges.forEach((r,l)=>{const d=e.uc.get(l);d&&(an(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.ec=!0:r.modifiedDocuments.size>0?an(d.ec):r.removedDocuments.size>0&&(an(d.ec),d.ec=!1))}),yield nh(e,i,t)}catch(i){yield bf(i)}}),CN.apply(this,arguments)}function qG(n,t,e){const i=_t(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((l,d)=>{const p=d.view.bu(t);p.snapshot&&r.push(p.snapshot)}),function(l,d){const p=_t(l);p.onlineState=d;let v=!1;p.queries.forEach((E,M)=>{for(const k of M.listeners)k.bu(d)&&(v=!0)}),v&&gN(p)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function JY(n,t,e){return EN.apply(this,arguments)}function EN(){return EN=(0,$e.Z)(function*(n,t,e){const i=_t(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),l=r&&r.key;if(l){let d=new br(gt.comparator);d=d.insert(l,Pi.newNoDocument(l,Jt.min()));const p=bn().add(l),v=new aC(Jt.min(),new Map,new yi(hn),d,p);yield zG(i,v),i.oc=i.oc.remove(l),i.uc.delete(t),MN(i)}else yield U_(i.localStore,t,!1).then(()=>W_(i,t,e)).catch(bf)}),EN.apply(this,arguments)}function XY(n,t){return xN.apply(this,arguments)}function xN(){return xN=(0,$e.Z)(function*(n,t){const e=_t(n),i=t.batch.batchId;try{const r=yield yY(e.localStore,t);SN(e,i,null),AN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield nh(e,r)}catch(r){yield bf(r)}}),xN.apply(this,arguments)}function eK(n,t,e){return DN.apply(this,arguments)}function DN(){return DN=(0,$e.Z)(function*(n,t,e){const i=_t(n);try{const r=yield function(l,d){const p=_t(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return p.mutationQueue.lookupMutationBatch(v,d).next(M=>(an(null!==M),E=M.keys(),p.mutationQueue.removeMutationBatch(v,M))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>p.localDocuments.getDocuments(v,E))})}(i.localStore,t);SN(i,t,e),AN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield nh(i,r)}catch(r){yield bf(r)}}),DN.apply(this,arguments)}function IN(){return IN=(0,$e.Z)(function*(n,t){const e=_t(n);Rf(e.remoteStore)||st("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const d=_t(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=$_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),IN.apply(this,arguments)}function AN(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function SN(n,t,e){const i=_t(n);let r=i.ac[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function W_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||WG(n,i)})}function WG(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(EC(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),MN(n))}function TN(n,t,e){for(const i of e)i instanceof GG?(n.cc.addReference(i.key,t),nK(n,i)):i instanceof HG?(st("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||WG(n,i.key)):At()}function nK(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(st("SyncEngine","New document in limbo: "+e),n.rc.add(i),MN(n))}function MN(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new gt($n.fromString(t)),i=n.lc.next();n.uc.set(i,new WY(e)),n.oc=n.oc.insert(e,i),zS(n.remoteStore,new Sf(Jo(T_(e.path)),i,2,Qo.at))}}function nh(n,t,e){return RN.apply(this,arguments)}function RN(){return RN=(0,$e.Z)(function*(n,t,e){const i=_t(n),r=[],l=[],d=[];var p;i.sc.isEmpty()||(i.sc.forEach((p,v)=>{d.push(i.dc(v,t,e).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(v.targetId,E.fromCache?"not-current":"current"),r.push(E);const M=LF.Ci(v.targetId,E);l.push(M)}}))}),yield Promise.all(d),i.nc.Wo(r),yield(p=(0,$e.Z)(function*(v,E){const M=_t(v);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Fe.forEach(E,z=>Fe.forEach(z.Si,W=>M.persistence.referenceDelegate.addReference(k,z.targetId,W)).next(()=>Fe.forEach(z.Di,W=>M.persistence.referenceDelegate.removeReference(k,z.targetId,W)))))}catch(k){if(!wf(k))throw k;st("LocalStore","Failed to update sequence numbers: "+k)}for(const k of E){const z=k.targetId;if(!k.fromCache){const W=M.Ui.get(z),Ee=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);M.Ui=M.Ui.insert(z,Ee)}}}),function(v,E){return p.apply(this,arguments)})(i.localStore,l))}),RN.apply(this,arguments)}function iK(n,t){return kN.apply(this,arguments)}function kN(){return kN=(0,$e.Z)(function*(n,t){const e=_t(n);if(!e.currentUser.isEqual(t)){st("SyncEngine","User change. New user:",t.toKey());const i=yield wG(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(d=>{d.forEach(p=>{p.reject(new it(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield nh(e,i.ji)}var r}),kN.apply(this,arguments)}function rK(n,t){const e=_t(n),i=e.uc.get(t);if(i&&i.ec)return bn().add(i.key);{let r=bn();const l=e.ic.get(t);if(!l)return r;for(const d of l){const p=e.sc.get(d);r=r.unionWith(p.view.Qu)}return r}}function sK(n,t){return ON.apply(this,arguments)}function ON(){return ON=(0,$e.Z)(function*(n,t){const e=_t(n),i=yield jS(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&TN(e,t.targetId,r.Yu),r}),ON.apply(this,arguments)}function oK(n,t){return PN.apply(this,arguments)}function PN(){return PN=(0,$e.Z)(function*(n,t){const e=_t(n);return DG(e.localStore,t).then(i=>nh(e,i))}),PN.apply(this,arguments)}function aK(n,t,e,i){return FN.apply(this,arguments)}function FN(){return FN=(0,$e.Z)(function*(n,t,e,i){const r=_t(n),l=yield function(d,p){const v=_t(d),E=_t(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",M=>E.Tn(M,p).next(k=>k?v.localDocuments.getDocuments(M,k):Fe.resolve(null)))}(r.localStore,t);var p;null!==l?("pending"===e?yield G_(r.remoteStore):"acknowledged"===e||"rejected"===e?(SN(r,t,i||null),AN(r,t),p=t,_t(_t(r.localStore).mutationQueue).An(p)):At(),yield nh(r,l)):st("SyncEngine","Cannot apply mutation batch with id: "+t)}),FN.apply(this,arguments)}function NN(){return NN=(0,$e.Z)(function*(n,t){const e=_t(n);if(UN(e),jN(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield ZG(e,i.toArray());e.fc=!0,yield lN(e.remoteStore,!0);for(const l of r)zS(e.remoteStore,l)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((l,d)=>{e.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(W_(e,d),U_(e.localStore,d,!0))),EC(e.remoteStore,d)}),yield r,yield ZG(e,i),function(l){const d=_t(l);d.uc.forEach((p,v)=>{EC(d.remoteStore,v)}),d.cc.fs(),d.uc=new Map,d.oc=new br(gt.comparator)}(e),e.fc=!1,yield lN(e.remoteStore,!1)}}),NN.apply(this,arguments)}function ZG(n,t,e){return LN.apply(this,arguments)}function LN(){return LN=(0,$e.Z)(function*(n,t,e){const i=_t(n),r=[],l=[];for(const d of t){let p;const v=i.ic.get(d);if(v&&0!==v.length){p=yield V_(i.localStore,Jo(v[0]));for(const E of v){const M=i.sc.get(E),k=yield sK(i,M);k.snapshot&&l.push(k.snapshot)}}else{const E=yield xG(i.localStore,d);p=yield V_(i.localStore,E),yield _N(i,YG(E),d,!1)}r.push(p)}return i.nc.Wo(l),r}),LN.apply(this,arguments)}function YG(n){return ij(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cK(n){const t=_t(n);return _t(_t(t.localStore).persistence).vi()}function uK(n,t,e,i){return BN.apply(this,arguments)}function BN(){return BN=(0,$e.Z)(function*(n,t,e,i){const r=_t(n);if(r.fc)return void st("SyncEngine","Ignoring unexpected query state notification.");const l=r.ic.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const d=yield DG(r.localStore,oj(l[0])),p=aC.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield nh(r,d,p);break}case"rejected":yield U_(r.localStore,t,!0),W_(r,t,i);break;default:At()}}),BN.apply(this,arguments)}function dK(n,t,e){return VN.apply(this,arguments)}function VN(){return VN=(0,$e.Z)(function*(n,t,e){const i=UN(n);if(i.fc){for(const r of t){if(i.ic.has(r)){st("SyncEngine","Adding an already active target "+r);continue}const l=yield xG(i.localStore,r),d=yield V_(i.localStore,l);yield _N(i,YG(l),d.targetId,!1),zS(i.remoteStore,d)}for(const r of e)i.ic.has(r)&&(yield U_(i.localStore,r,!1).then(()=>{EC(i.remoteStore,r),W_(i,r)}).catch(bf))}}),VN.apply(this,arguments)}function UN(n){const t=_t(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=zG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JY.bind(null,t),t.nc.Wo=GY.bind(null,t.eventManager),t.nc._c=HY.bind(null,t.eventManager),t}function jN(n){const t=_t(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eK.bind(null,t),t}class KG{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,$e.Z)(function*(){e.It=wC(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return bG(this.persistence,new vG,t.initialUser,this.It)}gc(t){return new yG(VS.Bs,this.It)}mc(t){return new TG}terminate(){var t=this;return(0,$e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class QG extends KG{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield jN(i.Ec.syncEngine),yield G_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return bG(this.persistence,new vG,t.initialUser,this.It)}Ic(t,e){return new nY(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new VW(e,this.persistence);return new BW(t.asyncQueue,i)}gc(t){const e=NF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ea.withCacheSize(this.cacheSizeBytes):ea.DEFAULT;return new FF(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RG(),$S(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new TG}}class fK extends QG{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof zF&&(i.sharedClientState.syncEngine={Fr:aK.bind(null,r),$r:uK.bind(null,r),Br:dK.bind(null,r),vi:cK.bind(null,r),Or:oK.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var l=(0,$e.Z)(function*(d){yield function lK(n,t){return NN.apply(this,arguments)}(i.Ec.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}mc(t){const e=RG();if(!zF.C(e))throw new it(je.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=NF(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zF(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class GN{initialize(t,e){var i=this;return(0,$e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>qG(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=iK.bind(null,i.syncEngine),yield lN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new jY}createDatastore(t){const e=wC(t.databaseInfo.databaseId),i=new DY(t.databaseInfo);return new SY(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,l=p=>qG(this.syncEngine,p,0),d=MG.C()?new MG:new CY,new MY(e,i,r,l,d);var e,i,r,l,d}createSyncEngine(t,e){return function(i,r,l,d,p,v,E){const M=new ZY(i,r,l,d,p,v);return E&&(M.fc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,$e.Z)(function*(e){const i=_t(e);st("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield j_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function JG(n,t=10240){let e=0;return{read:()=>(0,$e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):Rr("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class pK{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Cs,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,$e.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,$e.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,$e.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const l=yield t.Dc(r);return new $Y(JSON.parse(l),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,$e.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,$e.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,$e.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class gK{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new it(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,$e.Z)(function*(l,d){const p=_t(l),v=dC(p.It)+"/documents",E={documents:d.map(W=>uC(p.It,W))},M=yield p.fo("BatchGetDocuments",v,E,d.length),k=new Map;M.forEach(W=>{const te=function _Z(n,t){return"found"in t?function(e,i){an(!!i.found);const r=Pu(e,i.found.name),l=Es(i.found.updateTime),d=new Vs({mapValue:{fields:i.found.fields}});return Pi.newFoundDocument(r,l,d)}(n,t):"missing"in t?function(e,i){an(!!i.missing),an(!!i.readTime);const r=Pu(e,i.missing),l=Es(i.readTime);return Pi.newNoDocument(r,l)}(n,t):At()}(p.It,W);k.set(te.key.toString(),te)});const z=[];return d.forEach(W=>{const te=k.get(W.toString());an(!!te),z.push(te)}),z}),function(l,d){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new P_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=gt.fromPath(r);t.mutations.push(new CF(l,t.precondition(l)))}),yield(i=(0,$e.Z)(function*(r,l){const d=_t(r),p=dC(d.It)+"/documents",v={writes:l.map(E=>hC(d.It,E))};yield d.co("Commit",p,v)}),function(r,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw At();e=Jt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new it(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Jt.min())?Ji.exists(!1):Ji.updateTime(e):Ji.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Jt.min()))throw new it(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ji.updateTime(e)}return Ji.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class mK{constructor(t,e,i,r,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=l,this.Nc=i.maxAttempts,this.xo=new qF(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,$e.Z)(function*(){const e=new gK(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.Oc(l)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Kw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!wj(e)}return!1}}class yK{constructor(t,e,i,r){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ws.UNAUTHENTICATED,this.clientId=k6.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,$e.Z)(function*(p){st("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(st("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var t=this;return(0,$e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new it(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=$_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function XG(n,t){return HN.apply(this,arguments)}function HN(){return HN=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),st("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,$e.Z)(function*(l){i.isEqual(l)||(yield wG(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),HN.apply(this,arguments)}function eH(n,t){return $N.apply(this,arguments)}function $N(){return $N=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield zN(n);st("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>BG(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>BG(t.remoteStore,l)),n.onlineComponents=t}),$N.apply(this,arguments)}function zN(n){return qN.apply(this,arguments)}function qN(){return qN=(0,$e.Z)(function*(n){return n.offlineComponents||(st("FirestoreClient","Using default OfflineComponentProvider"),yield XG(n,new KG)),n.offlineComponents}),qN.apply(this,arguments)}function ZS(n){return WN.apply(this,arguments)}function WN(){return WN=(0,$e.Z)(function*(n){return n.onlineComponents||(st("FirestoreClient","Using default OnlineComponentProvider"),yield eH(n,new GN)),n.onlineComponents}),WN.apply(this,arguments)}function tH(n){return zN(n).then(t=>t.persistence)}function YS(n){return zN(n).then(t=>t.localStore)}function nH(n){return ZS(n).then(t=>t.remoteStore)}function ZN(n){return ZS(n).then(t=>t.syncEngine)}function Z_(n){return YN.apply(this,arguments)}function YN(){return YN=(0,$e.Z)(function*(n){const t=yield ZS(n),e=t.eventManager;return e.onListen=YY.bind(null,t.syncEngine),e.onUnlisten=KY.bind(null,t.syncEngine),e}),YN.apply(this,arguments)}function iH(n,t,e={}){const i=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(r,l,d,p,v){const E=new WS({next:k=>{l.enqueueAndForget(()=>fN(r,M));const z=k.docs.has(d);!z&&k.fromCache?v.reject(new it(je.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&p&&"server"===p.source?v.reject(new it(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(k)},error:k=>v.reject(k)}),M=new mN(T_(d.path),E,{includeMetadataChanges:!0,Nu:!0});return dN(r,M)}(yield Z_(n),n.asyncQueue,t,e,i)})),i.promise}function rH(n,t,e={}){const i=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(r,l,d,p,v){const E=new WS({next:k=>{l.enqueueAndForget(()=>fN(r,M)),k.fromCache&&"server"===p.source?v.reject(new it(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(k)},error:k=>v.reject(k)}),M=new mN(d,E,{includeMetadataChanges:!0,Nu:!0});return dN(r,M)}(yield Z_(n),n.asyncQueue,t,e,i)})),i.promise}const sH=new Map;function KN(n,t,e){if(!e)throw new it(je.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oH(n,t,e,i){if(!0===t&&!0===i)throw new it(je.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function aH(n){if(!gt.isDocumentKey(n))throw new it(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lH(n){if(gt.isDocumentKey(n))throw new it(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":At()}function Vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new it(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=KS(n);throw new it(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function cH(n,t){if(t<=0)throw new it(je.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class uH{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new it(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new it(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new it(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new it(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uH(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new IW;switch(e.type){case"gapi":return new MW(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new it(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=sH.get(t);e&&(st("ComponentProvider","Removing Datastore"),sH.delete(t),e.terminate())}(this),Promise.resolve()}}class Gi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class ro{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ro(this.firestore,t,this._query)}}class Nu extends ro{constructor(t,e,i){super(t,e,T_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new gt(t))}withConverter(t){return new Nu(this.firestore,t,this._path)}}function dH(n,t,...e){if(n=(0,Wn.m9)(n),KN("collection","path",t),n instanceof xC){const i=$n.fromString(t,...e);return lH(i),new Nu(n,null,i)}{if(!(n instanceof Gi||n instanceof Nu))throw new it(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(t,...e));return lH(i),new Nu(n.firestore,null,i)}}function QS(n,t,...e){if(n=(0,Wn.m9)(n),1===arguments.length&&(t=k6.R()),KN("doc","path",t),n instanceof xC){const i=$n.fromString(t,...e);return aH(i),new Gi(n,null,new gt(i))}{if(!(n instanceof Gi||n instanceof Nu))throw new it(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child($n.fromString(t,...e));return aH(i),new Gi(n.firestore,n instanceof Nu?n.converter:null,new gt(i))}}function hH(n,t){return n=(0,Wn.m9)(n),t=(0,Wn.m9)(t),(n instanceof Gi||n instanceof Nu)&&(t instanceof Gi||t instanceof Nu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function fH(n,t){return n=(0,Wn.m9)(n),t=(0,Wn.m9)(t),n instanceof ro&&t instanceof ro&&n.firestore===t.firestore&&nC(n._query,t._query)&&n.converter===t.converter}class SK{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new qF(this,"async_queue_retry"),this.jc=()=>{const e=$S();e&&st("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=$S();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=$S();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Cs;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,$e.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!wf(e))throw e;st("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,Rr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=uN.createAndSchedule(this,t,e,i,l=>this.Jc(l));return this.Uc.push(r),r}Wc(){this.qc&&At()}verifyOperationInProgress(){}Yc(){var t=this;return(0,$e.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function QN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class TK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Xi extends xC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new SK,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pH(this),this._firestoreClient.terminate()}}function zr(n){return n._firestoreClient||pH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pH(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new GW(n._databaseId,l,n._persistenceKey,(p=e).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new yK(n._authCredentials,n._appCheckCredentials,n._queue,i)}function gH(n,t,e){const i=new Cs;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield XG(n,e),yield eH(n,t),i.resolve()}catch(r){const l=r;if(!("FirebaseError"===(d=l).name?d.code===je.FAILED_PRECONDITION||d.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Pg("Error enabling offline persistence. Falling back to persistence disabled: "+l),i.reject(l)}var d})).then(()=>i.promise)}function mH(n){if(n._initialized||n._terminated)throw new it(je.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ih{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new it(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lu(ss.fromBase64String(t))}catch(e){throw new it(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Lu(ss.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jg{constructor(t){this._methodName=t}}class JS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new it(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new it(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return hn(this._lat,t._lat)||hn(this._long,t._long)}}const VK=/^__.*__$/;class UK{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new th(t,this.data,this.fieldMask,e,this.fieldTransforms):new O_(t,this.data,e,this.fieldTransforms)}}class yH{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new th(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function _H(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class XS{constructor(t,e,i,r,l,d){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new XS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return nT(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(_H(this.na)&&VK.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class jK{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||wC(t)}fa(t,e,i,r=!1){return new XS({na:t,methodName:e,la:i,path:vr.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Xg(n){const t=n._freezeSettings(),e=wC(n._databaseId);return new jK(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eT(n,t,e,i,r,l={}){const d=n.fa(l.merge||l.mergeFields?2:0,t,e,r);tL("Data must be an object, but it was:",d,i);const p=wH(i,d);let v,E;if(l.merge)v=new ka(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const M=[];for(const k of l.mergeFields){const z=nL(t,k,e);if(!d.contains(z))throw new it(je.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);EH(M,z)||M.push(z)}v=new ka(M),E=d.fieldTransforms.filter(k=>v.covers(k.field))}else v=null,E=d.fieldTransforms;return new UK(new Vs(p),v,E)}class DC extends Jg{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof DC}}function vH(n,t,e){return new XS({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class JN extends Jg{_toFieldTransform(t){return new iC(t.path,new R_)}isEqual(t){return t instanceof JN}}class GK extends Jg{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=vH(this,t,!0),i=this.da.map(l=>em(l,e)),r=new Gg(i);return new iC(t.path,r)}isEqual(t){return this===t}}class HK extends Jg{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=vH(this,t,!0),i=this.da.map(l=>em(l,e)),r=new Hg(i);return new iC(t.path,r)}isEqual(t){return this===t}}class $K extends Jg{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new k_(t.It,uj(t.It,this._a));return new iC(t.path,e)}isEqual(t){return this===t}}function XN(n,t,e,i){const r=n.fa(1,t,e);tL("Data must be an object, but it was:",r,i);const l=[],d=Vs.empty();Lg(i,(v,E)=>{const M=tT(t,v,e);E=(0,Wn.m9)(E);const k=r.ua(M);if(E instanceof DC)l.push(M);else{const z=em(E,k);null!=z&&(l.push(M),d.set(M,z))}});const p=new ka(l);return new yH(d,p,r.fieldTransforms)}function eL(n,t,e,i,r,l){const d=n.fa(1,t,e),p=[nL(t,i,e)],v=[r];if(l.length%2!=0)throw new it(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<l.length;z+=2)p.push(nL(t,l[z])),v.push(l[z+1]);const E=[],M=Vs.empty();for(let z=p.length-1;z>=0;--z)if(!EH(E,p[z])){const W=p[z];let te=v[z];te=(0,Wn.m9)(te);const Ee=d.ua(W);if(te instanceof DC)E.push(W);else{const Be=em(te,Ee);null!=Be&&(E.push(W),M.set(W,Be))}}const k=new ka(E);return new yH(M,k,d.fieldTransforms)}function bH(n,t,e,i=!1){return em(e,n.fa(i?4:3,t))}function em(n,t){if(CH(n=(0,Wn.m9)(n)))return tL("Unsupported field value:",t,n),wH(n,t);if(n instanceof Jg)return function(e,i){if(!_H(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let l=0;for(const d of e){let p=em(d,i.ca(l));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),l++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Wn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uj(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Qi.fromDate(e);return{timestampValue:cC(i.It,r)}}if(e instanceof Qi){const r=new Qi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cC(i.It,r)}}if(e instanceof JS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lu)return{bytesValue:Rj(i.It,e._byteString)};if(e instanceof Gi){const r=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(r))throw i.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:EF(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${KS(e)}`)}(n,t)}function wH(n,t){const e={};return U6(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Lg(n,(i,r)=>{const l=em(r,t.ia(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function CH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qi||n instanceof JS||n instanceof Lu||n instanceof Gi||n instanceof Jg)}function tL(n,t,e){if(!CH(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=KS(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function nL(n,t,e){if((t=(0,Wn.m9)(t))instanceof ih)return t._internalPath;if("string"==typeof t)return tT(n,t);throw nT("Field path arguments must be of type string or ",n,!1,void 0,e)}const zK=new RegExp("[~\\*/\\[\\]]");function tT(n,t,e){if(t.search(zK)>=0)throw nT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ih(...t.split("."))._internalPath}catch{throw nT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function nT(n,t,e,i,r){const l=i&&!i.isEmpty(),d=void 0!==r;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||d)&&(v+=" (found",l&&(v+=` in field ${i}`),d&&(v+=` in document ${r}`),v+=")"),new it(je.INVALID_ARGUMENT,p+n+v)}function EH(n,t){return n.some(e=>e.isEqual(t))}class IC{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new qK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class qK extends IC{data(){return super.data()}}function iT(n,t){return"string"==typeof t?tT(n,t):t instanceof ih?t._internalPath:t._delegate._internalPath}class tm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rh extends IC{constructor(t,e,i,r,l,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new AC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(iT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class AC extends rh{data(t={}){return super.data(t)}}class Of{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new AC(this._firestore,this._userDataWriter,i.key,i,new tm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new it(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new AC(i._firestore,i._userDataWriter,d.doc.key,d.doc,new tm(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const p=new AC(i._firestore,i._userDataWriter,d.doc.key,d.doc,new tm(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let v=-1,E=-1;return 0!==d.type&&(v=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),E=l.indexOf(d.doc.key)),{type:WK(d.type),doc:p,oldIndex:v,newIndex:E}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function WK(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}function xH(n,t){return n instanceof rh&&t instanceof rh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Of&&t instanceof Of&&n._firestore===t._firestore&&fH(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function DH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new it(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SC{}function Pf(n,...t){for(const e of t)n=e._apply(n);return n}class ZK extends SC{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=Xg(t.firestore),i=function(r,l,d,p,v,E,M){let k;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new it(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){RH(M,E);const W=[];for(const te of M)W.push(MH(p,r,te));k={arrayValue:{values:W}}}else k=MH(p,r,M)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||RH(M,E),k=bH(d,"where",M,"in"===E||"not-in"===E);const z=Us.create(v,E,k);return function(W,te){if(te.dt()){const Be=_F(W);if(null!==Be&&!Be.isEqual(te.field))throw new it(je.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Be.toString()}' and '${te.field.toString()}'`);const Ze=yF(W);null!==Ze&&kH(0,te.field,Ze)}const Ee=function(Be,Ze){for(const ht of Be.filters)if(Ze.indexOf(ht.op)>=0)return ht.op;return null}(W,function(Be){switch(Be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Ee)throw new it(je.INVALID_ARGUMENT,Ee===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Ee.toString()}' filters.`)}(r,z),z}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new ro(t.firestore,t.converter,function(r,l){const d=r.filters.concat([l]);return new eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class KK extends SC{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,l){if(null!==i.startAt)throw new it(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new it(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new S_(r,l);return function(p,v){if(null===yF(p)){const E=_F(p);null!==E&&kH(0,E,v.field)}}(i,d),d}(t._query,this.wa,this.ya);return new ro(t.firestore,t.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new eh(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class IH extends SC{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new ro(t.firestore,t.converter,DS(t._query,this.pa,this.Ia))}}class AH extends SC{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=TH(t,this.type,this.Ta,this.Ea);return new ro(t.firestore,t.converter,(r=e,new eh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class SH extends SC{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=TH(t,this.type,this.Ta,this.Ea);return new ro(t.firestore,t.converter,(r=e,new eh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function TH(n,t,e,i){if(e[0]=(0,Wn.m9)(e[0]),e[0]instanceof IC)return function(r,l,d,p,v){if(!p)throw new it(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const E=[];for(const M of M_(r))if(M.field.isKeyField())E.push(Ug(l,p.key));else{const k=p.data.field(M.field);if(pF(k))throw new it(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const z=M.field.canonicalString();throw new it(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}E.push(k)}return new If(E,v)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Xg(n.firestore);return function(l,d,p,v,E,M){const k=l.explicitOrderBy;if(E.length>k.length)throw new it(je.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let W=0;W<E.length;W++){const te=E[W];if(k[W].field.isKeyField()){if("string"!=typeof te)throw new it(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof te}`);if(!vF(l)&&-1!==te.indexOf("/"))throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${te}' contains a slash.`);const Ee=l.path.child($n.fromString(te));if(!gt.isDocumentKey(Ee))throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Ee}' is not because it contains an odd number of segments.`);const Be=new gt(Ee);z.push(Ug(d,Be))}else{const Ee=bH(p,v,te);z.push(Ee)}}return new If(z,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function MH(n,t,e){if("string"==typeof(e=(0,Wn.m9)(e))){if(""===e)throw new it(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vF(t)&&-1!==e.indexOf("/"))throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child($n.fromString(e));if(!gt.isDocumentKey(i))throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ug(n,new gt(i))}if(e instanceof Gi)return Ug(n,e._key);throw new it(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KS(e)}.`)}function RH(n,t){if(!Array.isArray(n)||0===n.length)throw new it(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new it(je.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function kH(n,t,e){if(!e.isEqual(t))throw new it(je.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const rQ={maxAttempts:5};class iL{convertValue(t,e="none"){switch(Vg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw At()}}convertObject(t,e){const i={};return Lg(t.fields,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new JS(wr(t.latitude),wr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=G6(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Yw(t));default:return null}}convertTimestamp(t){const e=Cf(t);return new Qi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=$n.fromString(t);an(jj(i));const r=new Ef(i.get(1),i.get(3)),l=new gt(i.popFirst(5));return r.isEqual(e)||Rr(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function rT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class sQ extends iL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,e)}}class OH{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xg(t)}set(t,e,i){this._verifyNotCommitted();const r=Ff(t,this._firestore),l=rT(r.converter,e,i),d=eT(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Ji.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=Ff(t,this._firestore);let d;return d="string"==typeof(e=(0,Wn.m9)(e))||e instanceof ih?eL(this._dataReader,"WriteBatch.update",l._key,e,i,r):XN(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(d.toMutation(l._key,Ji.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ff(t,this._firestore);return this._mutations=this._mutations.concat(new P_(e._key,Ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new it(je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ff(n,t){if((n=(0,Wn.m9)(n)).firestore!==t)throw new it(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nm extends iL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,e)}}function PH(n,t,e){n=Vn(n,Gi);const i=Vn(n.firestore,Xi),r=rT(n.converter,t,e);return Y_(i,[eT(Xg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ji.none())])}function FH(n,t,e,...i){n=Vn(n,Gi);const r=Vn(n.firestore,Xi),l=Xg(r);let d;return d="string"==typeof(t=(0,Wn.m9)(t))||t instanceof ih?eL(l,"updateDoc",n._key,t,e,i):XN(l,"updateDoc",n._key,t),Y_(r,[d.toMutation(n._key,Ji.exists(!0))])}function NH(n,...t){var e,i,r;n=(0,Wn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||QN(t[d])||(l=t[d],d++);const p={includeMetadataChanges:l.includeMetadataChanges};if(QN(t[d])){const k=t[d];t[d]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[d+1]=null===(i=k.error)||void 0===i?void 0:i.bind(k),t[d+2]=null===(r=k.complete)||void 0===r?void 0:r.bind(k)}let v,E,M;if(n instanceof Gi)E=Vn(n.firestore,Xi),M=T_(n._key.path),v={next:k=>{t[d]&&t[d](rL(E,n,k))},error:t[d+1],complete:t[d+2]};else{const k=Vn(n,ro);E=Vn(k.firestore,Xi),M=k._query;const z=new nm(E);v={next:W=>{t[d]&&t[d](new Of(E,z,k,W))},error:t[d+1],complete:t[d+2]},DH(n._query)}return function(k,z,W,te){const Ee=new WS(te),Be=new mN(z,Ee,W);return k.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return dN(yield Z_(k),Be)})),()=>{Ee.Rc(),k.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return fN(yield Z_(k),Be)}))}}(zr(E),M,p,v)}function Y_(n,t){return function(e,i){const r=new Cs;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function QY(n,t,e){return wN.apply(this,arguments)}(yield ZN(e),i,r)})),r.promise}(zr(n),t)}function rL(n,t,e){const i=e.docs.get(t._key),r=new nm(n);return new rh(n,r,t._key,i,new tm(e.hasPendingWrites,e.fromCache),t.converter)}class gQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xg(t)}get(t){const e=Ff(t,this._firestore),i=new sQ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return At();const l=r[0];if(l.isFoundDocument())return new IC(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new IC(this._firestore,i,e._key,null,e.converter);throw At()})}set(t,e,i){const r=Ff(t,this._firestore),l=rT(r.converter,e,i),d=eT(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(t,e,i,...r){const l=Ff(t,this._firestore);let d;return d="string"==typeof(e=(0,Wn.m9)(e))||e instanceof ih?eL(this._dataReader,"Transaction.update",l._key,e,i,r):XN(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,d),this}delete(t){const e=Ff(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ff(t,this._firestore),i=new nm(this._firestore);return super.get(t).then(r=>new rh(this._firestore,i,e._key,r._document,new tm(!1,!1),e.converter))}}function sL(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new it("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function BH(){if(typeof Uint8Array>"u")throw new it("unimplemented","Uint8Arrays are not available in this environment.")}function VH(){if(!function UW(){return typeof atob<"u"}())throw new it("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){x_=Mc.SDK_VERSION,(0,Mc._registerComponent)(new xo.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const l=e.getProvider("app").getImmediate(),d=new Xi(new SW(e.getProvider("auth-internal")),new RW(e.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new it(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(p.options.projectId,v)}(l,i),l);return r=Object.assign({useFetchStreams:t},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,Mc.registerVersion)(T6,"3.5.0",n),(0,Mc.registerVersion)(T6,"3.5.0","esm2017")}();class TC{constructor(t){this._delegate=t}static fromBase64String(t){return VH(),new TC(Lu.fromBase64String(t))}static fromUint8Array(t){return BH(),new TC(Lu.fromUint8Array(t))}toBase64(){return VH(),this._delegate.toBase64()}toUint8Array(){return BH(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oL(n){return function xQ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class DQ{enableIndexedDbPersistence(t,e){return function RK(n,t){mH(n=Vn(n,Xi));const e=zr(n),i=n._freezeSettings(),r=new GN;return gH(e,r,new QG(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function kK(n){mH(n=Vn(n,Xi));const t=zr(n),e=n._freezeSettings(),i=new GN;return gH(t,i,new fK(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function OK(n){if(n._initialized&&!n._terminated)throw new it(je.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(e=(0,$e.Z)(function*(i){if(!Pc.C())return Promise.resolve();const r=i+"main";yield Pc.delete(r)}),function(i){return e.apply(this,arguments)})(NF(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class UH{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ef||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Pg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function IK(n,t,e,i={}){var r;const l=(n=Vn(n,xC))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&Pg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let d,p;if("string"==typeof i.mockUserToken)d=i.mockUserToken,p=ws.MOCK_USER;else{d=(0,Wn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new it(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ws(v)}n._authCredentials=new AW(new M6(d,p))}}(this._delegate,t,e,i)}enableNetwork(){return function FK(n){return function _K(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield tH(n),e=yield nH(n);return t.setNetworkEnabled(!0),function(i){const r=_t(i);return r._u.delete(0),CC(r)}(e)}))}(zr(n=Vn(n,Xi)))}(this._delegate)}disableNetwork(){return function NK(n){return function vK(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield tH(n),e=yield nH(n);return t.setNetworkEnabled(!1),(i=(0,$e.Z)(function*(r){const l=_t(r);l._u.add(0),yield j_(l),l.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(zr(n=Vn(n,Xi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,oH("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function PK(n){return function(t){const e=new Cs;return t.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function tK(n,t){return IN.apply(this,arguments)}(yield ZN(t),e)})),e.promise}(zr(n=Vn(n,Xi)))}(this._delegate)}onSnapshotsInSync(t){return function pQ(n,t){return function CK(n,t){const e=new WS(t);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return i=yield Z_(n),r=e,_t(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return i=yield Z_(n),r=e,void _t(i).Ru.delete(r);var i,r}))}}(zr(n=Vn(n,Xi)),QN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new it("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new K_(this,dH(this._delegate,t))}catch(e){throw So(e,"collection()","Firestore.collection()")}}doc(t){try{return new Bl(this,QS(this._delegate,t))}catch(e){throw So(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new To(this,function AK(n,t){if(n=Vn(n,xC),KN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new it(je.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(n,null,(e=t,new eh($n.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw So(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function mQ(n,t,e){n=Vn(n,Xi);const i=Object.assign(Object.assign({},rQ),e);return function(r){if(r.maxAttempts<1)throw new it(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function EK(n,t,e){const i=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const r=yield(l=n,ZS(l).then(d=>d.datastore));var l;new mK(n.asyncQueue,r,e,t,i).run()})),i.promise}(zr(n),r=>t(new gQ(n,r)),i)}(this._delegate,e=>t(new jH(this,e)))}batch(){return zr(this._delegate),new GH(new OH(this._delegate,t=>Y_(this._delegate,t)))}loadBundle(t){return function LK(n,t){const e=zr(n=Vn(n,Xi)),i=new TK;return function xK(n,t,e,i){const r=function(l,d){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,E){if(v instanceof Uint8Array)return JG(v,E);if(v instanceof ArrayBuffer)return JG(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new pK(v,d);var v}(e,wC(t));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function hK(n,t,e){const i=_t(n);var r;(r=(0,$e.Z)(function*(l,d,p){try{const v=yield d.getMetadata();if(yield function(z,W){const te=_t(z),Ee=Es(W.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",Be=>te.Ns.getBundleMetadata(Be,W.id)).then(Be=>!!Be&&Be.createTime.compareTo(Ee)>=0)}(l.localStore,v))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(z=v).totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}),Promise.resolve(new Set);p._updateProgress(jG(v));const E=new zY(v,l.localStore,d.It);let M=yield d.wc();for(;M;){const z=yield E.Ou(M);z&&p._updateProgress(z),M=yield d.wc()}const k=yield E.complete();return yield nh(l,k.Bu,void 0),yield function(z,W){const te=_t(z);return te.persistence.runTransaction("Save bundle","readwrite",Ee=>te.Ns.saveBundleMetadata(Ee,W))}(l.localStore,v),p._completeWith(k.progress),Promise.resolve(k.$u)}catch(v){return Pg("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var z}),function(l,d,p){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ZN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function BK(n,t){return function DK(n,t){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(e,i){const r=_t(e);return r.persistence.runTransaction("Get named query","readonly",l=>r.Ns.getNamedQuery(l,i))}(yield YS(n),t)}))}(zr(n=Vn(n,Xi)),t).then(e=>e?new ro(n,null,e.query):null)}(this._delegate,t).then(e=>e?new To(this,e):null)}}class sT extends iL{constructor(t){super(),this.firestore=t}convertBytes(t){return new TC(new Lu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Bl.forKey(e,this.firestore,null)}}class jH{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sT(t)}get(t){const e=rm(t);return this._delegate.get(e).then(i=>new MC(this._firestore,new rh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=rm(t);return i?(sL("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=rm(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=rm(t);return this._delegate.delete(e),this}}class GH{constructor(t){this._delegate=t}set(t,e,i){const r=rm(t);return i?(sL("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=rm(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=rm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class im{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new AC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new RC(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=im.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let l=r.get(e);return l||(l=new im(t,new sT(t),e),r.set(e,l)),l}}im.INSTANCES=new WeakMap;class Bl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new it("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Bl(e,new Gi(e._delegate,i,new gt(t)))}static forKey(t,e,i){return new Bl(e,new Gi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new K_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new K_(this.firestore,dH(this._delegate,t))}catch(e){throw So(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Wn.m9)(t))instanceof Gi&&hH(this._delegate,t)}set(t,e){e=sL("DocumentReference.set",e);try{return e?PH(this._delegate,t,e):PH(this._delegate,t)}catch(i){throw So(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?FH(this._delegate,t):FH(this._delegate,t,e,...i)}catch(r){throw So(r,"updateDoc()","DocumentReference.update()")}}delete(){return function hQ(n){return Y_(Vn(n.firestore,Xi),[new P_(n._key,Ji.none())])}(this._delegate)}onSnapshot(...t){const e=HH(t),i=$H(t,r=>new MC(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return NH(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function aQ(n){n=Vn(n,Gi);const t=Vn(n.firestore,Xi),e=zr(t),i=new nm(t);return function bK(n,t){const e=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(r,l,d){try{const p=yield function(v,E){const M=_t(v);return M.persistence.runTransaction("read document","readonly",k=>M.localDocuments.getDocument(k,E))}(r,l);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new it(je.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=$_(p,`Failed to get document '${l} from cache`);d.reject(v)}}),function(r,l,d){return i.apply(this,arguments)})(yield YS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new rh(t,i,n._key,r,new tm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function lQ(n){n=Vn(n,Gi);const t=Vn(n.firestore,Xi);return iH(zr(t),n._key,{source:"server"}).then(e=>rL(t,n,e))}(this._delegate):function oQ(n){n=Vn(n,Gi);const t=Vn(n.firestore,Xi);return iH(zr(t),n._key).then(e=>rL(t,n,e))}(this._delegate),e.then(i=>new MC(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Bl(this.firestore,this._delegate.withConverter(t?im.getInstance(this.firestore,t):null))}}function So(n,t,e){return n.message=n.message.replace(t,e),n}function HH(n){for(const t of n)if("object"==typeof t&&!oL(t))return t;return{}}function $H(n,t){var e,i;let r;return r=oL(n[0])?n[0]:oL(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(t(l))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class MC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Bl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return xH(this._delegate,t._delegate)}}class RC extends MC{data(t){const e=this._delegate.data(t);return function DW(n,t){n||At()}(void 0!==e),e}}class To{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sT(t)}where(t,e,i){try{return new To(this.firestore,Pf(this._delegate,function YK(n,t,e){const i=t,r=iT("where",n);return new ZK(r,i,e)}(t,e,i)))}catch(r){throw So(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new To(this.firestore,Pf(this._delegate,function QK(n,t="asc"){const e=t,i=iT("orderBy",n);return new KK(i,e)}(t,e)))}catch(i){throw So(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new To(this.firestore,Pf(this._delegate,function JK(n){return cH("limit",n),new IH("limit",n,"F")}(t)))}catch(e){throw So(e,"limit()","Query.limit()")}}limitToLast(t){try{return new To(this.firestore,Pf(this._delegate,function XK(n){return cH("limitToLast",n),new IH("limitToLast",n,"L")}(t)))}catch(e){throw So(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new To(this.firestore,Pf(this._delegate,function eQ(...n){return new AH("startAt",n,!0)}(...t)))}catch(e){throw So(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new To(this.firestore,Pf(this._delegate,function tQ(...n){return new AH("startAfter",n,!1)}(...t)))}catch(e){throw So(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new To(this.firestore,Pf(this._delegate,function nQ(...n){return new SH("endBefore",n,!1)}(...t)))}catch(e){throw So(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new To(this.firestore,Pf(this._delegate,function iQ(...n){return new SH("endAt",n,!0)}(...t)))}catch(e){throw So(e,"endAt()","Query.endAt()")}}isEqual(t){return fH(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function uQ(n){n=Vn(n,ro);const t=Vn(n.firestore,Xi),e=zr(t),i=new nm(t);return function wK(n,t){const e=new Cs;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(r,l,d){try{const p=yield jS(r,l,!0),v=new $G(l,p.Hi),E=v.ju(p.documents),M=v.applyChanges(E,!1);d.resolve(M.snapshot)}catch(p){const v=$_(p,`Failed to execute query '${l} against cache`);d.reject(v)}}),function(r,l,d){return i.apply(this,arguments)})(yield YS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Of(t,i,n,r))}(this._delegate):"server"===t?.source?function dQ(n){n=Vn(n,ro);const t=Vn(n.firestore,Xi),e=zr(t),i=new nm(t);return rH(e,n._query,{source:"server"}).then(r=>new Of(t,i,n,r))}(this._delegate):function cQ(n){n=Vn(n,ro);const t=Vn(n.firestore,Xi),e=zr(t),i=new nm(t);return DH(n._query),rH(e,n._query).then(r=>new Of(t,i,n,r))}(this._delegate),e.then(i=>new aL(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=HH(t),i=$H(t,r=>new aL(this.firestore,new Of(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return NH(this._delegate,e,i)}withConverter(t){return new To(this.firestore,this._delegate.withConverter(t?im.getInstance(this.firestore,t):null))}}class AQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new RC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aL{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new RC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new AQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new RC(this._firestore,i))})}isEqual(t){return xH(this._delegate,t._delegate)}}class K_ extends To{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Bl(this.firestore,t):null}doc(t){try{return new Bl(this.firestore,void 0===t?QS(this._delegate):QS(this._delegate,t))}catch(e){throw So(e,"doc()","CollectionReference.doc()")}}add(t){return function fQ(n,t){const e=Vn(n.firestore,Xi),i=QS(n),r=rT(n.converter,t);return Y_(e,[eT(Xg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ji.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Bl(this.firestore,e))}isEqual(t){return hH(this._delegate,t._delegate)}withConverter(t){return new K_(this.firestore,this._delegate.withConverter(t?im.getInstance(this.firestore,t):null))}}function rm(n){return Vn(n,Gi)}class lL{constructor(...t){this._delegate=new ih(...t)}static documentId(){return new lL(vr.keyField().canonicalString())}isEqual(t){return(t=(0,Wn.m9)(t))instanceof ih&&this._delegate._internalPath.isEqual(t._internalPath)}}class sm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function _Q(){return new JN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sm(t)}static delete(){const t=function yQ(){return new DC("deleteField")}();return t._methodName="FieldValue.delete",new sm(t)}static arrayUnion(...t){const e=function vQ(...n){return new GK("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new sm(e)}static arrayRemove(...t){const e=function bQ(...n){return new HK("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new sm(e)}static increment(t){const e=function wQ(n){return new $K("increment",n)}(t);return e._methodName="FieldValue.increment",new sm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const SQ={Firestore:UH,GeoPoint:JS,Timestamp:Qi,Blob:TC,Transaction:jH,WriteBatch:GH,DocumentReference:Bl,DocumentSnapshot:MC,Query:To,QueryDocumentSnapshot:RC,QuerySnapshot:aL,CollectionReference:K_,FieldPath:lL,FieldValue:sm,setLogLevel:function IQ(n){!function xW(n){vf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function zH(n,t){return function RQ(n,t=Tp.z){return new Vr.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function cL(n,t){return zH(n,t).pipe((0,It.U)(e=>({payload:e,type:"query"})))}function oT(n,t){return cL(n,t).pipe(Co(void 0),wP(),(0,It.U)(([e,i])=>{const r=i.payload.docChanges(),l=r.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,p)=>{const v=r.find(M=>M.doc.ref.isEqual(d.ref)),E=e?.payload.docs.find(M=>M.ref.isEqual(d.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(d.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),l}))}function qH(n,t,e){return oT(n,e).pipe(ng((i,r)=>function OQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function PQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return uL(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return uL(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return uL(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),t),[]),Tl(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function uL(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function WH(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function MQ(n){(function TQ(n,t){n.INTERNAL.registerComponent(new xo.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},SQ)))})(n,(t,e)=>new UH(t,e,new DQ)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(b9.Z);class ZH{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=oT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,It.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Co(void 0),wP(),Oi(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),jr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ng((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=WH(t);return qH(this.query,e,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(t={}){return cL(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),jr.iC)}get(t){return(0,Nn.D)(this.query.get(t)).pipe(jr.iC)}add(t){return this.ref.add(t)}doc(t){return new YH(this.ref.doc(t),this.afs)}}class YH{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:l}=JH(i,e);return new ZH(r,l,this.afs)}snapshotChanges(){return function kQ(n,t){return zH(n,t).pipe(Co(void 0),wP(),(0,It.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,It.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Nn.D)(this.ref.get(t)).pipe(jr.iC)}}class FQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?oT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Oi(e=>e.length>0),jr.iC):oT(this.query,this.afs.schedulers.outsideAngular).pipe(jr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ng((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=WH(t);return qH(this.query,e,this.afs.schedulers.outsideAngular).pipe(jr.iC)}valueChanges(t={}){return cL(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),jr.iC)}get(t){return(0,Nn.D)(this.query.get(t)).pipe(jr.iC)}}const KH=new s.OlP("angularfire2.enableFirestorePersistence"),QH=new s.OlP("angularfire2.firestore.persistenceSettings"),NQ=new s.OlP("angularfire2.firestore.settings"),LQ=new s.OlP("angularfire2.firestore.use-emulator");function JH(n,t=(e=>e)){return{query:t(n),ref:n}}let Q_=(()=>{class n{constructor(e,i,r,l,d,p,v,E,M,k,z,W,te,Ee,Be,Ze,ht){this.schedulers=v;const Ct=(0,Aa.on)(e,p,i),bt=M;k&&fI(Ct,p,z,te,Ee,Be,W,Ze),[this.firestore,this.persistenceEnabled$]=(0,Aa.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const Ft=p.runOutsideAngular(()=>Ct.firestore());if(l&&Ft.settings(l),bt&&Ft.useEmulator(...bt),r&&!hs(d)){const Bt=()=>{try{return(0,Nn.D)(Ft.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(In){return typeof console<"u"&&console.warn(In),ot(!1)}};return[Ft,p.runOutsideAngular(Bt)]}return[Ft,ot(!1)]},[l,bt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:d}=JH(r,i),p=this.schedulers.ngZone.run(()=>l);return new ZH(p,d,this)}collectionGroup(e,i){const r=i||(d=>d),l=this.firestore.collectionGroup(e);return new FQ(r(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new YH(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Aa.Dh),s.LFG(Aa.xv,8),s.LFG(KH,8),s.LFG(NQ,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(jr.HU),s.LFG(QH,8),s.LFG(LQ,8),s.LFG(R0,8),s.LFG(jy,8),s.LFG(cI,8),s.LFG(M0,8),s.LFG(uI,8),s.LFG(dI,8),s.LFG(hI,8),s.LFG(S0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BQ=(()=>{class n{constructor(){wt.Z.registerVersion("angularfire",jr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:KH,useValue:!0},{provide:QH,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Q_]}),n})(),J_=(()=>{class n{constructor(e,i){this.messageService=e,this.store=i}playersForGame(e){return this.store.collection(kt.Games).doc(e).collection(kt.GamePlayers).valueChanges({idField:"uid"})}getPlayer(e,i){return this.playersForGame(i).pipe((0,It.U)(r=>r.find(l=>l.uid===e)))}addPlayer(e,i){e.uid?this.store.collection(kt.Games).doc(i).collection(kt.GamePlayers).doc(e.uid).set(e).then(()=>{this.log(`addPlayerToGame w/ id=${i} ${e.displayName}`)},r=>this.handleError("addPlayerToGame")):this.store.collection(kt.Games).doc(i).collection(kt.GamePlayers).add(e).then(()=>{this.log(`addPlayerToGame w/ id=${i} ${e.displayName}`)},r=>this.handleError("addPlayerToGame"))}updatePlayer(e,i){return(0,Nn.D)(this.store.collection(kt.Games).doc(i).collection(kt.GamePlayers).doc(e.uid).update(e).then(()=>(this.log(`updatePlayer id: ${e.uid} name: ${e.displayName}`),e),r=>this.log(`updatePlayer ${r}`)))}deletePlayer(e,i){this.store.collection(kt.Games).doc(i).collection(kt.GamePlayers).doc(e).delete().then(()=>{this.log(`deleted player w/ id=${e}`)},r=>this.handleError("deletePlayer"))}searchPlayers(e){if(!e.trim())return ot([])}log(e){this.messageService.add(`PlayerService: ${e}`)}handleError(e="operation",i){return r=>(console.error(r),this.log(`${e} failed: ${r.message}`),ot(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v_),s.LFG(Q_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oa=(()=>{class n{constructor(e,i){this.messageService=e,this.store=i,this.games$=this.store.collection(kt.Games).valueChanges({idField:"id"})}getGame(e){return this.games$.pipe((0,It.U)(i=>i.find(r=>r.id===e)))}addGame(e,i){return e.adminIds=[],e.byePool=[],(0,Nn.D)(this.store.collection(kt.Games).add(e).then(r=>(e.id=r.id,this.log(`added game w/ id=${r.id}`),this.addAdmin(r.id,i),e),r=>this.log(`addGame ${r}`)))}updateGame(e){return(0,Nn.D)(this.store.collection(kt.Games).doc(e.id).update(e).then(()=>(this.log(`updated game w/ id=${e.id}`),e),i=>this.log(`updateGame ${i}`)))}deleteGame(e){this.store.collection(kt.Games).doc(e).delete().then(()=>{this.log(`deleted game w/ id=${e}`)},i=>this.log(`deleteGame ${i}`))}addAdmin(e,i){this.getGame(e).pipe(Ln(1)).subscribe({next:r=>{r&&(r.adminIds.push(i),this.log(`adding game admin w/ id=${i}`),this.updateGame(r))}})}deleteAdmin(e,i){this.getGame(e).pipe(Ln(1)).subscribe({next:r=>{if(r){const l=r.adminIds.filter(d=>d!==i);r.adminIds=l,this.log(`deleteAdmin w/ id=${i}`),this.updateGame(r)}}})}getAdmins(e){return this.getGame(e).pipe(Ln(1)).pipe((0,It.U)(i=>i?.adminIds??[]))}isCurrentUserAdmin(e){return this.getGame(e).pipe(Ln(1)).pipe((0,It.U)(i=>{if(!i)return!1;const l=(0,o0.n)().currentUser;return!!l&&!!i.adminIds.find(d=>d===l.uid)}))}isUserAdmin(e,i){return this.getGame(i).pipe(Ln(1)).pipe((0,It.U)(r=>!!r.adminIds.find(l=>l===e)))}log(e){this.messageService.add(`GameService: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v_),s.LFG(Q_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VQ=["input"],UQ=function(n){return{enterDuration:n}},jQ=["*"],GQ=new s.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let HQ=0;const $Q={provide:Ll,useExisting:(0,s.Gpc)(()=>XH),multi:!0};class zQ{constructor(t,e){this.source=t,this.checked=e}}const qQ=_V(zh(nD(Nb(class{constructor(n){this._elementRef=n}}))));let WQ=(()=>{class n extends qQ{constructor(e,i,r,l,d,p,v){super(e),this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=d,this._onChange=E=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new s.vpe,this.toggleChange=new s.vpe,this.tabIndex=parseInt(l)||0,this.color=this.defaultColor=d.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId=`${v}${++HQ}`}get required(){return this._required}set required(e){this._required=di(e)}get checked(){return this._checked}set checked(e){this._checked=di(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._focused=!0:e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[s.qOj]}),n})(),XH=(()=>{class n extends WQ{constructor(e,i,r,l,d,p){super(e,i,r,l,d,p,"mat-slide-toggle-")}_createChangeEvent(e){return new zQ(this,e)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Js),s.Y36(s.sBO),s.$8M("tabindex"),s.Y36(GQ),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(e,i){if(1&e&&s.Gf(VQ,5),2&e){let r;s.iGM(r=s.CRH())&&(i._inputElement=r.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),s.ekj("mat-checked",i.checked)("mat-disabled",i.disabled)("mat-slide-toggle-label-before","before"==i.labelPosition)("_mat-animation-noopable",i._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[s._Bn([$Q]),s.qOj],ngContentSelectors:jQ,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,i){if(1&e&&(s.F$t(),s.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),s.NdJ("change",function(l){return i._onChangeEvent(l)})("click",function(l){return i._onInputClick(l)}),s.qZA(),s.TgZ(5,"span",5),s._UZ(6,"span",6),s.TgZ(7,"span",7),s._UZ(8,"span",8),s.qZA()()(),s.TgZ(9,"span",9,10),s.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),s.TgZ(11,"span",11),s._uU(12,"\xa0"),s.qZA(),s.Hsn(13),s.qZA()()),2&e){const r=s.MAs(1),l=s.MAs(10);s.uIk("for",i.inputId),s.xp6(2),s.ekj("mat-slide-toggle-bar-no-side-margin",!l.textContent||!l.textContent.trim()),s.xp6(1),s.Q6J("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex)("checked",i.checked)("disabled",i.disabled),s.uIk("name",i.name)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),s.xp6(4),s.Q6J("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",s.VKq(18,UQ,i._noopAnimations?0:150))}},dependencies:[kd,lb],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),n})(),e4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),KQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[e4,gy,Di,Ym,e4,Di]}),n})();const QQ=["connectionContainer"],JQ=["inputContainer"],XQ=["label"];function eJ(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function tJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function nJ(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function iJ(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function rJ(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function sJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,nJ,4,1,"ng-container",12),s.YNc(3,iJ,1,0,"ng-content",12),s.YNc(4,rJ,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function oJ(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function aJ(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function lJ(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function cJ(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function uJ(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,cJ,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const dJ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hJ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],fJ=new s.OlP("MatError"),pJ={transitionMessages:Ub("transitionMessages",[qh("enter",Eo({opacity:1,transform:"translateY(0%)"})),Pd("void => enter",[Eo({opacity:0,transform:"translateY(-5px)"}),Od("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const gJ=new s.OlP("MatHint");let om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),mJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const yJ=new s.OlP("MatPrefix"),_J=new s.OlP("MatSuffix");let t4=0;const bJ=zh(class{constructor(n){this._elementRef=n}},"primary"),wJ=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),r4=new s.OlP("MatFormField");let kC=(()=>{class n extends bJ{constructor(e,i,r,l,d,p,v){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=d,this._ngZone=p,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Qt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+t4++,this._labelId="mat-form-field-label-"+t4++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=l?.appearance||"legacy",l&&(this._hideRequiredMarker=Boolean(l.hideRequiredMarker),l.color&&(this.color=this.defaultColor=l.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=di(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Co(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Br(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Br(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,xc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Co(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Co(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Br(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ba(this._label.nativeElement,"transitionend").pipe(Ln(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=i.querySelectorAll(`${r}, ${l}`);for(let k=0;k<M.length;k++)M[k].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let d=0,p=0;const v=i.querySelectorAll(r),E=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const M=i.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const k=this._getStartEnd(M),z=e.children,W=this._getStartEnd(z[0].getBoundingClientRect());let te=0;for(let Ee=0;Ee<z.length;Ee++)te+=z[Ee].offsetWidth;d=Math.abs(W-k)-5,p=te>0?.75*te+10:0}for(let M=0;M<v.length;M++)v[M].style.width=`${d}px`;for(let M=0;M<E.length;M++)E[M].style.width=`${p}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36($o,8),s.Y36(wJ,8),s.Y36(xi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,dL,5),s.Suo(r,dL,7),s.Suo(r,om,5),s.Suo(r,om,7),s.Suo(r,mJ,5),s.Suo(r,fJ,5),s.Suo(r,gJ,5),s.Suo(r,yJ,5),s.Suo(r,_J,5)),2&e){let l;s.iGM(l=s.CRH())&&(i._controlNonStatic=l.first),s.iGM(l=s.CRH())&&(i._controlStatic=l.first),s.iGM(l=s.CRH())&&(i._labelChildNonStatic=l.first),s.iGM(l=s.CRH())&&(i._labelChildStatic=l.first),s.iGM(l=s.CRH())&&(i._placeholderChild=l.first),s.iGM(l=s.CRH())&&(i._errorChildren=l),s.iGM(l=s.CRH())&&(i._hintChildren=l),s.iGM(l=s.CRH())&&(i._prefixChildren=l),s.iGM(l=s.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(QQ,7),s.Gf(JQ,5),s.Gf(XQ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:r4,useExisting:n}]),s.qOj],ngContentSelectors:hJ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(dJ),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),s.YNc(3,eJ,9,0,"ng-container",3),s.YNc(4,tJ,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,sJ,5,16,"label",8),s.qZA()(),s.YNc(10,oJ,2,0,"div",9),s.qZA(),s.YNc(11,aJ,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,lJ,2,1,"div",12),s.YNc(14,uJ,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[En,Po,$l,lb],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[pJ.transitionMessages]},changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yu,Di,Ym,Di]}),n})();const o4=_l({passive:!0});let CJ=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ms.E;const i=Cc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new Qt.x,d="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===v.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",p,o4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",p,o4)}}),l}stopMonitoring(e){const i=Cc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const EJ=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),xJ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let DJ=0;const IJ=vV(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Qt.x}});let OC=(()=>{class n extends IJ{constructor(e,i,r,l,d,p,v,E,M,k){super(p,l,d,r),this._elementRef=e,this._platform=i,this._autofillMonitor=E,this._formField=k,this._uid="mat-input-"+DJ++,this.focused=!1,this.stateChanges=new Qt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(te=>fc().has(te)),this._iOSKeyupListener=te=>{const Ee=te.target;!Ee.value&&0===Ee.selectionStart&&0===Ee.selectionEnd&&(Ee.setSelectionRange(1,1),Ee.setSelectionRange(0,0))};const z=this._elementRef.nativeElement,W=z.nodeName.toLowerCase();this._inputValueAccessor=v||z,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===W,this._isTextarea="textarea"===W,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=z.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=di(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(u.required)??!1}set required(e){this._required=di(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&fc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=di(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){xJ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xi),s.Y36(Ta,10),s.Y36(jA,8),s.Y36(HA,8),s.Y36(oD),s.Y36(EJ,10),s.Y36(CJ),s.Y36(s.R0b),s.Y36(r4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:dL,useExisting:n}]),s.qOj,s.TTD]}),n})(),AJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[oD],imports:[a4,s4,Di,a4,s4]}),n})(),aT=(()=>{class n{constructor(e){this.location=e}goBack(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-section-header"]],inputs:{sectionName:"sectionName"},decls:8,vars:1,consts:[[1,"flex-box-rows"],["color","accent"],[1,"flex-box-item"],["mat-raised-button","","color","primary","aria-label","Back","title","Back",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span"),s._uU(4),s.qZA()(),s.TgZ(5,"div")(6,"button",3),s.NdJ("click",function(){return i.goBack()}),s._uU(7," Back "),s.qZA()()()()),2&e&&(s.xp6(4),s.Oqu(i.sectionName))},dependencies:[Ac,Ps]}),n})();function SJ(n,t){if(1&n&&(s.TgZ(0,"div",11)(1,"span",4),s._uU(2),s.qZA(),s.TgZ(3,"span",4),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.hij("Round: ",e.roundNumber,""),s.xp6(2),s.hij(" - Points: ",e.points,"")}}function TJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s._UZ(1,"app-section-header",1),s.TgZ(2,"div",2)(3,"div",3)(4,"span",4),s._uU(5,"Player Id: "),s.qZA(),s.TgZ(6,"span",4),s._uU(7),s.qZA()(),s.TgZ(8,"div",3)(9,"mat-form-field",5)(10,"mat-label"),s._uU(11,"Player Name"),s.qZA(),s.TgZ(12,"input",6),s.NdJ("ngModelChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.player.displayName=r)}),s.qZA()()(),s.TgZ(13,"div",3)(14,"mat-slide-toggle",7),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.toggleIsAdmin())}),s._uU(15,"Admin"),s.qZA()(),s.TgZ(16,"div",3)(17,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.save())}),s._uU(18,"Save"),s.qZA()()(),s.TgZ(19,"mat-toolbar",9)(20,"span"),s._uU(21,"Points"),s.qZA()(),s.YNc(22,SJ,5,2,"div",10),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("sectionName",e.sectionName),s.xp6(6),s.Oqu(e.player.uid),s.xp6(5),s.Q6J("disabled",e.isDisabled)("ngModel",e.player.displayName),s.xp6(2),s.Q6J("checked",e.isAdmin)("disabled",!e.isCurrentUserAdmin),s.xp6(3),s.Q6J("disabled",e.isDisabled),s.xp6(5),s.Q6J("ngForOf",e.player.pointsForRound)}}let MJ=(()=>{class n{constructor(e,i,r,l,d){this.route=e,this.playerService=i,this.location=r,this.gameService=l,this.authService=d,this.isAdmin=!1,this.isDisabled=!0,this.isCurrentUserAdmin=!1}ngOnInit(){this.getPlayer(),this.setDisabledState()}getPlayer(){this.gameId=this.route.snapshot.paramMap.get("gameId");const e=this.route.snapshot.paramMap.get("playerId");this.playerService.getPlayer(e,this.gameId).subscribe({next:i=>{this.player=i,this.sectionName=`${i.displayName.toUpperCase()} Details`}}),this.gameService.getGame(this.gameId).subscribe({next:i=>{this.isAdmin=!(!i.adminIds||!i.adminIds.find(r=>r===e))}})}goBack(){this.location.back()}save(){this.player&&this.playerService.updatePlayer(this.player,this.gameId)}toggleIsAdmin(){!this.isCurrentUserAdmin||(this.isAdmin?this.gameService.deleteAdmin(this.gameId,this.player.uid):this.gameService.addAdmin(this.gameId,this.player.uid))}setDisabledState(){this.gameService.isCurrentUserAdmin(this.gameId).subscribe({next:e=>{const i=this.authService.getCurrentUser();this.isCurrentUserAdmin=e,(i&&i.uid===this.player.uid||e)&&(this.isDisabled=!1)}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eo),s.Y36(J_),s.Y36(Ne),s.Y36(Oa),s.Y36(Ol))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-game-player-detail"]],inputs:{player:"player",gameId:"gameId"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"sectionName"],[1,"content","flex-box-columns","mat-typography"],[1,"flex-box-item"],[1,"mat-h3"],["appearance","fill"],["matInput","","placeholder","Player Name",3,"disabled","ngModel","ngModelChange"],[3,"checked","disabled","click"],["mat-raised-button","","color","primary",3,"disabled","click"],["color","accent"],["class","content",4,"ngFor","ngForOf"],[1,"content"]],template:function(e,i){1&e&&s.YNc(0,TJ,23,8,"div",0),2&e&&s.Q6J("ngIf",i.player)},dependencies:[hr,En,Ag,OA,GA,Ac,XH,Ps,kC,om,OC,aT]}),n})(),RJ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=di(e)}get inset(){return this._inset}set inset(e){this._inset=di(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),kJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Di]}),n})();function OJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s._UZ(1,"mat-divider"),s.TgZ(2,"div",7)(3,"div",1)(4,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.cancel())}),s._uU(5),s.qZA()(),s.TgZ(6,"div",1)(7,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.confirm())}),s._uU(8),s.qZA()()()()}if(2&n){const e=s.oxw();s.xp6(5),s.Oqu(e.cancelButtonText),s.xp6(3),s.Oqu(e.confirmButtonText)}}let lT=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.title="Confirm Dialog",this.message="",this.confirmButtonText="Ok",this.cancelButtonText="Cancel",this.showActionButtons=!0}ngOnInit(){this.data.title&&(this.title=this.data.title),this.data.message&&(this.message=this.data.message),this.data.confirmButtonText&&(this.confirmButtonText=this.data.confirmButtonText),this.data.cancelButtonText&&(this.cancelButtonText=this.data.cancelButtonText),void 0!==this.data.showActionButtons&&(this.showActionButtons=this.data.showActionButtons)}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:12,vars:3,consts:[["color","primary",1,"header"],[1,"flex-box-item"],["mat-dialog-title",""],["mat-icon-button","","aria-label","close",3,"click"],[1,"content"],[1,"mat-body"],[4,"ngIf"],[1,"content","flex-box-rows"],["mat-raised-button","","color","warn",1,"full-width",3,"click"],["mat-raised-button","","color","primary",1,"full-width",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"h1",2),s._uU(3),s.qZA()(),s.TgZ(4,"div")(5,"button",3),s.NdJ("click",function(){return i.cancel()}),s.TgZ(6,"mat-icon"),s._uU(7,"close"),s.qZA()()()(),s.TgZ(8,"div",4)(9,"p",5),s._uU(10),s.qZA()(),s.YNc(11,OJ,9,2,"div",6)),2&e&&(s.xp6(3),s.Oqu(i.title),s.xp6(7),s.Oqu(i.message),s.xp6(1),s.Q6J("ngIf",i.showActionButtons))},dependencies:[En,Ac,Ea,qb,Ps,RJ]}),n})(),cT=(()=>{class n{constructor(e,i){this.messageService=e,this.store=i}roundsForGame(e){return this.store.collection(kt.Games).doc(e).collection(kt.Rounds).valueChanges({idField:"id"})}getRound(e,i){return this.store.collection(kt.Games).doc(i).collection(kt.Rounds).doc(e).valueChanges({idField:"id"})}addRound(e,i){return(0,Nn.D)(this.store.collection(kt.Games).doc(i).collection(kt.Rounds).add(e).then(r=>(this.log(`add round to game w/ id=${i} ${r.id}`),e.id=r.id,e),r=>this.log(`Error addRound w/ id=${i}`)))}updateRound(e,i){this.store.collection(kt.Games).doc(i).collection(kt.Rounds).doc(e.id).update(e).then(()=>{this.log(`update round w/ game id=${i} roundId = ${e.id}`)},r=>this.log(`Error updateRound w/ id=${i}`))}deleteRound(e,i){this.store.collection(kt.Games).doc(i).collection(kt.Rounds).doc(e).delete().then(()=>{this.log(`deleted round w/ id=${e}`)},r=>this.log(`ERROR deleteRound w/ id=${e}`))}log(e){this.messageService.add(`RoundService: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v_),s.LFG(Q_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PJ=["*",[["mat-card-footer"]]],FJ=["*","mat-card-footer"];let PC=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:FJ,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(PJ),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),NJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Di]}),n})();function LJ(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,"(you)"),s.qZA())}function BJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",7),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.view(r.player))}),s.TgZ(2,"mat-icon"),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.delete(r.player))}),s.TgZ(5,"mat-icon"),s._uU(6,"delete"),s.qZA()()()}}let VJ=(()=>{class n{constructor(e,i,r,l,d,p){this.playerService=e,this.gameService=i,this.authService=r,this.route=l,this.dialog=d,this.router=p,this.isAdmin$=ot(!1),this.totalPoints=0}ngOnInit(){this.gameId=this.route.snapshot.paramMap.get("gameId"),this.currentUser=this.authService.getCurrentUser(),this.isAdmin$=this.gameService.isCurrentUserAdmin(this.gameId),this.calculatePoints()}delete(e){this.dialog.open(lT,{panelClass:"dialog-container",data:{title:"Delete Player",message:"Are you sure you want to delete this player?",confirmButtonText:"Yes"}}).afterClosed().subscribe(r=>{r&&this.playerService.deletePlayer(e.uid,this.gameId)})}view(e){this.router.navigateByUrl(`/game/${this.gameId}/player/${e.uid}`)}calculatePoints(){this.totalPoints=0,this.player.pointsForRound&&this.player.pointsForRound.forEach(e=>{this.totalPoints+=e.points})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J_),s.Y36(Oa),s.Y36(Ol),s.Y36(eo),s.Y36(Yo),s.Y36(Ii))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-player-card"]],inputs:{player:"player",position:"position"},decls:12,vars:7,consts:[[1,"mdc-card","card"],["tabindex","0",1,"mdc-card__primary-action","details",3,"click"],[1,"flex-box-rows"],[1,"mdc-button__label","position","flex-box-item"],[1,"mdc-button__label","name","flex-box-item"],[4,"ngIf"],[1,"mdc-button__label","score"],["mat-icon-button","","color","primary","aria-label","game details","title","player details",3,"click"],["mat-icon-button","","color","primary","aria-label","delete game","title","delete player",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1),s.NdJ("click",function(){return i.view(i.player)}),s.TgZ(2,"div",2)(3,"div",3),s._uU(4),s.qZA(),s.TgZ(5,"div",4),s._uU(6),s.YNc(7,LJ,2,0,"span",5),s.qZA(),s.TgZ(8,"div",6),s._uU(9),s.qZA()()(),s.YNc(10,BJ,7,0,"div",5),s.ALo(11,"async"),s.qZA()),2&e&&(s.xp6(4),s.Oqu(i.position),s.xp6(2),s.hij(" ",i.player.displayName," "),s.xp6(1),s.Q6J("ngIf",i.currentUser&&i.player.uid===i.currentUser.uid),s.xp6(2),s.Oqu(i.totalPoints),s.xp6(1),s.Q6J("ngIf",s.lcZ(11,5,i.isAdmin$)))},dependencies:[En,Ea,PC,Ps,Fo],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1rem}.details[_ngcontent-%COMP%]{flex-grow:10;cursor:pointer}.position[_ngcontent-%COMP%]{flex-grow:1}.name[_ngcontent-%COMP%]{flex-grow:9;flex-basis:0}.score[_ngcontent-%COMP%]{flex-grow:1}.players[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}"]}),n})();function UJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.joinGame())}),s._uU(2,"Join Game"),s.qZA()()}}function jJ(n,t){if(1&n&&s._UZ(0,"app-player-card",9),2&n){const i=t.index;s.Q6J("player",t.$implicit)("position",i+1)}}function GJ(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"mat-toolbar",5)(2,"span"),s._uU(3,"Add new player"),s.qZA()(),s.TgZ(4,"div",10)(5,"div")(6,"mat-form-field",11)(7,"mat-label"),s._uU(8,"Player name"),s.qZA(),s._UZ(9,"input",12,13),s.qZA()(),s.TgZ(11,"div")(12,"button",14),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(10);return s.oxw().add(r.value),s.KtG(r.value="")}),s.TgZ(13,"mat-icon"),s._uU(14,"add"),s.qZA(),s.TgZ(15,"span",15)(16,"span",15),s._uU(17,"Add player"),s.qZA()()()()()()}if(2&n){const e=s.MAs(10);s.xp6(12),s.Q6J("disabled",!e.value)}}let hL=(()=>{class n{constructor(e,i,r,l,d){this.playerService=e,this.gameService=i,this.authService=r,this.roundService=l,this.dialog=d,this.players=[],this.isAdmin$=ot(!1),this.isGameJoinable$=ot(!0),this.subscriptions=[]}ngOnInit(){!this.game?.id||(this.currentUser=this.authService.getCurrentUser(),this.isAdmin$=this.gameService.isCurrentUserAdmin(this.game.id),this.getPlayers(),this.subscriptions.push(this.authService.isLoggedIn$.subscribe({next:e=>{e&&this.checkIsGameJoinable()}})))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getPlayers(){this.subscriptions.push(this.playerService.playersForGame(this.game.id).subscribe({next:e=>{this.players=e.sort((i,r)=>{const l=this.calculateTotalPoints(i);return this.calculateTotalPoints(r)-l}),this.checkIsGameJoinable()}}))}checkIsGameJoinable(){this.currentUser=this.authService.getCurrentUser(),this.currentUser&&this.players.find(e=>e.uid===this.currentUser.uid)&&(this.isGameJoinable$=ot(!1)),this.subscriptions.push(this.roundService.roundsForGame(this.game.id).subscribe({next:e=>{e.length>0&&(this.isGameJoinable$=ot(!1))}}))}calculateTotalPoints(e){let i=0;return e.pointsForRound&&e.pointsForRound.forEach(r=>{i+=r.points}),i}add(e){(e=e.trim())&&this.addPlayerToGame({displayName:e})}addPlayerToGame(e){this.game&&this.playerService.addPlayer(e,this.game.id)}joinGame(){this.subscriptions.push(this.authService.isLoggedIn$.subscribe({next:e=>{e?this.createPlayerFromCurrentUser():this.showJoinDialog()}}))}createPlayerFromCurrentUser(){this.subscriptions.push(this.authService.currentUser$.subscribe({next:e=>{e&&this.addPlayerToGame({uid:e.uid,displayName:e.displayName})}}))}showJoinDialog(){const e=this.dialog.open(lT,{panelClass:"dialog-container",data:{title:"Join Game",message:"Before you can join a game, you must login first",confirmButtonText:"Login"}});this.subscriptions.push(e.afterClosed().subscribe(i=>{i&&this.showLoginDialog()}))}showLoginDialog(){const e=this.dialog.open(O0,{panelClass:"dialog-container"});this.subscriptions.push(e.afterClosed().subscribe(i=>{console.log("The dialog was closed")}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(J_),s.Y36(Oa),s.Y36(Ol),s.Y36(cT),s.Y36(Yo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-game-players"]],inputs:{game:"game"},decls:14,vars:8,consts:[[1,"players"],[1,"flex-box-rows"],["color","accent"],[1,"flex-box-item"],[4,"ngIf"],["color","secondary"],[1,"player-list"],[3,"player","position",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"player","position"],[1,"content","flex-box-rows"],["appearance","fill",1,"example-full-width"],["matInput","","id","new-player","placeholder","Player Name","value",""],["playerName",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"mdc-button__label"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"mat-toolbar",2)(3,"div",3),s._uU(4,"Players"),s.qZA(),s.YNc(5,UJ,3,0,"div",4),s.ALo(6,"async"),s.qZA()(),s.TgZ(7,"mat-toolbar",5)(8,"span"),s._uU(9),s.qZA()(),s.TgZ(10,"div",6),s.YNc(11,jJ,1,2,"app-player-card",7),s.qZA(),s.YNc(12,GJ,18,1,"div",4),s.ALo(13,"async"),s.qZA()),2&e&&(s.xp6(5),s.Q6J("ngIf",s.lcZ(6,4,i.isGameJoinable$)),s.xp6(4),s.hij("Player List (",i.players.length,")"),s.xp6(2),s.Q6J("ngForOf",i.players),s.xp6(1),s.Q6J("ngIf",s.lcZ(13,6,i.isAdmin$)))},dependencies:[hr,En,Ac,Ea,Ps,kC,om,OC,VJ,Fo],styles:[".players[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem}"]}),n})();function HJ(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function $J(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const qJ=zh(class{constructor(n){this._elementRef=n}},"primary"),WJ=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function ZJ(){return{diameter:100}}});class sh extends qJ{constructor(t,e,i,r,l,d,p,v){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=sr.w0.EMPTY,this.mode="determinate";const E=sh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),E.has(i.head)||E.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!l&&!l._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.color&&(this.color=this.defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),e.isBrowser&&e.SAFARI&&p&&d&&v&&(this._resizeSubscription=p.change(150).subscribe(()=>{"indeterminate"===this.mode&&v.run(()=>d.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=va(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=va(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,va(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=bl(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=sh._diameters;let r=i.get(t);if(!r||!r.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),t.appendChild(l),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}sh._diameters=new WeakMap,sh.\u0275fac=function(t){return new(t||sh)(s.Y36(s.SBq),s.Y36(xi),s.Y36(Z,8),s.Y36(s.QbO,8),s.Y36(WJ),s.Y36(s.sBO),s.Y36(Hh),s.Y36(s.R0b))},sh.\u0275cmp=s.Xpm({type:sh,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,HJ,1,11,"circle",2),s.YNc(3,$J,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[Po,$l],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let KJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Di,Yu,Di]}),n})(),l4=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.message="Loading"}ngOnInit(){this.data?.message&&(this.message=this.data.message)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mu),s.Y36(Zh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-progress-dialog"]],decls:4,vars:1,consts:[[1,"mat-body","progress-dialog-message"]],template:function(e,i){1&e&&(s.TgZ(0,"div"),s._UZ(1,"mat-spinner"),s.TgZ(2,"div",0),s._uU(3),s.qZA()()),2&e&&(s.xp6(3),s.hij(" ",i.message," "))},dependencies:[sh],styles:[".progress-dialog-message[_ngcontent-%COMP%]{padding-top:1rem;text-align:center}"]}),n})();var pL=N(5876);const QJ=["qrcElement"];let c4=(()=>{class n{constructor(e,i){this.renderer=e,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new s.vpe,this.context=null}ngOnChanges(){var e=this;return(0,$e.Z)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((i,r)=>{pL.hz(this.qrdata,e,(l,d)=>{l?r(l):i(d)})})}toCanvas(e,i){return new Promise((r,l)=>{pL.rT(e,this.qrdata,i,d=>{d?l(d):r("success")})})}toSVG(e){return new Promise((i,r)=>{pL.toString(this.qrdata,e,(l,d)=>{l?r(l):i(d)})})}renderElement(e){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,$e.Z)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const i={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:e.elementType,version:e.version,width:e.width},r=e.imageSrc,l=e.imageHeight||40,d=e.imageWidth||40;switch(e.elementType){case"canvas":const p=e.renderer.createElement("canvas");e.context=p.getContext("2d"),e.toCanvas(p,i).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(p,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(p,"title",`${e.title}`),r&&e.context){e.centerImage=new Image(d,l),r!==e.centerImage.src&&(e.centerImage.src=r),l!==e.centerImage.height&&(e.centerImage.height=l),d!==e.centerImage.width&&(e.centerImage.width=d);const M=e.centerImage;M&&(M.onload=()=>{e.context?.drawImage(M,p.width/2-d/2,p.height/2-l/2,d,l)})}e.renderElement(p),e.emitQRCodeURL(p)}).catch(M=>{console.error("[angularx-qrcode] canvas error:",M)});break;case"svg":const v=e.renderer.createElement("div");e.toSVG(i).then(M=>{e.renderer.setProperty(v,"innerHTML",M);const k=v.firstChild;e.renderer.setAttribute(k,"height",`${e.width}`),e.renderer.setAttribute(k,"width",`${e.width}`),e.renderElement(k),e.emitQRCodeURL(k)}).catch(M=>{console.error("[angularx-qrcode] svg error:",M)});break;default:const E=e.renderer.createElement("img");e.toDataURL(i).then(M=>{e.alt&&E.setAttribute("alt",e.alt),e.ariaLabel&&E.setAttribute("aria-label",e.ariaLabel),E.setAttribute("src",M),e.title&&E.setAttribute("title",e.title),e.renderElement(E),e.emitQRCodeURL(E)}).catch(M=>{console.error("[angularx-qrcode] img/url error:",M)})}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})()}emitQRCodeURL(e){const i=e.constructor.name;if(i===SVGSVGElement.name){const d=new Blob([e.outerHTML],{type:"image/svg+xml"}),p=URL.createObjectURL(d),v=this.sanitizer.bypassSecurityTrustUrl(p);return void this.qrCodeURL.emit(v)}let r="";i===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),i===HTMLImageElement.name&&(r=e.src),fetch(r).then(l=>l.blob()).then(l=>URL.createObjectURL(l)).then(l=>this.sanitizer.bypassSecurityTrustUrl(l)).then(l=>{this.qrCodeURL.emit(l)}).catch(l=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+l)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(yo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(e,i){if(1&e&&s.Gf(QJ,7),2&e){let r;s.iGM(r=s.CRH())&&(i.qrcElement=r.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[s.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,i){1&e&&s._UZ(0,"div",null,0),2&e&&s.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),n})(),JJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[]}),n})();function u4(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const gL="inline",uT=["row","column","row-reverse","column-reverse"];function d4(n){let[t,e,i]=function h4(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return uT.find(r=>r===t)||(t=uT[0]),e===gL&&(e=i!==gL?i:"",i=gL),[t,XJ(e),!!i]}(n);return function eX(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function XJ(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}const nX={provide:s.tb,useFactory:function tX(n,t){return()=>{if(zi(t)){const e=Array.from(n.querySelectorAll(`[class*=${f4}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${f4}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Z,s.Lbi],multi:!0},f4="flex-layout-";let mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nX]}),n})();class am{constructor(t=!1,e="all",i="",r="",l=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=l,this.property=""}clone(){return new am(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let iX=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const l=this.stylesheet.get(e);l?l.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let l="";if(r){const d=r.get(i);("number"==typeof d||"string"==typeof d)&&(l=d+"")}return l}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yL={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Fc=new s.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>yL}),X_=new s.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),_L=new s.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function p4(n,t){return n=n?.clone()??new am,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Cr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Hi=(()=>{class n{constructor(e,i,r,l){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=l}applyStyleToElement(e,i,r=null){let l={};"string"==typeof i&&(l[i]=r,i=l),l=this.layoutConfig.disableVendorPrefixes?i:u4(i),this._applyMultiValueStyleToElement(l,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:u4(e);i.forEach(l=>{this._applyMultiValueStyleToElement(r,l)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||hs(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return zi(this._platformId)?e.style.getPropertyValue(i):function rX(n,t){return g4(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let l="";return e&&((l=this.lookupInlineStyle(e,i))||(zi(this._platformId)?r||(l=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(e,i)))),l?l.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const l=e[r],d=Array.isArray(l)?l:[l];d.sort();for(let p of d)p=p?p+"":"",zi(this._platformId)||!this._serverModuleLoaded?zi(this._platformId)?i.style.setProperty(r,p):sX(i,r,p):this._serverStylesheet.addStyleToElement(i,r,p)})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iX),s.LFG(X_),s.LFG(s.Lbi),s.LFG(Fc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sX(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=g4(n);i[t]=e??"",function oX(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function g4(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const l=i[r].trim();if(l.length>0){const d=l.indexOf(":");if(-1===d)throw new Error(`Invalid CSS style: ${l}`);t[l.substr(0,d).trim()]=l.substr(d+1).trim()}}}return t}function NC(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function aX(n,t){return(n.priority||0)-(t.priority||0)}let vL=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new gr(new am(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(Oi(d=>!i||e.indexOf(d.mediaQuery)>-1)),l=new Vr.y(d=>{const p=this.registerQuery(e);if(p.length){const v=p.pop();p.forEach(E=>{d.next(E)}),this.source.next(v)}d.complete()});return(0,xc.T)(l,r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function lX(n,t){const e=n.filter(i=>!m4[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(l=>m4[l]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(l=>{const d=v=>{this._zone.run(()=>this.source.next(new am(v.matches,l)))};let p=this.registry.get(l);p||(p=this.buildMQL(l),p.addListener(d),this.pendingRemoveListenerFns.push(()=>p.removeListener(d)),this.registry.set(l,p)),p.matches&&r.push(new am(!0,l))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function uX(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function cX(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,zi(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(s.Lbi),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const m4={},dX=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],y4="(orientation: portrait) and (max-width: 599.98px)",_4="(orientation: landscape) and (max-width: 959.98px)",v4="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",b4="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",w4="(orientation: portrait) and (min-width: 840px)",C4="(orientation: landscape) and (min-width: 1280px)",ah={HANDSET:`${y4}, ${_4}`,TABLET:`${v4} , ${b4}`,WEB:`${w4}, ${C4} `,HANDSET_PORTRAIT:`${y4}`,TABLET_PORTRAIT:`${v4} `,WEB_PORTRAIT:`${w4}`,HANDSET_LANDSCAPE:`${_4}`,TABLET_LANDSCAPE:`${b4}`,WEB_LANDSCAPE:`${C4}`},hX=[{alias:"handset",priority:2e3,mediaQuery:ah.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ah.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ah.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ah.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ah.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:ah.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ah.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ah.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ah.WEB_PORTRAIT,overlapping:!0}],fX=/(\.|-|_)/g;function pX(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const _X=new s.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,s.f3M)(_L),t=(0,s.f3M)(Fc),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function yX(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?function oh(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}(e[i.alias],i):e[i.alias]=i}),function mX(n){return n.forEach(t=>{t.suffix||(t.suffix=function gX(n){return n.replace(fX,"|").split("|").map(pX).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:dX).concat(t.addOrientationBps?hX:[]),e)}});let bL=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(aX)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(_X))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ev="print",vX={alias:ev,mediaQuery:ev,priority:1e3};let bX=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new wX,this.deactivations=[]}withPrintQuery(e){return[...e,ev]}isPrintEvent(e){return e.mediaQuery.startsWith(ev)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(NC)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),p4(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new am(!0,ev))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const l=this.formerActivations&&this.formerActivations.includes(r),d=!this.formerActivations&&e.activatedBreakpoints.includes(r);(l||d)&&(this.deactivations.push(r),this.deactivations.sort(NC))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(bL),s.LFG(Fc),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wX{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(vX),t.sort(NC),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function CX(n){return n?.mediaQuery.startsWith(ev)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let er=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Qt.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=p4(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(NC),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(NC),this.updateStyles())}}init(e,i,r,l,d=[]){E4(this.updateMap,e,i,r),E4(this.clearMap,e,i,l),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,d)}getValue(e,i,r){const l=this.elementMap.get(e);if(l){const d=void 0!==r?l.get(r):this.getActivatedValues(l,i);if(d)return d.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const l=this.getActivatedValues(r,i);if(l)return void 0!==l.get(i)||!1}return!1}setValue(e,i,r,l){let d=this.elementMap.get(e);if(d){const v=(d.get(l)??new Map).set(i,r);d.set(l,v),this.elementMap.set(e,d)}else d=(new Map).set(l,(new Map).set(i,r)),this.elementMap.set(e,d);const p=this.getValue(e,i);void 0!==p&&this.updateElement(e,i,p)}trackValue(e,i){return this.subject.asObservable().pipe(Oi(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let l=this.getActivatedValues(e);l&&l.forEach((d,p)=>{this.updateElement(i,p,d),r.delete(p)}),r.forEach(d=>{if(l=this.getActivatedValues(e,d),l){const p=l.get(d);this.updateElement(i,d,p)}else this.clearElement(i,d)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const l=r.get(i);l&&(l(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const l=this.updateMap.get(e);if(l){const d=l.get(i);d&&(d(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(l=>l.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((l,d)=>r.delete(d)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const l=this.getActivatedValues(r,i);l&&(i?this.updateElement(e,i,l.get(i)):l.forEach((d,p)=>this.updateElement(e,p,d)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let l=this.watcherMap.get(e);if(l||(l=new Map,this.watcherMap.set(e,l)),!l.get(i)){const p=(0,xc.T)(...r).subscribe(()=>{const v=this.getValue(e,i);this.updateElement(e,i,v)});l.set(i,p)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let l=0;l<this.activatedBreakpoints.length;l++){const p=e.get(this.activatedBreakpoints[l].alias);if(p&&(void 0===i||p.has(i)&&null!=p.get(i)))return p}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe((0,qi.b)(this.hook.interceptEvents(this)),Oi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(vL),s.LFG(bL),s.LFG(bX))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E4(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let ar=(()=>{class n{constructor(e,i,r,l){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Qt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,l=r.shouldCache;let d=this.styleCache.get(e);(!d||!l)&&(d=r.buildStyles(e,i),l&&this.styleCache.set(e,d)),this.mru={...d},this.applyStyleToElement(d),r.sideEffect(e,d,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,l]=this.styler.getFlowDirection(e);if(!l&&i){const d=d4(r);this.styler.applyStyleToElements(d,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Cr),s.Y36(Hi),s.Y36(er))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();EventTarget;let MX=(()=>{class n extends ar{constructor(e,i,r,l,d,p,v){super(e,null,i,r),this.ngClassInstance=v,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Rn(l,d,e,p)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Hi),s.Y36(er),s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.Qsj),s.Y36(Rn,10))},n.\u0275dir=s.lG2({type:n,inputs:{klass:["class","klass"]},features:[s.qOj]}),n})();const RX=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let wL=(()=>{class n extends MX{constructor(){super(...arguments),this.inputs=RX}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[s.qOj]}),n})(),k4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mL]}),n})();function GX(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1,"You do not have access to this page"),s.qZA())}function HX(n,t){if(1&n&&s._UZ(0,"qrcode",15),2&n){const e=s.oxw(2);s.Q6J("qrdata",e.gameURL)("width",256)("errorCorrectionLevel","M")}}function $X(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s._UZ(1,"app-section-header",1),s.TgZ(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div",6)(8,"span",7),s._uU(9,"Game Id: "),s.qZA(),s.TgZ(10,"span",7),s._uU(11),s.qZA()(),s.TgZ(12,"div",6)(13,"mat-form-field",8)(14,"mat-label"),s._uU(15,"Game name"),s.qZA(),s.TgZ(16,"input",9),s.NdJ("ngModelChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.game.name=r)}),s.qZA()()(),s.TgZ(17,"div",6)(18,"mat-form-field",8)(19,"mat-label"),s._uU(20,"Number of rounds"),s.qZA(),s.TgZ(21,"input",10),s.NdJ("ngModelChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.game.numberOfRounds=r)}),s.qZA()()(),s.TgZ(22,"div",6)(23,"button",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.save())}),s._uU(24," Save "),s.qZA()()(),s.TgZ(25,"div"),s.YNc(26,HX,1,3,"qrcode",12),s.qZA()()(),s.TgZ(27,"div",13)(28,"button",11),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startGame())}),s._uU(29," Start Game "),s.qZA()()()(),s._UZ(30,"app-game-players",14),s.qZA()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("sectionName",e.sectionName),s.xp6(10),s.Oqu(e.game.id),s.xp6(5),s.Q6J("ngModel",e.game.name),s.xp6(5),s.Q6J("ngModel",e.game.numberOfRounds),s.xp6(5),s.Q6J("ngIf",e.gameURL),s.xp6(4),s.Q6J("game",e.game)}}let zX=(()=>{class n{constructor(e,i,r,l,d){this.router=e,this.route=i,this.gameService=r,this.location=l,this.dialog=d,this.isAdmin$=ot(!1),this.subscriptions=[]}ngOnInit(){this.getGame()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getGame(){if(this.gameId=this.route.snapshot.paramMap.get("gameId"),!this.gameId)return;this.gameURL=`${zp_url}/game/${this.gameId}`;const e=this.dialog.open(l4,{});this.subscriptions.push(this.gameService.getGame(this.gameId).subscribe({next:i=>{this.game=i,this.isAdmin$=this.gameService.isCurrentUserAdmin(this.game.id),this.sectionName=`${i.name.toUpperCase()} Configuration`,e.close()}}))}goBack(){this.location.back()}save(){this.game&&this.gameService.updateGame(this.game)}startGame(){this.router.navigateByUrl(`/game/${this.game.id}/dashboard?selectedTab=1`)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ii),s.Y36(eo),s.Y36(Oa),s.Y36(Ne),s.Y36(Yo))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-game-configuration"]],decls:4,vars:6,consts:[[4,"ngIf"],[3,"sectionName"],[1,"flex-box-rows","justify-content-center"],[1,"flex-box-columns","justify-content-center"],["ngClass.gt-xs","flex-box-rows content mat-typography","ngClass.lt-sm","flex-box-columns content mat-typography"],[1,"flex-box-columns"],[1,"flex-box-item"],[1,"mat-h3"],["appearance","fill",1,"full-width"],["id","game-name","matInput","","placeholder","Angela's Euchre Tournament",3,"ngModel","ngModelChange"],["id","game-rounds","matInput","","placeholder","8",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary","aria-label","Back","title","Back",1,"full-width",3,"click"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],[1,"flex-box-item","content"],[3,"game"],[3,"qrdata","width","errorCorrectionLevel"]],template:function(e,i){1&e&&(s.YNc(0,GX,2,0,"div",0),s.ALo(1,"async"),s.YNc(2,$X,31,6,"div",0),s.ALo(3,"async")),2&e&&(s.Q6J("ngIf",!1===s.lcZ(1,2,i.isAdmin$)),s.xp6(2),s.Q6J("ngIf",i.game&&s.lcZ(3,4,i.isAdmin$)))},dependencies:[En,Ag,OA,GA,Ps,kC,om,OC,c4,wL,hL,aT,Fo]}),n})();function qX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6)(1,"div")(2,"mat-form-field",7)(3,"mat-label"),s._uU(4,"Game name"),s.qZA(),s._UZ(5,"input",8,9),s.qZA()(),s.TgZ(7,"div")(8,"button",10),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(6);return s.oxw().add(r.value),s.KtG(r.value="")}),s.TgZ(9,"mat-icon"),s._uU(10,"add"),s.qZA(),s.TgZ(11,"span",11)(12,"span",11),s._uU(13,"Create game"),s.qZA()()()()()}if(2&n){const e=s.MAs(6);s.xp6(8),s.Q6J("disabled",!e.value)}}function WX(n,t){1&n&&(s.TgZ(0,"div",12),s._uU(1," Login to start creating games! "),s.qZA())}function ZX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",17),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,l=s.oxw();return s.KtG(l.configuration(r))}),s.TgZ(2,"mat-icon"),s._uU(3,"edit"),s.qZA()(),s.TgZ(4,"button",18),s.NdJ("click",function(){s.CHM(e);const r=s.oxw().$implicit,l=s.oxw();return s.KtG(l.delete(r))}),s.TgZ(5,"mat-icon"),s._uU(6,"delete"),s.qZA()()()}}function YX(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-card",13)(1,"div",14),s.NdJ("click",function(){const l=s.CHM(e).$implicit,d=s.oxw();return s.KtG(d.dashboard(l))}),s.TgZ(2,"button",15),s.NdJ("click",function(){const l=s.CHM(e).$implicit,d=s.oxw();return s.KtG(d.dashboard(l))}),s._uU(3),s.qZA()(),s.YNc(4,ZX,7,0,"div",16),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.xp6(3),s.Oqu(e.name),s.xp6(1),s.Q6J("ngIf",i.gameAdminMap.get(e.id))}}let O4=(()=>{class n{constructor(e,i,r,l){this.dialog=e,this.gameService=i,this.router=r,this.authService=l,this.games=[],this.gameAdminMap=new Map,this.isLoggedIn$=ot(!1),this.subscriptions=[]}ngOnInit(){this.getGames(),this.isLoggedIn$=this.authService.isLoggedIn$}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getGames(){const e=this.dialog.open(l4,{});this.subscriptions.push(this.gameService.games$.subscribe({next:i=>{this.games=i,this.games.map(r=>{this.gameAdminMap.set(r.id,this.isGameAdmin(r))}),e.close()}}))}add(e){e=e.trim();const i=this.authService.getCurrentUser();!e||!i||this.subscriptions.push(this.gameService.addGame({name:e},i.uid).subscribe({next:r=>{r&&this.configuration(r)}}))}delete(e){this.gameService.deleteGame(e.id)}dashboard(e){this.router.navigateByUrl(`/game/${e.id}/dashboard`)}configuration(e){this.router.navigateByUrl(`/game/${e.id}/configuration`)}isGameAdmin(e){const i=this.authService.getCurrentUser();return!(!i||!e.adminIds.find(r=>r===i.uid))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Yo),s.Y36(Oa),s.Y36(Ii),s.Y36(Ol))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-games"]],decls:15,vars:7,consts:[["color","secondary",1,"mat-h1"],["color","accent"],["class","content flex-box-rows",4,"ngIf"],["class","content",4,"ngIf"],[1,"games"],["class","mdc-card card",4,"ngFor","ngForOf"],[1,"content","flex-box-rows"],["appearance","fill",1,"example-full-width"],["matInput","","id","new-game","placeholder","Angela's Euchre Tournament","value",""],["gameName",""],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"mdc-button__label"],[1,"content"],[1,"mdc-card","card"],["tabindex","0",1,"mdc-card__primary-action","details",3,"click"],["mat-button","",3,"click"],[4,"ngIf"],["mat-icon-button","","color","primary","aria-label","game details","title","game details",3,"click"],["mat-icon-button","","color","primary","aria-label","delete game","title","delete details",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div")(1,"mat-toolbar",0),s._uU(2,"Games"),s.qZA(),s.TgZ(3,"mat-toolbar",1)(4,"span"),s._uU(5,"Add new game"),s.qZA()(),s.YNc(6,qX,14,1,"div",2),s.ALo(7,"async"),s.YNc(8,WX,2,0,"div",3),s.ALo(9,"async"),s.TgZ(10,"mat-toolbar",1)(11,"span"),s._uU(12,"Game List"),s.qZA()(),s.TgZ(13,"div",4),s.YNc(14,YX,5,2,"mat-card",5),s.qZA()()),2&e&&(s.xp6(6),s.Q6J("ngIf",s.lcZ(7,3,i.isLoggedIn$)),s.xp6(2),s.Q6J("ngIf",!1===s.lcZ(9,5,i.isLoggedIn$)),s.xp6(6),s.Q6J("ngForOf",i.games))},dependencies:[hr,En,Ac,Ea,PC,Ps,kC,om,OC,Fo],styles:[".games[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem}.games[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1rem}.games[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{flex-grow:10}.games[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}"]}),n})();var tv=(()=>(function(n){n.Players="players",n.Rounds="rounds"}(tv||(tv={})),tv))();function KX(n,t){1&n&&s.Hsn(0)}const P4=["*"];function QX(n,t){}const JX=function(n){return{animationDuration:n}},XX=function(n,t){return{value:n,params:t}},eee=["tabListContainer"],tee=["tabList"],nee=["tabListInner"],iee=["nextPaginator"],ree=["previousPaginator"],see=["tabBodyWrapper"],oee=["tabHeader"];function aee(n,t){}function lee(n,t){if(1&n&&s.YNc(0,aee,0,0,"ng-template",10),2&n){const e=s.oxw().$implicit;s.Q6J("cdkPortalOutlet",e.templateLabel)}}function cee(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw().$implicit;s.Oqu(e.textLabel)}}function uee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(){const r=s.CHM(e),l=r.$implicit,d=r.index,p=s.oxw(),v=s.MAs(1);return s.KtG(p._handleClick(l,v,d))})("cdkFocusChange",function(r){const d=s.CHM(e).index,p=s.oxw();return s.KtG(p._tabFocusChanged(r,d))}),s.TgZ(1,"div",7),s.YNc(2,lee,1,1,"ng-template",8),s.YNc(3,cee,1,1,"ng-template",null,9,s.W1O),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.MAs(4),l=s.oxw();s.ekj("mat-tab-label-active",l.selectedIndex===i),s.Q6J("id",l._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||l.disableRipple),s.uIk("tabIndex",l._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(i))("aria-selected",l.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),s.xp6(2),s.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function dee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-tab-body",11),s.NdJ("_onCentered",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l._setTabBodyWrapperHeight(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.ekj("mat-tab-body-active",r.selectedIndex===i),s.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),s.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const hee=new s.OlP("MatInkBarPositioner",{providedIn:"root",factory:function fee(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let F4=(()=>{class n{constructor(e,i,r,l){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=l}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(Ln(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(hee),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const pee=new s.OlP("MatTabContent"),N4=new s.OlP("MatTabLabel"),L4=new s.OlP("MAT_TAB");let gee=(()=>{class n extends nR{constructor(e,i,r){super(e,i),this._closestTab=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.s_b),s.Y36(L4,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[s._Bn([{provide:N4,useExisting:n}]),s.qOj]}),n})();const mee=Nb(class{}),B4=new s.OlP("MAT_TAB_GROUP");let V4=(()=>{class n extends mee{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Qt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new oy(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(B4,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,N4,5),s.Suo(r,pee,7,s.Rgc)),2&e){let l;s.iGM(l=s.CRH())&&(i.templateLabel=l.first),s.iGM(l=s.CRH())&&(i._explicitContent=l.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[s._Bn([{provide:L4,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:P4,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,KX,1,0,"ng-template"))},encapsulation:2}),n})();const yee={translateTab:Ub("translateTab",[qh("center, void, left-origin-center, right-origin-center",Eo({transform:"none"})),qh("left",Eo({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),qh("right",Eo({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Pd("* => left, * => right, left => center, right => center",Od("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Pd("void => left-origin-center",[Eo({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Od("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Pd("void => right-origin-center",[Eo({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Od("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let _ee=(()=>{class n extends Dd{constructor(e,i,r,l){super(e,i,l),this._host=r,this._centeringSub=sr.w0.EMPTY,this._leavingSub=sr.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Co(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36((0,s.Gpc)(()=>U4)),s.Y36(Z))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[s.qOj]}),n})(),vee=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=sr.w0.EMPTY,this._translateTabComplete=new Qt.x,this._onCentering=new s.vpe,this._beforeCentering=new s.vpe,this._afterLeavingCenter=new s.vpe,this._onCentered=new s.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(l=>{this._computePositionAnimationState(l),r.markForCheck()})),this._translateTabComplete.pipe(Tl((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36($o,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),U4=(()=>{class n extends vee{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36($o,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&s.Gf(Dd,5),2&e){let r;s.iGM(r=s.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[s.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("@translateTab.start",function(l){return i._onTranslateTabStarted(l)})("@translateTab.done",function(l){return i._translateTabComplete.next(l)}),s.YNc(2,QX,0,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("@translateTab",s.WLB(3,XX,i._position,s.VKq(1,JX,i.animationDuration)))},dependencies:[_ee],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[yee.translateTab]}}),n})();const j4=new s.OlP("MAT_TABS_CONFIG"),bee=Nb(class{});let G4=(()=>{class n extends bee{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",!!i.disabled),s.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[s.qOj]}),n})();const H4=_l({passive:!0});let Eee=(()=>{class n{constructor(e,i,r,l,d,p,v){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=l,this._ngZone=d,this._platform=p,this._animationMode=v,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Qt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Qt.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.vpe,this.indexFocused=new s.vpe,d.runOutsideAngular(()=>{ba(e.nativeElement,"mouseleave").pipe(Br(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=di(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=va(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){ba(this._previousPaginator.nativeElement,"touchstart",H4).pipe(Br(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ba(this._nextPaginator.nativeElement,"touchstart",H4).pipe(Br(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:ot("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new pb(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ln(1)).subscribe(r),(0,xc.T)(e,i,this._items.changes,this._itemsResized()).pipe(Br(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Br(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}_itemsResized(){return"function"!=typeof ResizeObserver?ms.E:this._items.changes.pipe(Co(this._items),vn(e=>new Vr.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(()=>{i.next()});return e.forEach(l=>{r.observe(l.elementRef.nativeElement)}),()=>{r.disconnect()}}))),Wm(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Sp(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:d}=i.elementRef.nativeElement;let p,v;"ltr"==this._getLayoutDirection()?(p=l,v=p+d):(v=this._tabListInner.nativeElement.offsetWidth-l,p=v-d);const E=this.scrollDistance,M=this.scrollDistance+r;p<E?this.scrollDistance-=E-p+60:v>M&&(this.scrollDistance+=v-M+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Db(650,100).pipe(Br((0,xc.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:l}=this._scrollHeader(e);(0===l||l>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Hh),s.Y36($o,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),xee=(()=>{class n extends Eee{constructor(e,i,r,l,d,p,v){super(e,i,r,l,d,p,v),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=di(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Hh),s.Y36($o,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[s.qOj]}),n})(),Dee=(()=>{class n extends xee{constructor(e,i,r,l,d,p,v){super(e,i,r,l,d,p,v)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Hh),s.Y36($o,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,G4,4),2&e){let l;s.iGM(l=s.CRH())&&(i._items=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(F4,7),s.Gf(eee,7),s.Gf(tee,7),s.Gf(nee,7),s.Gf(iee,5),s.Gf(ree,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inkBar=r.first),s.iGM(r=s.CRH())&&(i._tabListContainer=r.first),s.iGM(r=s.CRH())&&(i._tabList=r.first),s.iGM(r=s.CRH())&&(i._tabListInner=r.first),s.iGM(r=s.CRH())&&(i._nextPaginator=r.first),s.iGM(r=s.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.qOj],ngContentSelectors:P4,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(l){return i._handlePaginatorPress("before",l)})("touchend",function(){return i._stopInterval()}),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.NdJ("keydown",function(l){return i._handleKeydown(l)}),s.TgZ(5,"div",5,6),s.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),s.TgZ(7,"div",7,8),s.Hsn(9),s.qZA(),s._UZ(10,"mat-ink-bar"),s.qZA()(),s.TgZ(11,"button",9,10),s.NdJ("mousedown",function(l){return i._handlePaginatorPress("after",l)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),s._UZ(13,"div",2),s.qZA()),2&e&&(s.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),s.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),s.xp6(5),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(6),s.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),s.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[kd,lb,F4],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),n})(),Iee=0;class Aee{}const See=zh(nD(class{constructor(n){this._elementRef=n}}),"primary");let Tee=(()=>{class n extends See{constructor(e,i,r,l){super(e),this._changeDetectorRef=i,this._animationMode=l,this._tabs=new s.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=sr.w0.EMPTY,this._tabLabelSubscription=sr.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new s.vpe,this.focusChange=new s.vpe,this.animationDone=new s.vpe,this.selectedTabChange=new s.vpe(!0),this._groupId=Iee++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=di(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=va(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=va(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=di(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=di(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,l)=>r.isActive=l===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let l=0;l<i.length;l++)if(i[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,r=i[l];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Co(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Aee;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,xc.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(j4,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.qOj]}),n})(),Mee=(()=>{class n extends Tee{constructor(e,i,r,l){super(e,i,r,l)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(j4,8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,V4,5),2&e){let l;s.iGM(l=s.CRH())&&(i._allTabs=l)}},viewQuery:function(e,i){if(1&e&&(s.Gf(see,5),s.Gf(oee,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._tabBodyWrapper=r.first),s.iGM(r=s.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[s._Bn([{provide:B4,useExisting:n}]),s.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-tab-header",0,1),s.NdJ("indexFocused",function(l){return i._focusChanged(l)})("selectFocusedIndex",function(l){return i.selectedIndex=l}),s.YNc(2,uee,5,15,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.YNc(5,dee,1,11,"mat-tab-body",5),s.qZA()),2&e&&(s.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),s.xp6(2),s.Q6J("ngForOf",i._tabs),s.xp6(1),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(2),s.Q6J("ngForOf",i._tabs))},dependencies:[Rn,hr,En,Dd,kd,RM,G4,U4,Dee],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),n})(),Ree=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Yu,Di,$h,gy,Ym,OM,Di]}),n})(),hT=(()=>{class n{constructor(e,i){this.messageService=e,this.store=i}addTeam(e,i,r,l){this.store.collection(kt.Games).doc(l).collection(kt.Rounds).doc(r).collection(kt.Tables).doc(i).collection(kt.Teams).add(e).then(d=>(this.log(`addTeam w/ id=${l} ${d.id}`),e.id=d.id,e),d=>this.log(`ERROR addTeam w/ id=${e.id}`))}getTeam(e,i,r,l){return this.store.collection(kt.Games).doc(l).collection(kt.Rounds).doc(r).collection(kt.Tables).doc(i).collection(kt.Teams).doc(e).valueChanges({idField:"id"})}getTeamsForTable(e,i,r){return this.store.collection(kt.Games).doc(r).collection(kt.Rounds).doc(i).collection(kt.Tables).doc(e).collection(kt.Teams).valueChanges({idField:"id"})}updateTeam(e,i,r,l){return this.log("updateTeam"),(0,Nn.D)(this.store.collection(kt.Games).doc(l).collection(kt.Rounds).doc(r).collection(kt.Tables).doc(i).collection(kt.Teams).doc(e.id).update(e).then(d=>(this.log(`updateTeam w/ id=${l} ${e.id}`),d),d=>this.log(`ERROR updateTeam w/ id=${e.id}`)))}deleteTeam(e,i,r,l){this.store.collection(kt.Games).doc(l).collection(kt.Rounds).doc(r).collection(kt.Tables).doc(i).collection(kt.Teams).doc(e).delete().then(()=>{this.log(`deleteTeam w/ id=${l} ${e}`)},d=>this.log(`ERROR deleteTeam w/ id=${e}`))}log(e){this.messageService.add(`TeamService: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v_),s.LFG(Q_))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fT=(()=>{class n{constructor(e,i,r){this.messageService=e,this.store=i,this.teamService=r}addTable(e,i,r){return(0,Nn.D)(this.store.collection(kt.Games).doc(r).collection(kt.Rounds).doc(i).collection(kt.Tables).add(e).then(l=>(this.log(`addTable w/ id=${r} ${l.id}`),e.id=l.id,e),l=>this.log(`ERROR addTable w/ id=${e.id}`)))}getTable(e,i,r){return this.store.collection(kt.Games).doc(r).collection(kt.Rounds).doc(i).collection(kt.Tables).doc(e).valueChanges({idField:"id"})}getTablesForRound(e,i){return this.store.collection(kt.Games).doc(i).collection(kt.Rounds).doc(e).collection(kt.Tables).valueChanges({idField:"id"})}getTableForPlayer(e,i,r){return this.getTablesForRound(i,r).pipe(vn(d=>{let p;return d.map(v=>{v.playerIds.find(E=>E===e)&&(p=v)}),ot(p)}))}updateTable(e,i,r){this.store.collection(kt.Games).doc(r).collection(kt.Rounds).doc(i).collection(kt.Tables).doc(e.id).update(e).then(()=>{this.log(`updateTable w/ id=${r} ${e.id}`)},l=>this.log(`ERROR updateTable w/ id=${e.id}`))}deleteTable(e,i,r){this.store.collection(kt.Games).doc(r).collection(kt.Rounds).doc(i).collection(kt.Tables).doc(e).delete().then(()=>{this.log(`deleteTable w/ id=${r} ${e}`)},l=>this.log(`ERROR deleteTable w/ id=${e}`))}log(e){this.messageService.add(`TableService: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(v_),s.LFG(Q_),s.LFG(hT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LC=(()=>{class n{constructor(e,i,r,l,d,p){this.gameService=e,this.roundService=i,this.gamePlayerService=r,this.messageService=l,this.teamService=d,this.tableService=p,this.byes=[],this.subscriptions=[]}allTablesConfirmed(e,i){return this.tableService.getTablesForRound(e,i).pipe((0,It.U)(r=>{let l=0;return r.map(p=>{p.pointsConfirmed&&l++}),l===r.length}))}unconfirmedTables(e,i){return this.tableService.getTablesForRound(e,i).pipe((0,It.U)(r=>{const l=[];return r.map(d=>{d.pointsConfirmed||l.push(d)}),l}))}getTeamPlayersForRound(e,i){return this.tableService.getTablesForRound(e,i).pipe((0,mi.z)(l=>Ur(l.map(v=>this.teamService.getTeamsForTable(v.id,e,i))).pipe(vn(v=>ot(v.flat()))).pipe(vn(v=>ot(v.map(M=>M.teamPlayers.map(k=>(k.points=M.points,k)).flat()).flat())))))}updatePlayerPoints(e,i,r){const l=this.getTeamPlayersForRound(e,i).pipe(Ln(1));return Ur([this.gamePlayerService.playersForGame(i).pipe(Ln(1)),l]).pipe(vn(([d,p])=>Ur(p.map(v=>{const E=v.player;E.pointsForRound||(E.pointsForRound=[]);const M=d.find(z=>z.uid===E.uid);let k;if(M.pointsForRound&&(k=M.pointsForRound.find(z=>z.roundId===e)),M&&k){if(k.points===v.points)return ot(E);k.points=v.points}else E.pointsForRound.push({roundId:e,roundNumber:r,points:v.points});return this.gamePlayerService.updatePlayer(E,i)}))))}updateByePlayerPoints(e,i){return e?Ur([this.gamePlayerService.playersForGame(i).pipe(Ln(1)),this.roundService.getRound(e,i).pipe(Ln(1))]).pipe(vn(([r,l])=>{this.log("updateByePlayerPoints");const d=l.byes,p=l.byes.map(E=>E.uid),v=l.number;if(p&&p.length>0){const E=r.filter(W=>!p.find(Ee=>Ee===W.uid));let M=0;E.forEach(W=>{if(W.pointsForRound){const te=W.pointsForRound.find(Ee=>Ee.roundId===e);te&&(M+=te.points)}});const k=Math.round(M/E.length),z={roundId:e,roundNumber:v,points:k};d.forEach(W=>{const te=r.find(Be=>Be.uid===W.uid);te.pointsForRound||(te.pointsForRound=[]);const Ee=te.pointsForRound.find(Be=>Be.roundId===e);if(Ee){if(Ee.points===k)return;Ee.points=k}else te.pointsForRound.push(z);this.gamePlayerService.updatePlayer(te,i).subscribe()})}return ms.E})):ms.E}selectByes(e){return this.byes=[],Ur([this.gameService.getGame(e),this.gamePlayerService.playersForGame(e)]).pipe(Ln(1),vn(([i,r])=>{this.log("selectByes");const l=r.length%4;for(let d=0;d<l;d++){(!i.byePool||0===i.byePool?.length)&&(i.byePool=[...r]);const p=Math.floor(Math.random()*i.byePool.length),v=i.byePool.splice(p,1);this.byes.push(v[0])}return this.gameService.updateGame(i)}))}deleteRound(e,i){this.subscriptions.push(this.gamePlayerService.playersForGame(i).pipe(Ln(1)).subscribe({next:r=>{this.log("deleteRound for roundId:"+e),r.forEach(l=>{if(l.pointsForRound){const d=l.pointsForRound.filter(p=>p.roundId!==e);l.pointsForRound=d,this.gamePlayerService.updatePlayer(l,i).subscribe()}}),this.roundService.deleteRound(e,i)}}))}createRound(e){return this.selectByes(e).pipe(vn(i=>Ur([this.roundService.roundsForGame(e),this.gamePlayerService.playersForGame(e)]).pipe(Ln(1),vn(([r,l])=>{if(!i||!r||!l)return ms.E;this.log("createRound");let d=[...l];this.byes.length>0&&(d=l.filter(E=>!this.byes.find(k=>k.uid===E.uid)));const p=this.assignPlayersToTables(d);return this.roundService.addRound({number:r.length+1,byes:this.byes},e).pipe(vn(E=>E?Ur(p.map(M=>{let k=[];M.teams.map(W=>{k=k.concat(W.teamPlayers.map(te=>te.player.uid))});const z={number:M.number,playerIds:k};return this.tableService.addTable(z,E.id,e).pipe(vn(W=>W?(M.teams.forEach(te=>{this.teamService.addTeam(te,z.id,E.id,e)}),ot(W)):ms.E))})):ms.E))}))))}assignPlayersToTables(e){const i=Math.floor(e.length/4),r=[],l=this.assignPlayersToTeams(e,2*i),d=l;for(let p=0;p<i;p++){const v=[];for(let M=0;M<2;M++){const k=Math.floor(Math.random()*d.length),z=l[k];d.splice(k,1),v.push(z)}r.push({teams:v,number:p+1})}return r}assignPlayersToTeams(e,i){const r=[];for(let l=0;l<i;l++){const d=[];for(let v=0;v<2;v++){const E=Math.floor(Math.random()*e.length),M={player:e[E]};e.splice(E,1),d.push(M)}r.push({teamPlayers:d,points:0})}return r}log(e){this.messageService.add(`RoundMediatorService: ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oa),s.LFG(cT),s.LFG(J_),s.LFG(v_),s.LFG(hT),s.LFG(fT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kee(n,t){1&n&&(s.TgZ(0,"mat-icon",6),s._uU(1,"checkmark"),s.qZA())}function Oee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",7),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.delete(r.round))}),s.TgZ(2,"mat-icon"),s._uU(3,"delete"),s.qZA()()()}}let Pee=(()=>{class n{constructor(e,i,r,l){this.gameService=e,this.roundMediatorService=i,this.dialog=r,this.router=l,this.isAdmin$=ot(!1),this.allTablesPointsConfirmed$=ot(!1),this.subscriptions=[]}ngOnInit(){this.allTablesPointsConfirmed$=this.roundMediatorService.allTablesConfirmed(this.round.id,this.gameId),this.isAdmin$=this.gameService.isCurrentUserAdmin(this.gameId)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}delete(e){const i=this.dialog.open(lT,{panelClass:"dialog-container",data:{title:"Delete Round",message:"Are you sure you want to delete this round?",confirmButtonText:"Yes"}});this.subscriptions.push(i.afterClosed().subscribe(r=>{r&&this.roundMediatorService.deleteRound(e.id,this.gameId)}))}view(e){this.router.navigateByUrl(`/game/${this.gameId}/round/${e.id}`)}configuration(){this.router.navigateByUrl(`/game/${this.gameId}/configuration`)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Oa),s.Y36(LC),s.Y36(Yo),s.Y36(Ii))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-round-card"]],inputs:{round:"round",gameId:"gameId"},decls:9,vars:7,consts:[[1,"mdc-card","card"],["tabindex","0",1,"mdc-card__primary-action","details",3,"click"],[1,"flex-box-rows"],[1,"mdc-button__label","name","flex-box-item"],["color","accent","title","All Points Confirmed",4,"ngIf"],[4,"ngIf"],["color","accent","title","All Points Confirmed"],["mat-icon-button","","color","primary","aria-label","delete round","title","delete round",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1),s.NdJ("click",function(){return i.view(i.round)}),s.TgZ(2,"div",2)(3,"div",3),s._uU(4),s.qZA()()(),s.YNc(5,kee,2,0,"mat-icon",4),s.ALo(6,"async"),s.YNc(7,Oee,4,0,"div",5),s.ALo(8,"async"),s.qZA()),2&e&&(s.xp6(4),s.hij(" Round ",i.round.number," "),s.xp6(1),s.Q6J("ngIf",s.lcZ(6,3,i.allTablesPointsConfirmed$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(8,5,i.isAdmin$)))},dependencies:[En,Ea,PC,Ps,Fo],styles:[".content[_ngcontent-%COMP%]{padding:1rem}.card[_ngcontent-%COMP%]{display:flex;align-items:center;margin:1rem}.details[_ngcontent-%COMP%]{flex-grow:10;cursor:pointer}.actions[_ngcontent-%COMP%]{flex-grow:1}.badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}"]}),n})();function Fee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div")(1,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.startRound(r.rounds.length+1))}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.hij(" Start Round ",e.rounds.length+1," ")}}function Nee(n,t){1&n&&(s.TgZ(0,"div"),s._uU(1," There are no rounds.\n"),s.qZA())}function Lee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s._uU(1," Number of rounds is set to 0. Edit the game configuration. "),s.TgZ(2,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.configuration())}),s._uU(3," Configuration "),s.qZA()()}}function Bee(n,t){if(1&n&&s._UZ(0,"app-round-card",9),2&n){const e=t.$implicit,i=s.oxw(2);s.Q6J("round",e)("gameId",i.game.id)}}function Vee(n,t){if(1&n&&(s.TgZ(0,"div",7),s.YNc(1,Bee,1,2,"app-round-card",8),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.rounds)}}let z4=(()=>{class n{constructor(e,i,r,l,d,p){this.roundService=e,this.roundMediatorService=i,this.gameService=r,this.router=l,this.dialog=d,this.playerService=p,this.rounds=[],this.isUserAdmin=!1,this.allTablesPointsConfirmed$=ot(!1),this.subscriptions=[]}ngOnInit(){this.getRounds(),this.subscriptions.push(this.gameService.isCurrentUserAdmin(this.game.id).subscribe({next:e=>{this.isUserAdmin=e}}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getRounds(){this.subscriptions.push(this.roundService.roundsForGame(this.game.id).subscribe({next:e=>{0!==e.length?(this.rounds=e.sort((r,l)=>r.number-l.number),this.allTablesPointsConfirmed$=this.roundMediatorService.allTablesConfirmed(this.rounds[this.rounds.length-1].id,this.game.id)):this.rounds=[]}}))}startRound(e){this.subscriptions.push(Ur([this.allTablesPointsConfirmed$,this.playerService.playersForGame(this.game.id).pipe(Ln(1))]).pipe(vn(([i,r])=>e>1&&!i?(this.showErrorDialog("Start Round",`Please confirm all points for round ${e-1} first`),ms.E):r&&r.length<4?(this.showErrorDialog("Start Round","You need to have at least 4 players to start a round"),ms.E):e<=this.game.numberOfRounds?this.roundMediatorService.createRound(this.game.id):void 0)).subscribe({next:i=>{i&&this.router.navigateByUrl(`/game/${this.game.id}/round/${this.rounds[this.rounds.length-1].id}`)}}))}configuration(){this.router.navigateByUrl(`/game/${this.game.id}/configuration`)}showErrorDialog(e,i){const r=this.dialog.open(lT,{panelClass:"dialog-container",data:{title:e,message:i,showActionButtons:!1}});this.subscriptions.push(r.afterClosed().subscribe())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cT),s.Y36(LC),s.Y36(Oa),s.Y36(Ii),s.Y36(Yo),s.Y36(J_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-rounds"]],inputs:{game:"game"},decls:8,vars:4,consts:[[1,"flex-box-rows"],["color","accent"],[1,"flex-box-item"],[4,"ngIf"],["class","rounds",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","start round","title","start round",3,"click"],["mat-raised-button","","color","primary","aria-label","Configuration","title","Configuration",3,"click"],[1,"rounds"],[3,"round","gameId",4,"ngFor","ngForOf"],[3,"round","gameId"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"span",2),s._uU(3,"Rounds"),s.qZA(),s.YNc(4,Fee,3,1,"div",3),s.qZA()(),s.YNc(5,Nee,2,0,"div",3),s.YNc(6,Lee,4,0,"div",3),s.YNc(7,Vee,2,1,"div",4)),2&e&&(s.xp6(4),s.Q6J("ngIf",i.isUserAdmin&&(i.game.numberOfRounds>0&&0===i.rounds.length||i.rounds.length<i.game.numberOfRounds)),s.xp6(1),s.Q6J("ngIf",0===i.rounds.length),s.xp6(1),s.Q6J("ngIf",(!i.game.numberOfRounds||0===i.game.numberOfRounds)&&i.isUserAdmin),s.xp6(1),s.Q6J("ngIf",i.rounds.length>0))},dependencies:[hr,En,Ac,Ps,Pee]}),n})();function Uee(n,t){if(1&n&&s._UZ(0,"qrcode",10),2&n){const e=s.oxw(2);s.Q6J("qrdata",e.gameURL)("width",256)("errorCorrectionLevel","M")}}function jee(n,t){1&n&&(s.TgZ(0,"mat-icon",11),s._uU(1,"group"),s.qZA(),s._uU(2," Players "))}function Gee(n,t){1&n&&(s.TgZ(0,"mat-icon",11),s._uU(1,"table_bar"),s.qZA(),s._uU(2," Rounds "))}function Hee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div"),s._UZ(1,"app-section-header",1),s.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),s._uU(6,"Game Id: "),s.qZA(),s.TgZ(7,"span",5),s._uU(8),s.qZA()(),s.TgZ(9,"div",4)(10,"span",5),s._uU(11,"Rounds: "),s.qZA(),s.TgZ(12,"span",5),s._uU(13),s.qZA()(),s.TgZ(14,"div"),s.YNc(15,Uee,1,3,"qrcode",6),s.qZA()()(),s.TgZ(16,"mat-tab-group",7),s.NdJ("selectedIndexChange",function(r){s.CHM(e);const l=s.oxw();return s.KtG(l.selectTab(r))}),s.TgZ(17,"mat-tab"),s.YNc(18,jee,3,0,"ng-template",8),s._UZ(19,"app-game-players",9),s.qZA(),s.TgZ(20,"mat-tab"),s.YNc(21,Gee,3,0,"ng-template",8),s._UZ(22,"app-rounds",9),s.qZA()()()}if(2&n){const e=s.oxw();let i;s.xp6(1),s.Q6J("sectionName",e.sectionName),s.xp6(7),s.Oqu(e.game.id),s.xp6(5),s.Oqu(null!==(i=e.game.numberOfRounds)&&void 0!==i?i:0),s.xp6(2),s.Q6J("ngIf",e.gameURL),s.xp6(1),s.Q6J("selectedIndex",e.selectedTab),s.xp6(3),s.Q6J("game",e.game),s.xp6(3),s.Q6J("game",e.game)}}let q4=(()=>{class n{constructor(e,i,r,l){this.route=e,this.gameService=i,this.location=r,this.router=l,this.selectedTab=tv.Players,this.playersTab=tv.Players,this.roundsTab=tv.Rounds,this.subscriptions=[]}ngOnInit(){this.getGame(),this.parseURLParams()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}parseURLParams(){this.route.queryParams.subscribe(e=>{const i=e.selectedTab;i&&(this.selectedTab=i)})}getGame(){const e=this.route.snapshot.paramMap.get("gameId");!e||this.subscriptions.push(this.gameService.getGame(e).subscribe({next:i=>{this.game=i,this.gameURL=`${zp_url}/game/${this.game.id}/dashboard`,this.sectionName=`${this.game.name.toUpperCase()} Dashboard`,console.log(this.gameURL)}}))}selectTab(e){this.selectedTab=e,this.router.navigate([],{relativeTo:this.route,queryParams:{selectedTab:this.selectedTab},queryParamsHandling:"merge",skipLocationChange:!1})}goBack(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eo),s.Y36(Oa),s.Y36(Ne),s.Y36(Ii))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-game-dashboard"]],inputs:{game:"game"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"sectionName"],[1,"flex-box-rows","justify-content-center"],[1,"flex-box-columns"],[1,"flex-box-item"],[1,"mat-h3"],[3,"qrdata","width","errorCorrectionLevel",4,"ngIf"],["mat-stretch-tabs","",3,"selectedIndex","selectedIndexChange"],["mat-tab-label",""],[3,"game"],[3,"qrdata","width","errorCorrectionLevel"],[1,"example-tab-icon"]],template:function(e,i){1&e&&s.YNc(0,Hee,23,7,"div",0),2&e&&s.Q6J("ngIf",i.game)},dependencies:[En,Ea,Mee,gee,V4,c4,hL,z4,aT]}),n})();function $ee(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1," (you)"),s.qZA())}function zee(n,t){1&n&&(s.TgZ(0,"mat-icon"),s._uU(1,"checkmark"),s.qZA())}let qee=(()=>{class n{constructor(e){this.authService=e,this.isCurrentUserTeamPlayer=!1}ngOnInit(){const e=this.authService.getCurrentUser();this.isCurrentUserTeamPlayer=!(!e||this.teamPlayer.player.uid!==e.uid)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-team-player"]],inputs:{teamPlayer:"teamPlayer"},decls:5,vars:3,consts:[[1,"mdc-card","team-player-card"],[1,"flex-box-item"],[4,"ngIf"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div",1),s._uU(2),s.YNc(3,$ee,2,0,"span",2),s.qZA(),s.YNc(4,zee,2,0,"mat-icon",2),s.qZA()),2&e&&(s.xp6(2),s.hij(" ",i.teamPlayer.player.displayName," "),s.xp6(1),s.Q6J("ngIf",i.isCurrentUserTeamPlayer),s.xp6(1),s.Q6J("ngIf",i.teamPlayer.isPointsConfirmed))},dependencies:[En,Ea,PC],styles:[".team-player-card[_ngcontent-%COMP%]{margin:1rem 0;display:flex}"]}),n})();function Wee(n,t){1&n&&s._UZ(0,"app-team-player",4),2&n&&s.Q6J("teamPlayer",t.$implicit)}let Zee=(()=>{class n{constructor(e,i,r,l){this.gameService=e,this.route=i,this.teamService=r,this.roundMediatorService=l,this.teamPointsFormControl=new uP({value:0,disabled:!1}),this.auth=(0,o0.n)(),this.pointsConfirmed=!1,this.isEditable=!0,this.subscriptions=[],this.teamPlayers=[]}ngOnInit(){this.gameId=this.route.snapshot.paramMap.get("gameId"),this.roundId=this.route.snapshot.paramMap.get("roundId"),this.subscriptions.push(this.teamPointsFormControl.valueChanges.pipe(Tl(),Mp(1e3)).subscribe({next:e=>{this.pointsChanged(e)}}),this.teamService.getTeam(this.team.id,this.table.id,this.roundId,this.gameId).subscribe({next:e=>{e&&(this.team=e,this.teamPointsFormControl.setValue(e.points),this.pointsConfirmed=!1,this.teamPlayers=e.teamPlayers,e.teamPlayers.forEach(i=>{i.isPointsConfirmed&&(this.pointsConfirmed=!0)}),this.canEditPoints())}}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}pointsChanged(e){this.team.points!==e&&(console.log("pointsChanged: "+e),this.team.points=e,this.subscriptions.push(this.teamService.updateTeam(this.team,this.table.id,this.roundId,this.gameId).subscribe()))}canEditPoints(){const e=this.auth.currentUser;if(!e)return this.isEditable=!1,void this.teamPointsFormControl.disable();this.subscriptions.push(Ur([this.roundMediatorService.allTablesConfirmed(this.roundId,this.gameId),this.gameService.isUserAdmin(e.uid,this.gameId)]).pipe(Ln(1)).subscribe({next:([i,r])=>{const l=this.team.teamPlayers.find(d=>d.player.uid===e.uid);i||!r&&!l||this.pointsConfirmed?(this.isEditable=!1,this.teamPointsFormControl.disable()):(this.isEditable=!0,this.teamPointsFormControl.enable())}}))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Oa),s.Y36(eo),s.Y36(hT),s.Y36(LC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-team"]],inputs:{team:"team",table:"table"},decls:10,vars:2,consts:[[1,"mdc-card","card","team-card"],[3,"teamPlayer",4,"ngFor","ngForOf"],["appearance","fill",1,"full-width"],["matInput","","id","teamPoints","placeholder","0","type","number","pattern","\\d*","onclick","this.select()",3,"formControl"],[3,"teamPlayer"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"div")(2,"div"),s._uU(3,"Team:"),s.qZA(),s.YNc(4,Wee,1,1,"app-team-player",1),s.qZA(),s.TgZ(5,"div")(6,"mat-form-field",2)(7,"mat-label"),s._uU(8,"Points"),s.qZA(),s._UZ(9,"input",3),s.qZA()()()),2&e&&(s.xp6(4),s.Q6J("ngForOf",i.teamPlayers),s.xp6(5),s.Q6J("formControl",i.teamPointsFormControl))},dependencies:[hr,Ag,dP,OA,bP,PC,kC,om,OC,fP,qee],styles:[".team-card[_ngcontent-%COMP%]{margin:1rem 0}"]}),n})();function Yee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.toggleConfirmPoints(!0))}),s.TgZ(1,"mat-icon"),s._uU(2,"check"),s.qZA(),s._uU(3," Confirm Points "),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isDisabled)}}function Kee(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.toggleConfirmPoints(!1))}),s.TgZ(1,"mat-icon"),s._uU(2,"cancel"),s.qZA(),s._uU(3," Change Points "),s.qZA()}if(2&n){const e=s.oxw(2);s.Q6J("disabled",e.isDisabled)}}function Qee(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",1),s.YNc(2,Yee,4,1,"button",5),s.YNc(3,Kee,4,1,"button",5),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",!e.pointsConfirmed),s.xp6(1),s.Q6J("ngIf",e.pointsConfirmed)}}function Jee(n,t){if(1&n&&s._UZ(0,"app-team",7),2&n){const e=t.$implicit,i=s.oxw();s.Q6J("team",e)("table",i.table)}}let Xee=(()=>{class n{constructor(e,i,r,l,d,p){this.authService=e,this.gameService=i,this.route=r,this.teamService=l,this.tableService=d,this.roundMediatorService=p,this.pointsConfirmed=!1,this.isDisabled=!1,this.subscriptions=[],this.isCurrentUserAdmin=!1}ngOnInit(){this.gameId=this.route.snapshot.paramMap.get("gameId"),this.roundId=this.route.snapshot.paramMap.get("roundId"),this.getTeams(),this.subscriptions.push(Ur([this.gameService.isCurrentUserAdmin(this.gameId),this.roundMediatorService.allTablesConfirmed(this.roundId,this.gameId)]).subscribe({next:([e,i])=>{this.isCurrentUserAdmin=e,this.isDisabled=!(e||!i)}}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getTeams(){const e=this.authService.getCurrentUser();!e||this.subscriptions.push(Ur([this.gameService.isUserAdmin(e.uid,this.gameId),this.teamService.getTeamsForTable(this.table.id,this.roundId,this.gameId)]).subscribe({next:([i,r])=>{r&&(this.teams?r.forEach(l=>{const d=this.teams.find(p=>p.id===l.id);d&&(d.points=l.points,d.teamPlayers=l.teamPlayers)}):this.teams=r,r.forEach(l=>{const d=l.teamPlayers.find(p=>p.player.uid===e.uid);d&&(this.currentTeamPlayer=d)}),this.checkPointsConfirmed(i))}}))}toggleConfirmPoints(e){const i=this.authService.getCurrentUser();this.subscriptions.push(this.gameService.isUserAdmin(i.uid,this.gameId).pipe(Ln(1)).subscribe({next:r=>{r?this.teams.forEach(l=>{l.teamPlayers.forEach(d=>{d.isPointsConfirmed=e}),this.teamService.updateTeam(l,this.table.id,this.roundId,this.gameId).subscribe({next:()=>{this.checkPointsConfirmed(r)}})}):this.currentTeamPlayer&&this.teams.forEach(l=>{l.teamPlayers.find(p=>p.player.uid===i.uid)&&(l.teamPlayers.forEach(p=>{p.isPointsConfirmed=e}),this.teamService.updateTeam(l,this.table.id,this.roundId,this.gameId).subscribe({next:()=>{this.checkPointsConfirmed(r)}}))})}}))}checkPointsConfirmed(e){let i=0;this.teams.forEach(l=>{l.teamPlayers.forEach(d=>{d.isPointsConfirmed&&i++})});const r=4===i;this.pointsConfirmed=e?r:i>0,this.table.pointsConfirmed!==r&&(this.table.pointsConfirmed=r,this.tableService.updateTable(this.table,this.roundId,this.gameId))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(Oa),s.Y36(eo),s.Y36(hT),s.Y36(fT),s.Y36(LC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-table-detail"]],inputs:{table:"table"},decls:6,vars:5,consts:[["color","secondary",1,"flex-box-rows"],[1,"flex-box-item"],[4,"ngIf"],[3,"ngClass.gt-xs","ngClass.lt-sm"],["class","flex-box-item",3,"team","table",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"flex-box-item",3,"team","table"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"div",1),s._uU(2),s.qZA(),s.YNc(3,Qee,4,2,"div",2),s.qZA(),s.TgZ(4,"div",3),s.YNc(5,Jee,1,2,"app-team",4),s.qZA()),2&e&&(s.xp6(2),s.hij("Table ",i.table.number,""),s.xp6(1),s.Q6J("ngIf",i.isCurrentUserAdmin),s.xp6(1),s.Q6J("ngClass.gt-xs","flex-box-rows")("ngClass.lt-sm","flex-box-columns"),s.xp6(1),s.Q6J("ngForOf",i.teams))},dependencies:[hr,En,Ac,Ea,Ps,wL,Zee],styles:[".teams[_ngcontent-%COMP%]{overflow-y:auto}"]}),n})();function ete(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filterTables())}),s._uU(1,"Show All Tables"),s.qZA()}}function tte(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.filterTables())}),s._uU(1,"Show My Table"),s.qZA()}}function nte(n,t){if(1&n&&(s.TgZ(0,"div")(1,"div",4),s.YNc(2,ete,2,0,"button",5),s.qZA(),s.TgZ(3,"div",4),s.YNc(4,tte,2,0,"button",5),s.qZA()()),2&n){const e=s.oxw();s.xp6(2),s.Q6J("ngIf",e.isDataFiltered),s.xp6(2),s.Q6J("ngIf",!e.isDataFiltered)}}function ite(n,t){1&n&&s._UZ(0,"app-table-detail",7),2&n&&s.Q6J("table",t.$implicit)}let rte=(()=>{class n{constructor(e,i,r,l){this.tableService=e,this.authService=i,this.route=r,this.gamePlayerService=l,this.isDataFiltered=!1,this.isUserPlayer=!0,this.subscriptions=[]}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.gameId=this.route.snapshot.paramMap.get("gameId"),this.roundId=this.route.snapshot.paramMap.get("roundId"),this.filteredTables=this.tables.sort((e,i)=>e.number-i.number),this.checkCurrentUserIsPlayer()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}filterTables(){this.isDataFiltered=!this.isDataFiltered,this.currentUser&&this.isDataFiltered?this.subscriptions.push(this.tableService.getTableForPlayer(this.currentUser.uid,this.roundId,this.gameId).pipe(Ln(1)).subscribe({next:e=>{this.filterString=e?e.id:void 0,this.filteredTables=this.filterString?this.tables.filter(i=>i.id===this.filterString):this.tables}})):this.filteredTables=this.tables,this.filteredTables.sort((e,i)=>e.number-i.number)}checkCurrentUserIsPlayer(){this.currentUser?this.subscriptions.push(this.gamePlayerService.getPlayer(this.currentUser.uid,this.gameId).subscribe({next:e=>{e?(this.isUserPlayer=!0,this.filterTables()):this.isUserPlayer=!1}})):this.isUserPlayer=!1}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fT),s.Y36(Ol),s.Y36(eo),s.Y36(J_))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tables"]],inputs:{tables:"tables"},decls:5,vars:2,consts:[["color","accent",1,"flex-box-rows"],[1,"flex-box-item","flex-box-item-large"],[4,"ngIf"],[3,"table",4,"ngFor","ngForOf"],[1,"flex-box-item"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[3,"table"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar",0)(1,"div",1),s._uU(2,"Tables"),s.qZA(),s.YNc(3,nte,5,2,"div",2),s.qZA(),s.YNc(4,ite,1,1,"app-table-detail",3)),2&e&&(s.xp6(3),s.Q6J("ngIf",i.isUserPlayer),s.xp6(1),s.Q6J("ngForOf",i.filteredTables))},dependencies:[hr,En,Ac,Ps,Xee]}),n})();function ste(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,", "),s.qZA())}function ote(n,t){if(1&n&&(s.TgZ(0,"span"),s.YNc(1,ste,2,0,"span",0),s.TgZ(2,"span"),s._uU(3),s.qZA()()),2&n){const e=t.$implicit,i=t.index;s.xp6(1),s.Q6J("ngIf",i>0),s.xp6(2),s.Oqu(e.displayName)}}function ate(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1,", "),s.qZA())}function lte(n,t){if(1&n&&(s.TgZ(0,"span"),s.YNc(1,ate,2,0,"span",0),s.TgZ(2,"span"),s._uU(3),s.qZA()()),2&n){const e=t.$implicit,i=t.index;s.xp6(1),s.Q6J("ngIf",i>0),s.xp6(2),s.hij("Table ",e.number,"")}}function cte(n,t){1&n&&(s.TgZ(0,"span"),s._uU(1," All Table's Points Confirmed "),s.qZA())}function ute(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",3)(1,"button",8),s.NdJ("click",function(){s.CHM(e);const r=s.oxw(2);return s.KtG(r.endRound())}),s.ALo(2,"async"),s._uU(3," End Round "),s.qZA()()}if(2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("disabled",!1===s.lcZ(2,1,e.allTablesPointsConfirmed$))}}function dte(n,t){if(1&n&&s._UZ(0,"app-tables",9),2&n){const e=s.oxw(2);s.Q6J("tables",e.tables)}}function hte(n,t){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"app-section-header",1),s.TgZ(2,"div",2)(3,"div",3)(4,"span",4),s._uU(5,"Round Id: "),s.qZA(),s.TgZ(6,"span"),s._uU(7),s.qZA()(),s.TgZ(8,"div",3)(9,"span",4),s._uU(10),s.qZA(),s.YNc(11,ote,4,2,"span",5),s.qZA(),s.TgZ(12,"div",3)(13,"span",4),s._uU(14),s.ALo(15,"async"),s.qZA(),s.YNc(16,lte,4,2,"span",5),s.ALo(17,"async"),s.YNc(18,cte,2,0,"span",0),s.ALo(19,"async"),s.qZA(),s.YNc(20,ute,4,3,"div",6),s.ALo(21,"async"),s.qZA(),s.YNc(22,dte,1,1,"app-tables",7),s.qZA()),2&n){const e=s.oxw();let i;s.xp6(1),s.Q6J("sectionName",e.sectionName),s.xp6(6),s.Oqu(e.round.id),s.xp6(3),s.hij("Byes (",e.round.byes.length,"): "),s.xp6(1),s.Q6J("ngForOf",e.round.byes),s.xp6(3),s.hij("Tables with unconfirmed Points (",null!==(i=null==(i=s.lcZ(15,9,e.unConfirmedTables$))?null:i.length)&&void 0!==i?i:0,"): "),s.xp6(2),s.Q6J("ngForOf",s.lcZ(17,11,e.unConfirmedTables$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(19,13,e.allTablesPointsConfirmed$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(21,15,e.isAdmin$)),s.xp6(2),s.Q6J("ngIf",e.tables)}}const fte=[{path:"",component:(()=>{class n{constructor(e){this.gameService=e,this.players=[]}ngOnInit(){this.gameService.games$.subscribe({next:e=>{this.games=e}})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Oa))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"app-games")},dependencies:[O4],styles:["h2[_ngcontent-%COMP%]{text-align:center}.player-list-menu[_ngcontent-%COMP%]{padding:0;margin:auto;max-width:1000px;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-content:flex-start;align-items:flex-start}a[_ngcontent-%COMP%]{background-color:#3f525c;border-radius:2px;padding:1rem;font-size:1.2rem;text-decoration:none;display:inline-block;color:#fff;text-align:center;width:100%;min-width:70px;margin:.5rem auto;box-sizing:border-box;order:0;flex:0 1 auto;align-self:auto}@media (min-width: 600px){a[_ngcontent-%COMP%]{width:18%;box-sizing:content-box}}a[_ngcontent-%COMP%]:hover{background-color:#000}"]}),n})()},{path:"login",component:k0},{path:"games",component:O4},{path:"gamePlayers",component:hL},{path:"game/:gameId/player/:playerId",component:MJ},{path:"game/:gameId",component:q4},{path:"game/:gameId/dashboard",component:q4},{path:"game/:gameId/configuration",component:zX},{path:"game/:gameId/rounds",component:z4},{path:"game/:gameId/round/:roundId",component:(()=>{class n{constructor(e,i,r,l,d,p,v){this.router=e,this.route=i,this.roundService=r,this.tableService=l,this.roundMediatorService=d,this.gameService=p,this.location=v,this.unConfirmedTables$=ot([]),this.allTablesPointsConfirmed$=ot(!1),this.isAdmin$=ot(!1),this.subscriptions=[]}ngOnInit(){this.gameId=this.route.snapshot.paramMap.get("gameId"),this.roundId=this.route.snapshot.paramMap.get("roundId"),this.getRound(),this.getTables(),this.allTablesPointsConfirmed$=this.roundMediatorService.allTablesConfirmed(this.roundId,this.gameId),this.unConfirmedTables$=this.roundMediatorService.unconfirmedTables(this.roundId,this.gameId),this.isAdmin$=this.gameService.isCurrentUserAdmin(this.gameId)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}endRound(){this.subscriptions.push(this.allTablesPointsConfirmed$.pipe(Ln(1),vn(e=>{if(e)return this.roundMediatorService.updatePlayerPoints(this.roundId,this.gameId,this.round.number)})).subscribe({next:()=>{this.roundMediatorService.updateByePlayerPoints(this.roundId,this.gameId).subscribe({complete:()=>{this.router.navigateByUrl(`/game/${this.gameId}/dashboard`)}})}}))}getRound(){this.subscriptions.push(this.roundService.getRound(this.roundId,this.gameId).subscribe({next:e=>{this.round=e,this.sectionName=`Round ${e.number}`}}))}getTables(){this.subscriptions.push(this.tableService.getTablesForRound(this.roundId,this.gameId).subscribe({next:e=>{e&&(this.tables=e)}}))}goBack(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ii),s.Y36(eo),s.Y36(cT),s.Y36(fT),s.Y36(LC),s.Y36(Oa),s.Y36(Ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-round-detail"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"sectionName"],[1,"content","flex-box-columns","mat-typography"],[1,"flex-box-item"],[1,"mat-h3"],[4,"ngFor","ngForOf"],["class","flex-box-item",4,"ngIf"],[3,"tables",4,"ngIf"],["mat-raised-button","","color","primary","aria-label","Back","title","Back",1,"full-width",3,"disabled","click"],[3,"tables"]],template:function(e,i){1&e&&s.YNc(0,hte,23,17,"div",0),2&e&&s.Q6J("ngIf",i.round)},dependencies:[hr,En,Ps,rte,aT,Fo]}),n})()},{path:"userProfile",component:(()=>{class n{constructor(e,i){this.authService=e,this.location=i}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.currentUser&&(this.displayName=this.currentUser.displayName,this.email=this.currentUser.email)}ngOnDestroy(){this.subscription?.unsubscribe()}save(){}back(){this.location.back()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ol),s.Y36(Ne))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-user"]],decls:10,vars:2,consts:[[1,"flex-box-rows"],[1,"mdc-button","mdc-button--raised",3,"click"],[1,"mdc-button__ripple"],[1,"mdc-button__label"]],template:function(e,i){1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA(),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.TgZ(4,"div",0)(5,"button",1),s.NdJ("click",function(){return i.back()}),s._UZ(6,"div",2),s.TgZ(7,"span",3)(8,"span",3),s._uU(9,"Back"),s.qZA()()()()),2&e&&(s.xp6(1),s.hij(" Display Name: ",i.displayName," "),s.xp6(2),s.hij(" Email: ",i.email," "))}}),n})()}];let pte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[TA.forRoot(fte,{useHash:!0}),TA]}),n})();function W4(n){return new s.vHH(3e3,!1)}function Yte(){return typeof window<"u"&&typeof window.document<"u"}function EL(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Nf(n){switch(n.length){case 0:return new Wh;case 1:return n[0];default:return new pD(n)}}function Z4(n,t,e,i,r=new Map,l=new Map){const d=[],p=[];let v=-1,E=null;if(i.forEach(M=>{const k=M.get("offset"),z=k==v,W=z&&E||new Map;M.forEach((te,Ee)=>{let Be=Ee,Ze=te;if("offset"!==Ee)switch(Be=t.normalizePropertyName(Be,d),Ze){case"!":Ze=r.get(Ee);break;case Dc:Ze=l.get(Ee);break;default:Ze=t.normalizeStyleValue(Ee,Be,Ze,d)}W.set(Be,Ze)}),z||p.push(W),E=W,v=k}),d.length)throw function Lte(n){return new s.vHH(3502,!1)}();return p}function xL(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&DL(e,"start",n)));break;case"done":n.onDone(()=>i(e&&DL(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&DL(e,"destroy",n)))}}function DL(n,t,e){const l=IL(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),d=n._data;return null!=d&&(l._data=d),l}function IL(n,t,e,i,r="",l=0,d){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!d}}function Pa(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Y4(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let AL=(n,t)=>!1,K4=(n,t,e)=>[],Q4=null;function SL(n){const t=n.parentNode||n.host;return t===Q4?null:t}(EL()||typeof Element<"u")&&(Yte()?(Q4=(()=>document.documentElement)(),AL=(n,t)=>{for(;t;){if(t===n)return!0;t=SL(t)}return!1}):AL=(n,t)=>n.contains(t),K4=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lm=null,J4=!1;const X4=AL,e5=K4;let t5=(()=>{class n{validateStyleProperty(e){return function Qte(n){lm||(lm=function Jte(){return typeof document<"u"?document.body:null}()||{},J4=!!lm.style&&"WebkitAppearance"in lm.style);let t=!0;return lm.style&&!function Kte(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lm.style,!t&&J4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lm.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return X4(e,i)}getParentElement(e){return SL(e)}query(e,i,r){return e5(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,d,p=[],v){return new Wh(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TL=(()=>{class n{}return n.NOOP=new t5,n})();const ML="ng-enter",pT="ng-leave",gT="ng-trigger",mT=".ng-trigger",r5="ng-animating",RL=".ng-animating";function lh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:kL(parseFloat(t[1]),t[2])}function kL(n,t){return"s"===t?1e3*n:n}function yT(n,t,e){return n.hasOwnProperty("duration")?n:function tne(n,t,e){let r,l=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return t.push(W4()),{duration:0,delay:0,easing:""};r=kL(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=kL(parseFloat(v),p[4]));const E=p[5];E&&(d=E)}else r=n;if(!e){let p=!1,v=t.length;r<0&&(t.push(function gte(){return new s.vHH(3100,!1)}()),p=!0),l<0&&(t.push(function mte(){return new s.vHH(3101,!1)}()),p=!0),p&&t.splice(v,0,W4())}return{duration:r,delay:l,easing:d}}(n,t,e)}function BC(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function s5(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Lf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function a5(n,t,e){return e?t+":"+e+";":""}function l5(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=a5(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=a5(0,sne(e),n.style[e]));n.setAttribute("style",t)}function Bu(n,t,e){n.style&&(t.forEach((i,r)=>{const l=PL(r);e&&!e.has(r)&&e.set(r,n.style[l]),n.style[l]=i}),EL()&&l5(n))}function cm(n,t){n.style&&(t.forEach((e,i)=>{const r=PL(i);n.style[r]=""}),EL()&&l5(n))}function VC(n){return Array.isArray(n)?1==n.length?n[0]:jb(n):n}const OL=new RegExp("{{\\s*(.+?)\\s*}}","g");function c5(n){let t=[];if("string"==typeof n){let e;for(;e=OL.exec(n);)t.push(e[1]);OL.lastIndex=0}return t}function UC(n,t,e){const i=n.toString(),r=i.replace(OL,(l,d)=>{let p=t[d];return null==p&&(e.push(function _te(n){return new s.vHH(3003,!1)}()),p=""),p.toString()});return r==i?n:r}function _T(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const rne=/-+([a-z0-9])/g;function PL(n){return n.replace(rne,(...t)=>t[1].toUpperCase())}function sne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function vte(n){return new s.vHH(3004,!1)}()}}function u5(n,t){return window.getComputedStyle(n)[t]}function dne(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function hne(n,t,e){if(":"==n[0]){const v=function fne(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ote(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof v)return void t.push(v);n=v}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function kte(n){return new s.vHH(3015,!1)}()),t;const r=i[1],l=i[2],d=i[3];t.push(d5(r,d));"<"==l[0]&&!("*"==r&&"*"==d)&&t.push(d5(d,r))}(i,e,t)):e.push(n),e}const CT=new Set(["true","1"]),ET=new Set(["false","0"]);function d5(n,t){const e=CT.has(n)||ET.has(n),i=CT.has(t)||ET.has(t);return(r,l)=>{let d="*"==n||n==r,p="*"==t||t==l;return!d&&e&&"boolean"==typeof r&&(d=r?CT.has(n):ET.has(n)),!p&&i&&"boolean"==typeof l&&(p=l?CT.has(t):ET.has(t)),d&&p}}const pne=new RegExp("s*:selfs*,?","g");function FL(n,t,e,i){return new gne(n).build(t,e,i)}class gne{constructor(t){this._driver=t}build(t,e,i){const r=new _ne(e);return this._resetContextStyleTimingState(r),Fa(this,VC(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push(function wte(){return new s.vHH(3006,!1)}()),t.definitions.forEach(p=>{if(this._resetContextStyleTimingState(e),0==p.type){const v=p,E=v.name;E.toString().split(/\s*,\s*/).forEach(M=>{v.name=M,l.push(this.visitState(v,e))}),v.name=E}else if(1==p.type){const v=this.visitTransition(p,e);i+=v.queryCount,r+=v.depCount,d.push(v)}else e.errors.push(function Cte(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:l,transitions:d,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,d=r||{};i.styles.forEach(p=>{p instanceof Map&&p.forEach(v=>{c5(v).forEach(E=>{d.hasOwnProperty(E)||l.add(E)})})}),l.size&&(_T(l.values()),e.errors.push(function Ete(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Fa(this,VC(t.animation),e);return{type:1,matchers:dne(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:um(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Fa(this,i,e)),options:um(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(d=>{e.currentTime=i;const p=Fa(this,d,e);return r=Math.max(r,e.currentTime),p});return e.currentTime=r,{type:3,steps:l,options:um(t.options)}}visitAnimate(t,e){const i=function bne(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return NL(yT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=NL(0,0,"");return l.dynamic=!0,l.strValue=e,l}const r=yT(e,t);return NL(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:Eo({});if(5==l.type)r=this.visitKeyframes(l,e);else{let d=t.styles,p=!1;if(!d){p=!0;const E={};i.easing&&(E.easing=i.easing),d=Eo(E)}e.currentTime+=i.duration+i.delay;const v=this.visitStyle(d,e);v.isEmptyStep=p,r=v}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let p of r)"string"==typeof p?p===Dc?i.push(p):e.errors.push(new s.vHH(3002,!1)):i.push(s5(p));let l=!1,d=null;return i.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(d=p.get("easing"),p.delete("easing")),!l))for(let v of p.values())if(v.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:d,offset:t.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,v)=>{const E=e.collectedStyles.get(e.currentQuerySelector),M=E.get(v);let k=!0;M&&(l!=r&&l>=M.startTime&&r<=M.endTime&&(e.errors.push(function Dte(n,t,e,i,r){return new s.vHH(3010,!1)}()),k=!1),l=M.startTime),k&&E.set(v,{startTime:l,endTime:r}),e.options&&function ine(n,t,e){const i=t.params||{},r=c5(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(function yte(n){return new s.vHH(3001,!1)}())})}(p,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Ite(){return new s.vHH(3011,!1)}()),i;let l=0;const d=[];let p=!1,v=!1,E=0;const M=t.steps.map(Ze=>{const ht=this._makeStyleAst(Ze,e);let Ct=null!=ht.offset?ht.offset:function vne(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ht.styles),bt=0;return null!=Ct&&(l++,bt=ht.offset=Ct),v=v||bt<0||bt>1,p=p||bt<E,E=bt,d.push(bt),ht});v&&e.errors.push(function Ate(){return new s.vHH(3012,!1)}()),p&&e.errors.push(function Ste(){return new s.vHH(3200,!1)}());const k=t.steps.length;let z=0;l>0&&l<k?e.errors.push(function Tte(){return new s.vHH(3202,!1)}()):0==l&&(z=1/(k-1));const W=k-1,te=e.currentTime,Ee=e.currentAnimateTimings,Be=Ee.duration;return M.forEach((Ze,ht)=>{const Ct=z>0?ht==W?1:z*ht:d[ht],bt=Ct*Be;e.currentTime=te+Ee.delay+bt,Ee.duration=bt,this._validateStyleAst(Ze,e),Ze.offset=Ct,i.styles.push(Ze)}),i}visitReference(t,e){return{type:8,animation:Fa(this,VC(t.animation),e),options:um(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:um(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:um(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,d]=function mne(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(pne,"")),n=n.replace(/@\*/g,mT).replace(/@\w+/g,e=>mT+"-"+e.slice(1)).replace(/:animating/g,RL),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Pa(e.collectedStyles,e.currentQuerySelector,new Map);const p=Fa(this,VC(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:t.selector,options:um(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Mte(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:yT(t.timings,e.errors,!0);return{type:12,animation:Fa(this,VC(t.animation),e),timings:i,options:null}}}class _ne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function um(n){return n?(n=BC(n)).params&&(n.params=function yne(n){return n?BC(n):null}(n.params)):n={},n}function NL(n,t,e){return{duration:n,delay:t,easing:e}}function LL(n,t,e,i,r,l,d=null,p=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:d,subTimeline:p}}class xT{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ene=new RegExp(":enter","g"),Dne=new RegExp(":leave","g");function BL(n,t,e,i,r,l=new Map,d=new Map,p,v,E=[]){return(new Ine).buildKeyframes(n,t,e,i,r,l,d,p,v,E)}class Ine{buildKeyframes(t,e,i,r,l,d,p,v,E,M=[]){E=E||new xT;const k=new VL(t,e,E,r,l,M,[]);k.options=v;const z=v.delay?lh(v.delay):0;k.currentTimeline.delayNextStep(z),k.currentTimeline.setStyles([d],null,k.errors,v),Fa(this,i,k);const W=k.timelines.filter(te=>te.containsAnimation());if(W.length&&p.size){let te;for(let Ee=W.length-1;Ee>=0;Ee--){const Be=W[Ee];if(Be.element===e){te=Be;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([p],null,k.errors,v)}return W.length?W.map(te=>te.buildKeyframes()):[LL(e,[],[],[],0,z,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);l!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const l=r?.delay;if(l){const d="number"==typeof l?l:lh(UC(l,r?.params??{},e.errors));i.delayNextStep(d)}}}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const d=null!=i.duration?lh(i.duration):null,p=null!=i.delay?lh(i.delay):null;return 0!==d&&t.forEach(v=>{const E=e.appendInstructionToTimeline(v,d,p);l=Math.max(l,E.duration+E.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Fa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=DT);const d=lh(l.delay);r.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Fa(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?lh(t.options.delay):0;t.steps.forEach(d=>{const p=e.createSubContext(t.options);l&&p.delayNextStep(l),Fa(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return yT(e.params?UC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,p=e.createSubContext().currentTimeline;p.easing=i.easing,t.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,e.errors,e.options),p.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(p),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?lh(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=DT);let d=i;const p=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=p.length;let v=null;p.forEach((E,M)=>{e.currentQueryIndex=M;const k=e.createSubContext(t.options,E);l&&k.delayNextStep(l),E===e.element&&(v=k.currentTimeline),Fa(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,d=Math.abs(l.duration),p=d*(e.currentQueryTotal-1);let v=d*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=i.currentStaggerTime}const M=e.currentTimeline;v&&M.delayNextStep(v);const k=M.currentTime;Fa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-k+(r.startTime-i.currentTimeline.startTime)}}const DT={};class VL{constructor(t,e,i,r,l,d,p,v){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=DT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new IT(this._driver,e,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=lh(i.duration)),null!=i.delay&&(r.delay=lh(i.delay));const l=i.params;if(l){let d=r.params;d||(d=this.options.params={}),Object.keys(l).forEach(p=>{(!e||!d.hasOwnProperty(p))&&(d[p]=UC(l[p],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new VL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=DT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},l=new Ane(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,d){let p=[];if(r&&p.push(this.element),t.length>0){t=(t=t.replace(Ene,"."+this._enterClassName)).replace(Dne,"."+this._leaveClassName);let E=this._driver.query(this.element,t,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),p.push(...E)}return!l&&0==p.length&&d.push(function Rte(n){return new s.vHH(3014,!1)}()),p}}class IT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new IT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Dc),this._currentKeyframe.set(e,Dc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const l=r&&r.params||{},d=function Sne(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let l of i)e.set(l,Dc)}else Lf(r,e)}),e}(t,this._globalTimelineStyles);for(let[p,v]of d){const E=UC(v,l,i);this._pendingStyles.set(p,E),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Dc),this._updateStyle(p,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,v)=>{const E=Lf(p,new Map,this._backFill);E.forEach((M,k)=>{"!"===M?t.add(k):M===Dc&&e.add(k)}),i||E.set("offset",v/this.duration),r.push(E)});const l=t.size?_T(t.values()):[],d=e.size?_T(e.values()):[];if(i){const p=r[0],v=new Map(p);p.set("offset",0),v.set("offset",1),r=[p,v]}return LL(this.element,r,l,d,this.duration,this.startTime,this.easing,!1)}}class Ane extends IT{constructor(t,e,i,r,l,d,p=!1){super(t,e,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],d=i+e,p=e/d,v=Lf(t[0]);v.set("offset",0),l.push(v);const E=Lf(t[0]);E.set("offset",p5(p)),l.push(E);const M=t.length-1;for(let k=1;k<=M;k++){let z=Lf(t[k]);const W=z.get("offset");z.set("offset",p5((e+W*i)/d)),l.push(z)}i=d,e=0,r="",t=l}return LL(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function p5(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class UL{}const Tne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mne extends UL{normalizePropertyName(t,e){return PL(t)}normalizeStyleValue(t,e,i,r){let l="";const d=i.toString().trim();if(Tne.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function bte(n,t){return new s.vHH(3005,!1)}())}return d+l}}function g5(n,t,e,i,r,l,d,p,v,E,M,k,z){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:d,timelines:p,queriedElements:v,preStyleProps:E,postStyleProps:M,totalTime:k,errors:z}}const jL={};class m5{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Rne(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,l,d,p,v,E,M){const k=[],z=this.ast.options&&this.ast.options.params||jL,te=this.buildStyles(i,p&&p.params||jL,k),Ee=v&&v.params||jL,Be=this.buildStyles(r,Ee,k),Ze=new Set,ht=new Map,Ct=new Map,bt="void"===r,Ft={params:kne(Ee,z),delay:this.ast.options?.delay},Bt=M?[]:BL(t,e,this.ast.animation,l,d,te,Be,Ft,E,k);let In=0;if(Bt.forEach(Nc=>{In=Math.max(Nc.duration+Nc.delay,In)}),k.length)return g5(e,this._triggerName,i,r,bt,te,Be,[],[],ht,Ct,In,k);Bt.forEach(Nc=>{const Lc=Nc.element,Jn=Pa(ht,Lc,new Set);Nc.preStyleProps.forEach(Zn=>Jn.add(Zn));const Na=Pa(Ct,Lc,new Set);Nc.postStyleProps.forEach(Zn=>Na.add(Zn)),Lc!==e&&Ze.add(Lc)});const Is=_T(Ze.values());return g5(e,this._triggerName,i,r,bt,te,Be,Bt,Is,ht,Ct,In)}}function kne(n,t){const e=BC(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class One{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=BC(this.defaultParams);return Object.keys(t).forEach(l=>{const d=t[l];null!==d&&(r[l]=d)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{d&&(d=UC(d,r,e));const v=this.normalizer.normalizePropertyName(p,e);d=this.normalizer.normalizeStyleValue(p,v,d,e),i.set(v,d)})}),i}}class Fne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new One(r.style,r.options&&r.options.params||{},i))}),y5(this.states,"true","1"),y5(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new m5(t,r,this.states))}),this.fallbackTransition=function Nne(n,t,e){return new m5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(d=>d.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function y5(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Lne=new xT;class Bne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],l=FL(this._driver,e,i,[]);if(i.length)throw function Bte(n){return new s.vHH(3503,!1)}();this._animations.set(t,l)}_buildPlayer(t,e,i){const r=t.element,l=Z4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations.get(t);let d;const p=new Map;if(l?(d=BL(this._driver,e,l,ML,pT,new Map,new Map,i,Lne,r),d.forEach(M=>{const k=Pa(p,M.element,new Map);M.postStyleProps.forEach(z=>k.set(z,null))})):(r.push(function Vte(){return new s.vHH(3300,!1)}()),d=[]),r.length)throw function Ute(n){return new s.vHH(3504,!1)}();p.forEach((M,k)=>{M.forEach((z,W)=>{M.set(W,this._driver.computeStyle(k,W,Dc))})});const E=Nf(d.map(M=>{const k=p.get(M.element);return this._buildPlayer(M,new Map,k)}));return this._playersById.set(t,E),E.onDestroy(()=>this.destroy(t)),this.players.push(E),E}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function jte(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const l=IL(e,"","","");return xL(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _5="ng-animate-queued",GL="ng-animate-disabled",Hne=[],v5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$ne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vl="__ng_removed";class HL{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Zne(n){return n??null}(i?t.value:t),i){const l=BC(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const jC="void",$L=new HL(jC);class zne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ul(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Gte(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Hte(n){return new s.vHH(3303,!1)}();if(!function Yne(n){return"start"==n||"done"==n}(i))throw function $te(n,t){return new s.vHH(3400,!1)}();const l=Pa(this._elementListeners,t,[]),d={name:e,phase:i,callback:r};l.push(d);const p=Pa(this._engine.statesByElement,t,new Map);return p.has(e)||(Ul(t,gT),Ul(t,gT+"-"+e),p.set(e,$L)),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(d);v>=0&&l.splice(v,1),this._triggers.has(e)||p.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function zte(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),d=new zL(this.id,e,t);let p=this._engine.statesByElement.get(t);p||(Ul(t,gT),Ul(t,gT+"-"+e),this._engine.statesByElement.set(t,p=new Map));let v=p.get(e);const E=new HL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&v&&E.absorbOptions(v.options),p.set(e,E),v||(v=$L),E.value!==jC&&v.value===E.value){if(!function Jne(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(v.params,E.params)){const Ee=[],Be=l.matchStyles(v.value,v.params,Ee),Ze=l.matchStyles(E.value,E.params,Ee);Ee.length?this._engine.reportError(Ee):this._engine.afterFlush(()=>{cm(t,Be),Bu(t,Ze)})}return}const z=Pa(this._engine.playersByElement,t,[]);z.forEach(Ee=>{Ee.namespaceId==this.id&&Ee.triggerName==e&&Ee.queued&&Ee.destroy()});let W=l.matchTransition(v.value,E.value,t,E.params),te=!1;if(!W){if(!r)return;W=l.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:W,fromState:v,toState:E,player:d,isFallbackTransition:te}),te||(Ul(t,_5),d.onStart(()=>{nv(t,_5)})),d.onDone(()=>{let Ee=this.players.indexOf(d);Ee>=0&&this.players.splice(Ee,1);const Be=this._engine.playersByElement.get(t);if(Be){let Ze=Be.indexOf(d);Ze>=0&&Be.splice(Ze,1)}}),this.players.push(d),z.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,mT,!0);i.forEach(r=>{if(r[Vl])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),d=new Map;if(l){const p=[];if(l.forEach((v,E)=>{if(d.set(E,v.value),this._triggers.has(E)){const M=this.trigger(t,E,jC,r);M&&p.push(M)}}),p.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),i&&Nf(p).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const d=l.name;if(r.has(d))return;r.add(d);const v=this._triggers.get(d).fallbackTransition,E=i.get(d)||$L,M=new HL(jC),k=new zL(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:v,fromState:E,toState:M,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let d=t;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[Vl];(!l||l===v5)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ul(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,d=this._elementListeners.get(l);d&&d.forEach(p=>{if(p.name==i.triggerName){const v=IL(l,i.triggerName,i.fromState.value,i.toState.value);v._data=t,xL(i.player,p.phase,v,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class qne{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new zne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,p=this.driver.getParentElement(e);for(;p;){const v=r.get(p);if(v){const E=i.indexOf(v);i.splice(E+1,0,t),d=!0;break}p=this.driver.getParentElement(p)}d||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const l=this._fetchNamespace(r.namespaceId);l&&e.add(l)}return e}trigger(t,e,i,r){if(AT(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!AT(e))return;const l=e[Vl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ul(t,GL)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nv(t,GL))}removeNode(t,e,i,r){if(AT(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[Vl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return AT(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,mT,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,RL,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Nf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Vl];if(e&&e.setForRemoval){if(t[Vl]=v5,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(GL)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ul(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Nf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function qte(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new xT,r=[],l=new Map,d=[],p=new Map,v=new Map,E=new Map,M=new Set;this.disabledNodes.forEach(rt=>{M.add(rt);const Dt=this.driver.query(rt,".ng-animate-queued",!0);for(let Yt=0;Yt<Dt.length;Yt++)M.add(Dt[Yt])});const k=this.bodyNode,z=Array.from(this.statesByElement.keys()),W=C5(z,this.collectedEnterElements),te=new Map;let Ee=0;W.forEach((rt,Dt)=>{const Yt=ML+Ee++;te.set(Dt,Yt),rt.forEach(kn=>Ul(kn,Yt))});const Be=[],Ze=new Set,ht=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const Dt=this.collectedLeaveElements[rt],Yt=Dt[Vl];Yt&&Yt.setForRemoval&&(Be.push(Dt),Ze.add(Dt),Yt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(kn=>Ze.add(kn)):ht.add(Dt))}const Ct=new Map,bt=C5(z,Array.from(Ze));bt.forEach((rt,Dt)=>{const Yt=pT+Ee++;Ct.set(Dt,Yt),rt.forEach(kn=>Ul(kn,Yt))}),t.push(()=>{W.forEach((rt,Dt)=>{const Yt=te.get(Dt);rt.forEach(kn=>nv(kn,Yt))}),bt.forEach((rt,Dt)=>{const Yt=Ct.get(Dt);rt.forEach(kn=>nv(kn,Yt))}),Be.forEach(rt=>{this.processLeaveNode(rt)})});const Ft=[],Bt=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(e).forEach(Yt=>{const kn=Yt.player,_i=Yt.element;if(Ft.push(kn),this.collectedEnterElements.length){const hi=_i[Vl];if(hi&&hi.setForMove){if(hi.previousTriggersValues&&hi.previousTriggersValues.has(Yt.triggerName)){const ju=hi.previousTriggersValues.get(Yt.triggerName),js=this.statesByElement.get(Yt.element);if(js&&js.has(Yt.triggerName)){const iv=js.get(Yt.triggerName);iv.value=ju,js.set(Yt.triggerName,iv)}}return void kn.destroy()}}const La=!k||!this.driver.containsElement(k,_i),os=Ct.get(_i),Uu=te.get(_i),$i=this._buildInstruction(Yt,i,Uu,os,La);if($i.errors&&$i.errors.length)return void Bt.push($i);if(La)return kn.onStart(()=>cm(_i,$i.fromStyles)),kn.onDestroy(()=>Bu(_i,$i.toStyles)),void r.push(kn);if(Yt.isFallbackTransition)return kn.onStart(()=>cm(_i,$i.fromStyles)),kn.onDestroy(()=>Bu(_i,$i.toStyles)),void r.push(kn);const RT=[];$i.timelines.forEach(hi=>{hi.stretchStartingKeyframe=!0,this.disabledNodes.has(hi.element)||RT.push(hi)}),$i.timelines=RT,i.append(_i,$i.timelines),d.push({instruction:$i,player:kn,element:_i}),$i.queriedElements.forEach(hi=>Pa(p,hi,[]).push(kn)),$i.preStyleProps.forEach((hi,ju)=>{if(hi.size){let js=v.get(ju);js||v.set(ju,js=new Set),hi.forEach((iv,GC)=>js.add(GC))}}),$i.postStyleProps.forEach((hi,ju)=>{let js=E.get(ju);js||E.set(ju,js=new Set),hi.forEach((iv,GC)=>js.add(GC))})});if(Bt.length){const rt=[];Bt.forEach(Dt=>{rt.push(function Wte(n,t){return new s.vHH(3505,!1)}())}),Ft.forEach(Dt=>Dt.destroy()),this.reportError(rt)}const In=new Map,Is=new Map;d.forEach(rt=>{const Dt=rt.element;i.has(Dt)&&(Is.set(Dt,Dt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,In))}),r.forEach(rt=>{const Dt=rt.element;this._getPreviousPlayers(Dt,!1,rt.namespaceId,rt.triggerName,null).forEach(kn=>{Pa(In,Dt,[]).push(kn),kn.destroy()})});const Nc=Be.filter(rt=>x5(rt,v,E)),Lc=new Map;w5(Lc,this.driver,ht,E,Dc).forEach(rt=>{x5(rt,v,E)&&Nc.push(rt)});const Na=new Map;W.forEach((rt,Dt)=>{w5(Na,this.driver,new Set(rt),v,"!")}),Nc.forEach(rt=>{const Dt=Lc.get(rt),Yt=Na.get(rt);Lc.set(rt,new Map([...Array.from(Dt?.entries()??[]),...Array.from(Yt?.entries()??[])]))});const Zn=[],Vu=[],Si={};d.forEach(rt=>{const{element:Dt,player:Yt,instruction:kn}=rt;if(i.has(Dt)){if(M.has(Dt))return Yt.onDestroy(()=>Bu(Dt,kn.toStyles)),Yt.disabled=!0,Yt.overrideTotalTime(kn.totalTime),void r.push(Yt);let _i=Si;if(Is.size>1){let os=Dt;const Uu=[];for(;os=os.parentNode;){const $i=Is.get(os);if($i){_i=$i;break}Uu.push(os)}Uu.forEach($i=>Is.set($i,_i))}const La=this._buildAnimation(Yt.namespaceId,kn,In,l,Na,Lc);if(Yt.setRealPlayer(La),_i===Si)Zn.push(Yt);else{const os=this.playersByElement.get(_i);os&&os.length&&(Yt.parentPlayer=Nf(os)),r.push(Yt)}}else cm(Dt,kn.fromStyles),Yt.onDestroy(()=>Bu(Dt,kn.toStyles)),Vu.push(Yt),M.has(Dt)&&r.push(Yt)}),Vu.forEach(rt=>{const Dt=l.get(rt.element);if(Dt&&Dt.length){const Yt=Nf(Dt);rt.setRealPlayer(Yt)}}),r.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<Be.length;rt++){const Dt=Be[rt],Yt=Dt[Vl];if(nv(Dt,pT),Yt&&Yt.hasAnimation)continue;let kn=[];if(p.size){let La=p.get(Dt);La&&La.length&&kn.push(...La);let os=this.driver.query(Dt,RL,!0);for(let Uu=0;Uu<os.length;Uu++){let $i=p.get(os[Uu]);$i&&$i.length&&kn.push(...$i)}}const _i=kn.filter(La=>!La.destroyed);_i.length?Kne(this,Dt,_i):this.processLeaveNode(Dt)}return Be.length=0,Zn.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const Dt=this.players.indexOf(rt);this.players.splice(Dt,1)}),rt.play()}),Zn}elementContainsData(t,e){let i=!1;const r=e[Vl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let d=[];if(e){const p=this.playersByQueriedElement.get(t);p&&(d=p)}else{const p=this.playersByElement.get(t);if(p){const v=!l||l==jC;p.forEach(E=>{E.queued||!v&&E.triggerName!=r||d.push(E)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(t,e,i){const l=e.element,d=e.isRemovalTransition?void 0:t,p=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const E=v.element,M=E!==l,k=Pa(i,E,[]);this._getPreviousPlayers(E,M,d,p,e.toState).forEach(W=>{const te=W.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),W.destroy(),k.push(W)})}cm(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,d){const p=e.triggerName,v=e.element,E=[],M=new Set,k=new Set,z=e.timelines.map(te=>{const Ee=te.element;M.add(Ee);const Be=Ee[Vl];if(Be&&Be.removedBeforeQueried)return new Wh(te.duration,te.delay);const Ze=Ee!==v,ht=function Qne(n){const t=[];return E5(n,t),t}((i.get(Ee)||Hne).map(In=>In.getRealPlayer())).filter(In=>!!In.element&&In.element===Ee),Ct=l.get(Ee),bt=d.get(Ee),Ft=Z4(0,this._normalizer,0,te.keyframes,Ct,bt),Bt=this._buildPlayer(te,Ft,ht);if(te.subTimeline&&r&&k.add(Ee),Ze){const In=new zL(t,p,Ee);In.setRealPlayer(Bt),E.push(In)}return Bt});E.forEach(te=>{Pa(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function Wne(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,te.element,te))}),M.forEach(te=>Ul(te,r5));const W=Nf(z);return W.onDestroy(()=>{M.forEach(te=>nv(te,r5)),Bu(v,e.toStyles)}),k.forEach(te=>{Pa(r,te,[]).push(W)}),W}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Wh(t.duration,t.delay)}}class zL{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Wh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>xL(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Pa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function AT(n){return n&&1===n.nodeType}function b5(n,t){const e=n.style.display;return n.style.display=t??"none",e}function w5(n,t,e,i,r){const l=[];e.forEach(v=>l.push(b5(v)));const d=[];i.forEach((v,E)=>{const M=new Map;v.forEach(k=>{const z=t.computeStyle(E,k,r);M.set(k,z),(!z||0==z.length)&&(E[Vl]=$ne,d.push(E))}),n.set(E,M)});let p=0;return e.forEach(v=>b5(v,l[p++])),d}function C5(n,t){const e=new Map;if(n.forEach(p=>e.set(p,[])),0==t.length)return e;const r=new Set(t),l=new Map;function d(p){if(!p)return 1;let v=l.get(p);if(v)return v;const E=p.parentNode;return v=e.has(E)?E:r.has(E)?1:d(E),l.set(p,v),v}return t.forEach(p=>{const v=d(p);1!==v&&e.get(v).push(p)}),e}function Ul(n,t){n.classList?.add(t)}function nv(n,t){n.classList?.remove(t)}function Kne(n,t,e){Nf(e).onDone(()=>n.processLeaveNode(t))}function E5(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof pD?E5(i.players,t):t.push(i)}}function x5(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class ST{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new qne(t,e,i),this._timelineEngine=new Bne(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const d=t+"-"+r;let p=this._triggerCache[d];if(!p){const v=[],M=FL(this._driver,l,v,[]);if(v.length)throw function Nte(n,t){return new s.vHH(3404,!1)}();p=function Pne(n,t,e){return new Fne(n,t,e)}(r,M,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(e,r,p)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,d]=Y4(i);this._timelineEngine.command(l,e,d,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[d,p]=Y4(i);return this._timelineEngine.listen(d,e,p,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let eie=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Bu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bu(this._element,this._initialStyles),this._endStyles&&(Bu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cm(this._element,this._endStyles),this._endStyles=null),Bu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qL(n){let t=null;return n.forEach((e,i)=>{(function tie(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class D5{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:u5(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nie{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return X4(t,e)}getParentElement(t){return SL(t)}query(t,e,i){return e5(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,d=[]){const v={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(v.easing=l);const E=new Map,M=d.filter(W=>W instanceof D5);(function one(n,t){return 0===n||0===t})(i,r)&&M.forEach(W=>{W.currentSnapshot.forEach((te,Ee)=>E.set(Ee,te))});let k=function nne(n){return n.length?n[0]instanceof Map?n:n.map(t=>s5(t)):[]}(e).map(W=>Lf(W));k=function ane(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((l,d)=>{i.has(d)||r.push(d),i.set(d,l)}),r.length)for(let l=1;l<t.length;l++){let d=t[l];r.forEach(p=>d.set(p,u5(n,p)))}}return t}(t,k,E);const z=function Xne(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=qL(t[0]),t.length>1&&(i=qL(t[t.length-1]))):t instanceof Map&&(e=qL(t)),e||i?new eie(n,e,i):null}(t,k);return new D5(t,k,v,z)}}let iie=(()=>{class n extends Vb{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?jb(e):e;return I5(this._renderer,null,i,"register",[r]),new rie(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(Z))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class rie extends class DR{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sie(this._id,t,e||{},this._renderer)}}class sie{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return I5(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I5(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const A5="@.disabled";let oie=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,d)=>{const p=d?.parentNode(l);p&&d.removeChild(p,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(l);return M||(M=new S5("",l,this.engine),this._rendererCache.set(l,M)),M}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,e);const v=M=>{Array.isArray(M)?M.forEach(v):this.engine.registerTrigger(d,p,e,M.name,M)};return i.data.animation.forEach(v),new aie(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,p]=l;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(ST),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class S5{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==A5?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class aie extends S5{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==A5?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lie(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.slice(1),d="";return"@"!=l.charAt(0)&&([l,d]=function cie(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(t,e,i)}}let uie=(()=>{class n extends ST{constructor(e,i,r,l){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Z),s.LFG(TL),s.LFG(UL),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const T5=[{provide:Vb,useClass:iie},{provide:UL,useFactory:function die(){return new Mne}},{provide:ST,useClass:uie},{provide:s.FYo,useFactory:function hie(n,t,e){return new oie(n,t,e)},deps:[oc,ST,s.R0b]}],WL=[{provide:TL,useFactory:()=>new nie},{provide:s.QbO,useValue:"BrowserAnimations"},...T5],M5=[{provide:TL,useClass:t5},{provide:s.QbO,useValue:"NoopAnimations"},...T5];let fie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?M5:WL}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:WL,imports:[pa]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mL,du]}),n})(),G5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[mL]}),n})(),Bse=(()=>{class n{constructor(e,i){hs(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Fc,useValue:{...yL,...e}},{provide:_L,useValue:i,multi:!0},{provide:X_,useValue:!0}]:[{provide:Fc,useValue:{...yL,...e}},{provide:_L,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(X_),s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[P5,k4,G5,P5,k4,G5]}),n})(),Vse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[QO]}),n.\u0275inj=s.cJS({providers:[{provide:MR,useValue:{hasBackdrop:!0}}],imports:[pa,y9,pte,Sy,LR,kD,NJ,PR,KQ,tk,AJ,Ree,kJ,KJ,Aa.hO.initializeApp(zp_firebase),BQ,JJ,fie,Bse,_9]}),n})();(0,s.G48)(),uc().bootstrapModule(Vse).catch(n=>console.error(n))},4159:(we,H,N)=>{var s;!function(){var L=window.CustomEvent;function G(ne){for(;ne;){if("dialog"===ne.localName)return ne;ne=ne.parentElement}return null}function $(ne){ne&&ne.blur&&ne!==document.body&&ne.blur()}function K(ne,ee){for(var re=0;re<ne.length;++re)if(ne[re]===ee)return!0;return!1}function Z(ne){return!(!ne||!ne.hasAttribute("method"))&&"dialog"===ne.getAttribute("method").toLowerCase()}function X(ne){if(this.dialog_=ne,this.replacedStyleTop_=!1,this.openAsModal_=!1,ne.hasAttribute("role")||ne.setAttribute("role","dialog"),ne.show=this.show.bind(this),ne.showModal=this.showModal.bind(this),ne.close=this.close.bind(this),"returnValue"in ne||(ne.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(ne,{attributes:!0,attributeFilter:["open"]});else{var Ve,re=!1,ke=function(){re?this.downgradeModal():this.maybeHideModal(),re=!1}.bind(this),Ne=function(Le){if(Le.target===ne){var De="DOMNodeRemoved";re|=Le.type.substr(0,De.length)===De,window.clearTimeout(Ve),Ve=window.setTimeout(ke,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(Le){ne.addEventListener(Le,Ne)})}Object.defineProperty(ne,"open",{set:this.setOpen.bind(this),get:ne.hasAttribute.bind(ne,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}(!L||"object"==typeof L)&&((L=function(ee,re){re=re||{};var ke=document.createEvent("CustomEvent");return ke.initCustomEvent(ee,!!re.bubbles,!!re.cancelable,re.detail||null),ke}).prototype=window.Event.prototype),X.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){!this.openAsModal_||(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),oe.dm.removeDialog(this))},setOpen:function(ne){ne?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(ne){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var ee=document.createElement("div");this.dialog_.insertBefore(ee,this.dialog_.firstChild),ee.tabIndex=-1,ee.focus(),this.dialog_.removeChild(ee)}var re=document.createEvent("MouseEvents");re.initMouseEvent(ne.type,ne.bubbles,ne.cancelable,window,ne.detail,ne.screenX,ne.screenY,ne.clientX,ne.clientY,ne.ctrlKey,ne.altKey,ne.shiftKey,ne.metaKey,ne.button,ne.relatedTarget),this.dialog_.dispatchEvent(re),ne.stopPropagation()},focus_:function(){var ne=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!ne&&this.dialog_.tabIndex>=0&&(ne=this.dialog_),!ne){var re=["button","input","keygen","select","textarea"].map(function(ke){return ke+":not([disabled])"});re.push('[tabindex]:not([disabled]):not([tabindex=""])'),ne=this.dialog_.querySelector(re.join(", "))}$(document.activeElement),ne&&ne.focus()},updateZIndex:function(ne,ee){if(ne<ee)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=ne,this.backdrop_.style.zIndex=ee},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!oe.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function O(ne){for(;ne&&ne!==document.body;){var ee=window.getComputedStyle(ne),re=function(ke,Ve){return!(void 0===ee[ke]||ee[ke]===Ve)};if(ee.opacity<1||re("zIndex","auto")||re("transform","none")||re("mixBlendMode","normal")||re("filter","none")||re("perspective","none")||"isolate"===ee.isolation||"fixed"===ee.position||"touch"===ee.webkitOverflowScrolling)return!0;ne=ne.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,oe.needsCentering(this.dialog_)?(oe.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(ne){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==ne&&(this.dialog_.returnValue=ne);var ee=new L("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(ee)}};var oe={reposition:function(ne){var ee=document.body.scrollTop||document.documentElement.scrollTop,re=ee+(window.innerHeight-ne.offsetHeight)/2;ne.style.top=Math.max(ee,re)+"px"},isInlinePositionSetByStylesheet:function(ne){for(var ee=0;ee<document.styleSheets.length;++ee){var re=document.styleSheets[ee],ke=null;try{ke=re.cssRules}catch{}if(ke)for(var Ve=0;Ve<ke.length;++Ve){var Ne=ke[Ve],Le=null;try{Le=document.querySelectorAll(Ne.selectorText)}catch{}if(Le&&K(Le,ne)){var De=Ne.style.getPropertyValue("top"),Ge=Ne.style.getPropertyValue("bottom");if(De&&"auto"!==De||Ge&&"auto"!==Ge)return!0}}}return!1},needsCentering:function(ne){return!("absolute"!==window.getComputedStyle(ne).position||"auto"!==ne.style.top&&""!==ne.style.top||"auto"!==ne.style.bottom&&""!==ne.style.bottom||oe.isInlinePositionSetByStylesheet(ne))},forceRegisterDialog:function(ne){if((window.HTMLDialogElement||ne.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",ne),"dialog"!==ne.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new X(ne)},registerDialog:function(ne){ne.showModal||oe.forceRegisterDialog(ne)},DialogManager:function(){this.pendingDialogStack=[];var ne=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(ee){this.forwardTab_=void 0,ee.stopPropagation(),ne([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(ee){var re=[];ee.forEach(function(ke){for(var Ne,Ve=0;Ne=ke.removedNodes[Ve];++Ve)Ne instanceof Element&&("dialog"===Ne.localName&&re.push(Ne),re=re.concat(Ne.querySelectorAll("dialog")))}),re.length&&ne(re)}))}};if(oe.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},oe.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},oe.DialogManager.prototype.updateStacking=function(){for(var re,ne=this.zIndexHigh_,ee=0;re=this.pendingDialogStack[ee];++ee)re.updateZIndex(--ne,--ne),0===ee&&(this.overlay.style.zIndex=--ne);var ke=this.pendingDialogStack[0];ke?(ke.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},oe.DialogManager.prototype.containedByTopDialog_=function(ne){for(;ne=G(ne);){for(var re,ee=0;re=this.pendingDialogStack[ee];++ee)if(re.dialog===ne)return 0===ee;ne=ne.parentElement}return!1},oe.DialogManager.prototype.handleFocus_=function(ne){if(!this.containedByTopDialog_(ne.target)&&(ne.preventDefault(),ne.stopPropagation(),$(ne.target),void 0!==this.forwardTab_)){var ee=this.pendingDialogStack[0];return ee.dialog.compareDocumentPosition(ne.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?ee.focus_():document.documentElement.focus()),!1}},oe.DialogManager.prototype.handleKey_=function(ne){if(this.forwardTab_=void 0,27===ne.keyCode){ne.preventDefault(),ne.stopPropagation();var ee=new L("cancel",{bubbles:!1,cancelable:!0}),re=this.pendingDialogStack[0];re&&re.dialog.dispatchEvent(ee)&&re.dialog.close()}else 9===ne.keyCode&&(this.forwardTab_=!ne.shiftKey)},oe.DialogManager.prototype.checkDOM_=function(ne){this.pendingDialogStack.slice().forEach(function(re){-1!==ne.indexOf(re.dialog)?re.downgradeModal():re.maybeHideModal()})},oe.DialogManager.prototype.pushDialog=function(ne){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(ne)&&this.blockDocument(),this.updateStacking(),0))},oe.DialogManager.prototype.removeDialog=function(ne){var ee=this.pendingDialogStack.indexOf(ne);-1!==ee&&(this.pendingDialogStack.splice(ee,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},oe.dm=new oe.DialogManager,oe.formSubmitter=null,oe.useValue=null,void 0===window.HTMLDialogElement){var Q=document.createElement("form");if(Q.setAttribute("method","dialog"),"dialog"!==Q.method){var J=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(J){var se=J.get;J.get=function(){return Z(this)?"dialog":se.call(this)};var Oe=J.set;J.set=function(ne){return"string"==typeof ne&&"dialog"===ne.toLowerCase()?this.setAttribute("method",ne):Oe.call(this,ne)},Object.defineProperty(HTMLFormElement.prototype,"method",J)}}document.addEventListener("click",function(ne){if(oe.formSubmitter=null,oe.useValue=null,!ne.defaultPrevented){var ee=ne.target;if(ee&&Z(ee.form)){if(!("submit"===ee.type&&["button","input"].indexOf(ee.localName)>-1)){if("input"!==ee.localName||"image"!==ee.type)return;oe.useValue=ne.offsetX+","+ne.offsetY}!G(ee)||(oe.formSubmitter=ee)}}},!1);var me=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!Z(this))return me.call(this);var ne=G(this);ne&&ne.close()},document.addEventListener("submit",function(ne){var ee=ne.target;if(Z(ee)){ne.preventDefault();var re=G(ee);if(re){var ke=oe.formSubmitter;ke&&ke.form===ee?re.close(oe.useValue||ke.value):re.close(),oe.formSubmitter=null}}},!0)}oe.forceRegisterDialog=oe.forceRegisterDialog,oe.registerDialog=oe.registerDialog,"amd"in N.amdD?void 0!==(s=function(){return oe}.call(H,N,H,we))&&(we.exports=s):"object"==typeof we.exports?we.exports=oe:window.dialogPolyfill=oe}()},4901:we=>{"use strict";var H={single_source_shortest_paths:function(N,s,L){var O={},G={};G[s]=0;var K,Z,X,oe,Q,se,$=H.PriorityQueue.make();for($.push(s,0);!$.empty();)for(X in oe=(K=$.pop()).cost,Q=N[Z=K.value]||{})Q.hasOwnProperty(X)&&(se=oe+Q[X],(typeof G[X]>"u"||G[X]>se)&&(G[X]=se,$.push(X,se),O[X]=Z));if(typeof L<"u"&&typeof G[L]>"u"){var xe=["Could not find a path from ",s," to ",L,"."].join("");throw new Error(xe)}return O},extract_shortest_path_from_predecessor_list:function(N,s){for(var L=[],O=s;O;)L.push(O),O=N[O];return L.reverse(),L},find_path:function(N,s,L){var O=H.single_source_shortest_paths(N,s,L);return H.extract_shortest_path_from_predecessor_list(O,L)},PriorityQueue:{make:function(N){var O,s=H.PriorityQueue,L={};for(O in N=N||{},s)s.hasOwnProperty(O)&&(L[O]=s[O]);return L.queue=[],L.sorter=N.sorter||s.default_sorter,L},default_sorter:function(N,s){return N.cost-s.cost},push:function(N,s){this.queue.push({value:N,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};we.exports=H},8419:we=>{"use strict";we.exports=function(N){for(var s=[],L=N.length,O=0;O<L;O++){var G=N.charCodeAt(O);if(G>=55296&&G<=56319&&L>O+1){var $=N.charCodeAt(O+1);$>=56320&&$<=57343&&(G=1024*(G-55296)+$-56320+65536,O+=1)}G<128?s.push(G):G<2048?(s.push(G>>6|192),s.push(63&G|128)):G<55296||G>=57344&&G<65536?(s.push(G>>12|224),s.push(G>>6&63|128),s.push(63&G|128)):G>=65536&&G<=1114111?(s.push(G>>18|240),s.push(G>>12&63|128),s.push(G>>6&63|128),s.push(63&G|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}},5867:(we,H,N)=>{"use strict";N.d(H,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=N(9681);(0,s.registerVersion)("firebase","9.10.0","app")},127:(we,H,N)=>{"use strict";N.d(H,{Z:()=>s.Z});var s=N(3942);s.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(we,H,N)=>{"use strict";N.r(H);var s=N(5861),L=N(3942),O=N(7143),G=N(2090),Z=(N(9681),N(1877),N(4859));function X(){return window}function J(){return(J=(0,s.Z)(function*(Te,ue,fe){var He;const{BuildInfo:dt}=X();(0,O.aq)(ue.sessionId,"AuthEvent did not contain a session ID");const Ot=yield re(ue.sessionId),Ht={};return(0,O.ar)()?Ht.ibi=dt.packageName:(0,O.as)()?Ht.apn=dt.packageName:(0,O.at)(Te,"operation-not-supported-in-this-environment"),dt.displayName&&(Ht.appDisplayName=dt.displayName),Ht.sessionId=Ot,(0,O.au)(Te,fe,ue.type,void 0,null!==(He=ue.eventId)&&void 0!==He?He:void 0,Ht)})).apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(Te){const{BuildInfo:ue}=X(),fe={};(0,O.ar)()?fe.iosBundleId=ue.packageName:(0,O.as)()?fe.androidPackageName=ue.packageName:(0,O.at)(Te,"operation-not-supported-in-this-environment"),yield(0,O.av)(Te,fe)})).apply(this,arguments)}function ne(){return(ne=(0,s.Z)(function*(Te,ue,fe){const{cordova:He}=X();let dt=()=>{};try{yield new Promise((Ot,Ht)=>{let Xe=null;function vt(){var sn;Ot();const Hn=null===(sn=He.plugins.browsertab)||void 0===sn?void 0:sn.close;"function"==typeof Hn&&Hn(),"function"==typeof fe?.close&&fe.close()}function _n(){Xe||(Xe=window.setTimeout(()=>{Ht((0,O.aw)(Te,"redirect-cancelled-by-user"))},2e3))}function li(){"visible"===document?.visibilityState&&_n()}ue.addPassiveListener(vt),document.addEventListener("resume",_n,!1),(0,O.as)()&&document.addEventListener("visibilitychange",li,!1),dt=()=>{ue.removePassiveListener(vt),document.removeEventListener("resume",_n,!1),document.removeEventListener("visibilitychange",li,!1),Xe&&window.clearTimeout(Xe)}})}finally{dt()}})).apply(this,arguments)}function re(Te){return ke.apply(this,arguments)}function ke(){return(ke=(0,s.Z)(function*(Te){const ue=Ve(Te),fe=yield crypto.subtle.digest("SHA-256",ue);return Array.from(new Uint8Array(fe)).map(dt=>dt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(Te){if((0,O.aq)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Te);const ue=new ArrayBuffer(Te.length),fe=new Uint8Array(ue);for(let He=0;He<Te.length;He++)fe[He]=Te.charCodeAt(He);return fe}class Le extends O.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ue=>{this.resolveInialized=ue})}addPassiveListener(ue){this.passiveListeners.add(ue)}removePassiveListener(ue){this.passiveListeners.delete(ue)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ue){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(ue)),super.onEvent(ue)}initialized(){var ue=this;return(0,s.Z)(function*(){yield ue.initPromise})()}}function ge(Te){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(Te){const ue=yield de()._get(Ae(Te));return ue&&(yield de()._remove(Ae(Te))),ue})).apply(this,arguments)}function ce(){const Te=[],ue="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<20;fe++){const He=Math.floor(Math.random()*ue.length);Te.push(ue.charAt(He))}return Te.join("")}function de(){return(0,O.ay)(O.b)}function Ae(Te){return(0,O.az)("authEvent",Te.config.apiKey,Te.name)}function tt(Te){if(!Te?.includes("?"))return{};const[ue,...fe]=Te.split("?");return(0,G.zd)(fe.join("?"))}function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aw)("no-auth-event")}}function rn(){var Te;return(null===(Te=self?.location)||void 0===Te?void 0:Te.protocol)||null}function Kn(Te=(0,G.z$)()){return!("file:"!==rn()&&"ionic:"!==rn()&&"capacitor:"!==rn()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hs(){try{const Te=self.localStorage,ue=O.aI();if(Te)return Te.setItem(ue,"1"),Te.removeItem(ue),!function so(Te=(0,G.z$)()){return function ai(){return(0,G.w1)()&&11===document?.documentMode}()||function qn(Te=(0,G.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,G.hl)()}catch{return Kr()&&(0,G.hl)()}return!1}function Kr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vi(){return(function Xt(){return"http:"===rn()||"https:"===rn()}()||(0,G.ru)()||Kn())&&!function cr(){return(0,G.b$)()||(0,G.UG)()}()&&Hs()&&!Kr()}function $s(){return Kn()&&typeof document<"u"}function yt(){return(yt=(0,s.Z)(function*(){return!!$s()&&new Promise(Te=>{const ue=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ue),Te(!0)})})})).apply(this,arguments)}const bi={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=O.ax,ur="persistence";function Xn(Te){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(Te){yield Te._initializationPromise;const ue=Mt(),fe=O.az(ur,Te.config.apiKey,Te.name);ue&&ue.setItem(fe,Te._getPersistence())})).apply(this,arguments)}function Mt(){var Te;try{return(null===(Te=function nr(){return typeof window<"u"?window:null}())||void 0===Te?void 0:Te.sessionStorage)||null}catch{return null}}const Rt=O.ax;class en{constructor(){this.browserResolver=O.ay(O.k),this.cordovaResolver=O.ay(class yn{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(ue){var fe=this;return(0,s.Z)(function*(){const He=ue._key();let dt=fe.eventManagers.get(He);return dt||(dt=new Le(ue),fe.eventManagers.set(He,dt),fe.attachCallbackListeners(ue,dt)),dt})()}_openPopup(ue){(0,O.at)(ue,"operation-not-supported-in-this-environment")}_openRedirect(ue,fe,He,dt){var Ot=this;return(0,s.Z)(function*(){!function ee(Te){var ue,fe,He,dt,Ot,Ht,Xe,vt,_n,li;const sn=X();(0,O.ax)("function"==typeof(null===(ue=sn?.universalLinks)||void 0===ue?void 0:ue.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.ax)(typeof(null===(fe=sn?.BuildInfo)||void 0===fe?void 0:fe.packageName)<"u",Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.ax)("function"==typeof(null===(Ot=null===(dt=null===(He=sn?.cordova)||void 0===He?void 0:He.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Ot?void 0:Ot.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(vt=null===(Xe=null===(Ht=sn?.cordova)||void 0===Ht?void 0:Ht.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===vt?void 0:vt.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.ax)("function"==typeof(null===(li=null===(_n=sn?.cordova)||void 0===_n?void 0:_n.InAppBrowser)||void 0===li?void 0:li.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ue);const Ht=yield Ot._initialize(ue);yield Ht.initialized(),Ht.resetRedirect(),(0,O.aD)(),yield Ot._originValidation(ue);const Xe=function De(Te,ue,fe=null){return{type:ue,eventId:fe,urlResponse:null,sessionId:ce(),postBody:null,tenantId:Te.tenantId,error:(0,O.aw)(Te,"no-auth-event")}}(ue,He,dt);yield function Ge(Te,ue){return de()._set(Ae(Te),ue)}(ue,Xe);const vt=yield function Q(Te,ue,fe){return J.apply(this,arguments)}(ue,Xe,fe),_n=yield function me(Te){const{cordova:ue}=X();return new Promise(fe=>{ue.plugins.browsertab.isAvailable(He=>{let dt=null;He?ue.plugins.browsertab.openUrl(Te):dt=ue.InAppBrowser.open(Te,(0,O.ap)()?"_blank":"_system","location=yes"),fe(dt)})})}(vt);return function xe(Te,ue,fe){return ne.apply(this,arguments)}(ue,Ht,_n)})()}_isIframeWebStorageSupported(ue,fe){throw new Error("Method not implemented.")}_originValidation(ue){const fe=ue._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function se(Te){return Oe.apply(this,arguments)}(ue)),this.originValidationPromises[fe]}attachCallbackListeners(ue,fe){const{universalLinks:He,handleOpenURL:dt,BuildInfo:Ot}=X(),Ht=setTimeout((0,s.Z)(function*(){yield ge(ue),fe.onEvent(ut())}),500),Xe=function(){var li=(0,s.Z)(function*(sn){clearTimeout(Ht);const Hn=yield ge(ue);let ao=null;Hn&&sn?.url&&(ao=function Se(Te,ue){var fe,He;const dt=function Qe(Te){const ue=tt(Te),fe=ue.link?decodeURIComponent(ue.link):void 0,He=tt(fe).link,dt=ue.deep_link_id?decodeURIComponent(ue.deep_link_id):void 0;return tt(dt).link||dt||He||fe||Te}(ue);if(dt.includes("/__/auth/callback")){const Ot=tt(dt),Ht=Ot.firebaseError?function Ce(Te){try{return JSON.parse(Te)}catch{return null}}(decodeURIComponent(Ot.firebaseError)):null,Xe=null===(He=null===(fe=Ht?.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===He?void 0:He[1],vt=Xe?(0,O.aw)(Xe):null;return vt?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:vt,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:dt,postBody:null}}return null}(Hn,sn.url)),fe.onEvent(ao||ut())});return function(Hn){return li.apply(this,arguments)}}();typeof He<"u"&&"function"==typeof He.subscribe&&He.subscribe(null,Xe);const vt=dt,_n=`${Ot.packageName.toLowerCase()}://`;X().handleOpenURL=function(){var li=(0,s.Z)(function*(sn){if(sn.toLowerCase().startsWith(_n)&&Xe({url:sn}),"function"==typeof vt)try{vt(sn)}catch(Hn){console.error(Hn)}});return function(sn){return li.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aB,this._overrideRedirectResult=O.aC}_initialize(ue){var fe=this;return(0,s.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(ue)})()}_openPopup(ue,fe,He,dt){var Ot=this;return(0,s.Z)(function*(){return yield Ot.selectUnderlyingResolver(),Ot.assertedUnderlyingResolver._openPopup(ue,fe,He,dt)})()}_openRedirect(ue,fe,He,dt){var Ot=this;return(0,s.Z)(function*(){return yield Ot.selectUnderlyingResolver(),Ot.assertedUnderlyingResolver._openRedirect(ue,fe,He,dt)})()}_isIframeWebStorageSupported(ue,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ue,fe)}_originValidation(ue){return this.assertedUnderlyingResolver._originValidation(ue)}get _shouldInitProactively(){return $s()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ue=this;return(0,s.Z)(function*(){if(ue.underlyingResolver)return;const fe=yield function zs(){return yt.apply(this,arguments)}();ue.underlyingResolver=fe?ue.cordovaResolver:ue.browserResolver})()}}function Fr(Te){return Te.unwrap()}function dr(Te){return Ar(Te)}function Ar(Te){const{_tokenResponse:ue}=Te instanceof G.ZR?Te.customData:Te;if(!ue)return null;if(!(Te instanceof G.ZR)&&"temporaryProof"in ue&&"phoneNumber"in ue)return O.P.credentialFromResult(Te);const fe=ue.providerId;if(!fe||fe===O.o.PASSWORD)return null;let He;switch(fe){case O.o.GOOGLE:He=O.Q;break;case O.o.FACEBOOK:He=O.N;break;case O.o.GITHUB:He=O.T;break;case O.o.TWITTER:He=O.W;break;default:const{oauthIdToken:dt,oauthAccessToken:Ot,oauthTokenSecret:Ht,pendingToken:Xe,nonce:vt}=ue;return Ot||Ht||dt||Xe?Xe?fe.startsWith("saml.")?O.aL._create(fe,Xe):O.J._fromParams({providerId:fe,signInMethod:fe,pendingToken:Xe,idToken:dt,accessToken:Ot}):new O.U(fe).credential({idToken:dt,accessToken:Ot,rawNonce:vt}):null}return Te instanceof G.ZR?He.credentialFromError(Te):He.credentialFromResult(Te)}function tn(Te,ue){return ue.catch(fe=>{throw fe instanceof G.ZR&&function qt(Te,ue){var fe,He;const dt=null===(fe=ue.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(He=ue)||void 0===He?void 0:He.code))ue.resolver=new be(Te,O.an(Te,ue));else if(dt){const Ot=Ar(ue),Ht=ue;Ot&&(Ht.credential=Ot,Ht.tenantId=dt.tenantId||void 0,Ht.email=dt.email||void 0,Ht.phoneNumber=dt.phoneNumber||void 0)}}(Te,fe),fe}).then(fe=>{const dt=fe.user;return{operationType:fe.operationType,credential:dr(fe),additionalUserInfo:O.al(fe),user:he.getOrCreate(dt)}})}function Qr(Te,ue){return pn.apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(Te,ue){const fe=yield ue;return{verificationId:fe.verificationId,confirm:He=>tn(Te,fe.confirm(He))}})).apply(this,arguments)}class be{constructor(ue,fe){this.resolver=fe,this.auth=function ir(Te){return Te.wrapped()}(ue)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ue){return tn(Fr(this.auth),this.resolver.resolveSignIn(ue))}}class he{constructor(ue){this._delegate=ue,this.multiFactor=O.ao(ue)}static getOrCreate(ue){return he.USER_MAP.has(ue)||he.USER_MAP.set(ue,new he(ue)),he.USER_MAP.get(ue)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ue){return this._delegate.getIdTokenResult(ue)}getIdToken(ue){return this._delegate.getIdToken(ue)}linkAndRetrieveDataWithCredential(ue){return this.linkWithCredential(ue)}linkWithCredential(ue){var fe=this;return(0,s.Z)(function*(){return tn(fe.auth,O.Z(fe._delegate,ue))})()}linkWithPhoneNumber(ue,fe){var He=this;return(0,s.Z)(function*(){return Qr(He.auth,O.l(He._delegate,ue,fe))})()}linkWithPopup(ue){var fe=this;return(0,s.Z)(function*(){return tn(fe.auth,O.d(fe._delegate,ue,en))})()}linkWithRedirect(ue){var fe=this;return(0,s.Z)(function*(){return yield Xn(O.aE(fe.auth)),O.g(fe._delegate,ue,en)})()}reauthenticateAndRetrieveDataWithCredential(ue){return this.reauthenticateWithCredential(ue)}reauthenticateWithCredential(ue){var fe=this;return(0,s.Z)(function*(){return tn(fe.auth,O._(fe._delegate,ue))})()}reauthenticateWithPhoneNumber(ue,fe){return Qr(this.auth,O.r(this._delegate,ue,fe))}reauthenticateWithPopup(ue){return tn(this.auth,O.e(this._delegate,ue,en))}reauthenticateWithRedirect(ue){var fe=this;return(0,s.Z)(function*(){return yield Xn(O.aE(fe.auth)),O.h(fe._delegate,ue,en)})()}sendEmailVerification(ue){return O.ab(this._delegate,ue)}unlink(ue){var fe=this;return(0,s.Z)(function*(){return yield O.ak(fe._delegate,ue),fe})()}updateEmail(ue){return O.ag(this._delegate,ue)}updatePassword(ue){return O.ah(this._delegate,ue)}updatePhoneNumber(ue){return O.u(this._delegate,ue)}updateProfile(ue){return O.af(this._delegate,ue)}verifyBeforeUpdateEmail(ue,fe){return O.ac(this._delegate,ue,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}he.USER_MAP=new WeakMap;const ae=O.ax;let pe=(()=>{class Te{constructor(fe,He){if(this.app=fe,He.isInitialized())return this._delegate=He.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:dt}=fe.options;ae(dt,"invalid-api-key",{appName:fe.name}),ae(dt,"invalid-api-key",{appName:fe.name});const Ot=typeof window<"u"?en:void 0;this._delegate=He.initialize({options:{persistence:We(dt,fe.name),popupRedirectResolver:Ot}}),this._delegate._updateErrorMap(O.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?he.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,He){O.G(this._delegate,fe,He)}applyActionCode(fe){return O.a2(this._delegate,fe)}checkActionCode(fe){return O.a3(this._delegate,fe)}confirmPasswordReset(fe,He){return O.a1(this._delegate,fe,He)}createUserWithEmailAndPassword(fe,He){var dt=this;return(0,s.Z)(function*(){return tn(dt._delegate,O.a5(dt._delegate,fe,He))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return O.aa(this._delegate,fe)}isSignInWithEmailLink(fe){return O.a8(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,s.Z)(function*(){ae(vi(),fe._delegate,"operation-not-supported-in-this-environment");const He=yield O.j(fe._delegate,en);return He?tn(fe._delegate,Promise.resolve(He)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function Sn(Te,ue){(0,O.aE)(Te)._logFramework(ue)}(this._delegate,fe)}onAuthStateChanged(fe,He,dt){const{next:Ot,error:Ht,complete:Xe}=ye(fe,He,dt);return this._delegate.onAuthStateChanged(Ot,Ht,Xe)}onIdTokenChanged(fe,He,dt){const{next:Ot,error:Ht,complete:Xe}=ye(fe,He,dt);return this._delegate.onIdTokenChanged(Ot,Ht,Xe)}sendSignInLinkToEmail(fe,He){return O.a7(this._delegate,fe,He)}sendPasswordResetEmail(fe,He){return O.a0(this._delegate,fe,He||void 0)}setPersistence(fe){var He=this;return(0,s.Z)(function*(){let dt;switch(function oo(Te,ue){Gn(Object.values(bi).includes(ue),Te,"invalid-persistence-type"),(0,G.b$)()?Gn(ue!==bi.SESSION,Te,"unsupported-persistence-type"):(0,G.UG)()?Gn(ue===bi.NONE,Te,"unsupported-persistence-type"):Kr()?Gn(ue===bi.NONE||ue===bi.LOCAL&&(0,G.hl)(),Te,"unsupported-persistence-type"):Gn(ue===bi.NONE||Hs(),Te,"unsupported-persistence-type")}(He._delegate,fe),fe){case bi.SESSION:dt=O.a;break;case bi.LOCAL:dt=(yield O.ay(O.i)._isAvailable())?O.i:O.b;break;case bi.NONE:dt=O.L;break;default:return O.at("argument-error",{appName:He._delegate.name})}return He._delegate.setPersistence(dt)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return tn(this._delegate,O.X(this._delegate))}signInWithCredential(fe){return tn(this._delegate,O.Y(this._delegate,fe))}signInWithCustomToken(fe){return tn(this._delegate,O.$(this._delegate,fe))}signInWithEmailAndPassword(fe,He){return tn(this._delegate,O.a6(this._delegate,fe,He))}signInWithEmailLink(fe,He){return tn(this._delegate,O.a9(this._delegate,fe,He))}signInWithPhoneNumber(fe,He){return Qr(this._delegate,O.s(this._delegate,fe,He))}signInWithPopup(fe){var He=this;return(0,s.Z)(function*(){return ae(vi(),He._delegate,"operation-not-supported-in-this-environment"),tn(He._delegate,O.c(He._delegate,fe,en))})()}signInWithRedirect(fe){var He=this;return(0,s.Z)(function*(){return ae(vi(),He._delegate,"operation-not-supported-in-this-environment"),yield Xn(He._delegate),O.f(He._delegate,fe,en)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return O.a4(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=bi,Te})();function ye(Te,ue,fe){let He=Te;"function"!=typeof Te&&({next:He,error:ue,complete:fe}=Te);const dt=He;return{next:Ht=>dt(Ht&&he.getOrCreate(Ht)),error:ue,complete:fe}}function We(Te,ue){const fe=function Qn(Te,ue){const fe=Mt();if(!fe)return[];const He=O.az(ur,Te,ue);switch(fe.getItem(He)){case bi.NONE:return[O.L];case bi.LOCAL:return[O.i,O.a];case bi.SESSION:return[O.a];default:return[]}}(Te,ue);if(typeof self<"u"&&!fe.includes(O.i)&&fe.push(O.i),typeof window<"u")for(const He of[O.b,O.a])fe.includes(He)||fe.push(He);return fe.includes(O.L)||fe.push(O.L),fe}class ct{constructor(){this.providerId="phone",this._delegate=new O.P(Fr(L.Z.auth()))}static credential(ue,fe){return O.P.credential(ue,fe)}verifyPhoneNumber(ue,fe){return this._delegate.verifyPhoneNumber(ue,fe)}unwrap(){return this._delegate}}ct.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ct.PROVIDER_ID=O.P.PROVIDER_ID;const Vt=O.ax;class Fn{constructor(ue,fe,He=L.Z.app()){var dt;Vt(null===(dt=He.options)||void 0===dt?void 0:dt.apiKey,"invalid-api-key",{appName:He.name}),this._delegate=new O.R(ue,fe,He.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fi(Te){Te.INTERNAL.registerComponent(new Z.wA("auth-compat",ue=>{const fe=ue.getProvider("app-compat").getImmediate(),He=ue.getProvider("auth");return new pe(fe,He)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.M,FacebookAuthProvider:O.N,GithubAuthProvider:O.T,GoogleAuthProvider:O.Q,OAuthProvider:O.U,SAMLAuthProvider:O.V,PhoneAuthProvider:ct,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:Fn,TwitterAuthProvider:O.W,Auth:pe,AuthCredential:O.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.2.20")}(L.Z)},5473:()=>{!function(){"use strict";var we=function(N){this.element_=N,this.init()};window.MaterialButton=we,we.prototype.Constant_={},we.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},we.prototype.blurHandler_=function(H){H&&this.element_.blur()},we.prototype.disable=we.prototype.disable=function(){this.element_.disabled=!0},we.prototype.enable=we.prototype.enable=function(){this.element_.disabled=!1},we.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var H=document.createElement("span");H.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),H.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(H)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:we,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},2125:()=>{var we={upgradeDom:function(H,N){},upgradeElement:function(H,N){},upgradeElements:function(H){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(H,N){},register:function(H){},downgradeElements:function(H){}};(we=function(){"use strict";var H=[],N=[],s="mdlComponentConfigInternal_";function L(me,xe){for(var ne=0;ne<H.length;ne++)if(H[ne].className===me)return typeof xe<"u"&&(H[ne]=xe),H[ne];return!1}function O(me){var xe=me.getAttribute("data-upgraded");return null===xe?[""]:xe.split(",")}function G(me,xe){return-1!==O(me).indexOf(xe)}function $(me,xe,ne){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(me,{bubbles:xe,cancelable:ne});var ee=document.createEvent("Events");return ee.initEvent(me,xe,ne),ee}function K(me,xe){if(typeof me>"u"&&typeof xe>"u")for(var ne=0;ne<H.length;ne++)K(H[ne].className,H[ne].cssClass);else{var ee=me;if(typeof xe>"u"){var re=L(ee);re&&(xe=re.cssClass)}for(var ke=document.querySelectorAll("."+xe),Ve=0;Ve<ke.length;Ve++)Z(ke[Ve],ee)}}function Z(me,xe){if(!("object"==typeof me&&me instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var ne=$("mdl-componentupgrading",!0,!0);if(me.dispatchEvent(ne),!ne.defaultPrevented){var ee=O(me),re=[];if(xe)G(me,xe)||re.push(L(xe));else{var ke=me.classList;H.forEach(function(Se){ke.contains(Se.cssClass)&&-1===re.indexOf(Se)&&!G(me,Se.className)&&re.push(Se)})}for(var Le,Ve=0,Ne=re.length;Ve<Ne;Ve++){if(!(Le=re[Ve]))throw new Error("Unable to find a registered component for the given class.");ee.push(Le.className),me.setAttribute("data-upgraded",ee.join(","));var De=new Le.classConstructor(me);De[s]=Le,N.push(De);for(var Ge=0,ge=Le.callbacks.length;Ge<ge;Ge++)Le.callbacks[Ge](me);Le.widget&&(me[Le.className]=De);var ve=$("mdl-componentupgraded",!0,!1);me.dispatchEvent(ve)}}}function se(me){if(me){var xe=N.indexOf(me);N.splice(xe,1);var ne=me.element_.getAttribute("data-upgraded").split(","),ee=ne.indexOf(me[s].classAsString);ne.splice(ee,1),me.element_.setAttribute("data-upgraded",ne.join(","));var re=$("mdl-componentdowngraded",!0,!1);me.element_.dispatchEvent(re)}}return{upgradeDom:K,upgradeElement:Z,upgradeElements:function X(me){Array.isArray(me)||(me=me instanceof Element?[me]:Array.prototype.slice.call(me));for(var ee,xe=0,ne=me.length;xe<ne;xe++)(ee=me[xe])instanceof HTMLElement&&(Z(ee),ee.children.length>0&&X(ee.children))},upgradeAllRegistered:function J(){for(var me=0;me<H.length;me++)K(H[me].className)},registerUpgradedCallback:function Q(me,xe){var ne=L(me);ne&&ne.callbacks.push(xe)},register:function oe(me){var ne=!0;typeof me.widget>"u"&&typeof me.widget>"u"||(ne=me.widget||me.widget);var ee={classConstructor:me.constructor||me.constructor,className:me.classAsString||me.classAsString,cssClass:me.cssClass||me.cssClass,widget:ne,callbacks:[]};if(H.forEach(function(ke){if(ke.cssClass===ee.cssClass)throw new Error("The provided cssClass has already been registered: "+ke.cssClass);if(ke.className===ee.className)throw new Error("The provided className has already been registered")}),me.constructor.prototype.hasOwnProperty(s))throw new Error("MDL component classes must not have "+s+" defined as a property.");L(me.classAsString,ee)||H.push(ee)},downgradeElements:function Oe(me){var xe=function(ee){N.filter(function(re){return re.element_===ee}).forEach(se)};if(me instanceof Array||me instanceof NodeList)for(var ne=0;ne<me.length;ne++)xe(me[ne]);else{if(!(me instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");xe(me)}}}}()).upgradeDom=we.upgradeDom,we.upgradeElement=we.upgradeElement,we.upgradeElements=we.upgradeElements,we.upgradeAllRegistered=we.upgradeAllRegistered,we.registerUpgradedCallback=we.registerUpgradedCallback,we.register=we.register,we.downgradeElements=we.downgradeElements,window.componentHandler=we,window.componentHandler=we,window.addEventListener("load",function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),we.upgradeAllRegistered()):(we.upgradeElement=function(){},we.register=function(){})})},9812:()=>{!function(){"use strict";var we=function(N){this.element_=N,this.init()};window.MaterialProgress=we,we.prototype.Constant_={},we.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},we.prototype.setProgress=we.prototype.setProgress=function(H){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=H+"%")},we.prototype.setBuffer=we.prototype.setBuffer=function(H){this.bufferbar_.style.width=H+"%",this.auxbar_.style.width=100-H+"%"},we.prototype.init=function(){if(this.element_){var H=document.createElement("div");H.className="progressbar bar bar1",this.element_.appendChild(H),this.progressbar_=H,(H=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(H),this.bufferbar_=H,(H=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(H),this.auxbar_=H,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:we,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},7792:()=>{!function(){"use strict";var we=function(N){this.element_=N,this.init()};window.MaterialSpinner=we,we.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},we.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},we.prototype.createLayer=we.prototype.createLayer=function(H){var N=document.createElement("div");N.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),N.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+H);var s=document.createElement("div");s.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),s.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var L=document.createElement("div");L.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var O=document.createElement("div");O.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),O.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var G=[s,L,O],$=0;$<G.length;$++){var K=document.createElement("div");K.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),G[$].appendChild(K)}N.appendChild(s),N.appendChild(L),N.appendChild(O),this.element_.appendChild(N)},we.prototype.stop=we.prototype.stop=function(){this.element_.classList.remove("is-active")},we.prototype.start=we.prototype.start=function(){this.element_.classList.add("is-active")},we.prototype.init=function(){if(this.element_){for(var H=1;H<=this.Constant_.MDL_SPINNER_LAYER_COUNT;H++)this.createLayer(H);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:we,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},2910:()=>{!function(){"use strict";var we=function(N){this.element_=N,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=we,we.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},we.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},we.prototype.onKeyDown_=function(H){var N=H.target.value.split("\n").length;13===H.keyCode&&N>=this.maxRows&&H.preventDefault()},we.prototype.onFocus_=function(H){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},we.prototype.onBlur_=function(H){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},we.prototype.onReset_=function(H){this.updateClasses_()},we.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},we.prototype.checkDisabled=we.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},we.prototype.checkFocus=we.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},we.prototype.checkValidity=we.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},we.prototype.checkDirty=we.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},we.prototype.disable=we.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},we.prototype.enable=we.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},we.prototype.change=we.prototype.change=function(H){this.input_.value=H||"",this.updateClasses_()},we.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var H=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),H&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:we,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},9751:(we,H,N)=>{"use strict";N.d(H,{y:()=>X});var s=N(930),L=N(727),O=N(8822),G=N(9635),$=N(2416),K=N(576),Z=N(2806);let X=(()=>{class se{constructor(me){me&&(this._subscribe=me)}lift(me){const xe=new se;return xe.source=this,xe.operator=me,xe}subscribe(me,xe,ne){const ee=function J(se){return se&&se instanceof s.Lv||function Q(se){return se&&(0,K.m)(se.next)&&(0,K.m)(se.error)&&(0,K.m)(se.complete)}(se)&&(0,L.Nn)(se)}(me)?me:new s.Hp(me,xe,ne);return(0,Z.x)(()=>{const{operator:re,source:ke}=this;ee.add(re?re.call(ee,ke):ke?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(me){try{return this._subscribe(me)}catch(xe){me.error(xe)}}forEach(me,xe){return new(xe=oe(xe))((ne,ee)=>{const re=new s.Hp({next:ke=>{try{me(ke)}catch(Ve){ee(Ve),re.unsubscribe()}},error:ee,complete:ne});this.subscribe(re)})}_subscribe(me){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(me)}[O.L](){return this}pipe(...me){return(0,G.U)(me)(this)}toPromise(me){return new(me=oe(me))((xe,ne)=>{let ee;this.subscribe(re=>ee=re,re=>ne(re),()=>xe(ee))})}}return se.create=Oe=>new se(Oe),se})();function oe(se){var Oe;return null!==(Oe=se??$.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(we,H,N)=>{"use strict";N.d(H,{x:()=>Z});var s=N(9751),L=N(727);const G=(0,N(3888).d)(oe=>function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=N(8737),K=N(2806);let Z=(()=>{class oe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const se=new X(this,this);return se.operator=J,se}_throwIfClosed(){if(this.closed)throw new G}next(J){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(J)}})}error(J){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:se}=this;for(;se.length;)se.shift().error(J)}})}complete(){(0,K.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:se,isStopped:Oe,observers:me}=this;return se||Oe?L.Lc:(this.currentObservers=null,me.push(J),new L.w0(()=>{this.currentObservers=null,(0,$.P)(me,J)}))}_checkFinalizedStatuses(J){const{hasError:se,thrownError:Oe,isStopped:me}=this;se?J.error(Oe):me&&J.complete()}asObservable(){const J=new s.y;return J.source=this,J}}return oe.create=(Q,J)=>new X(Q,J),oe})();class X extends Z{constructor(Q,J){super(),this.destination=Q,this.source=J}next(Q){var J,se;null===(se=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===se||se.call(J,Q)}error(Q){var J,se;null===(se=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===se||se.call(J,Q)}complete(){var Q,J;null===(J=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===J||J.call(Q)}_subscribe(Q){var J,se;return null!==(se=null===(J=this.source)||void 0===J?void 0:J.subscribe(Q))&&void 0!==se?se:L.Lc}}},930:(we,H,N)=>{"use strict";N.d(H,{Hp:()=>ne,Lv:()=>se});var s=N(576),L=N(727),O=N(2416),G=N(7849),$=N(5032);const K=oe("C",void 0,void 0);function oe(Ne,Le,De){return{kind:Ne,value:Le,error:De}}var Q=N(3410),J=N(2806);class se extends L.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,L.Nn)(Le)&&Le.add(this)):this.destination=Ve}static create(Le,De,Ge){return new ne(Le,De,Ge)}next(Le){this.isStopped?ke(function X(Ne){return oe("N",Ne,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?ke(function Z(Ne){return oe("E",void 0,Ne)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?ke(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function me(Ne,Le){return Oe.call(Ne,Le)}class xe{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:De}=this;if(De.next)try{De.next(Le)}catch(Ge){ee(Ge)}}error(Le){const{partialObserver:De}=this;if(De.error)try{De.error(Le)}catch(Ge){ee(Ge)}else ee(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(De){ee(De)}}}class ne extends se{constructor(Le,De,Ge){let ge;if(super(),(0,s.m)(Le)||!Le)ge={next:Le??void 0,error:De??void 0,complete:Ge??void 0};else{let ve;this&&O.v.useDeprecatedNextContext?(ve=Object.create(Le),ve.unsubscribe=()=>this.unsubscribe(),ge={next:Le.next&&me(Le.next,ve),error:Le.error&&me(Le.error,ve),complete:Le.complete&&me(Le.complete,ve)}):ge=Le}this.destination=new xe(ge)}}function ee(Ne){O.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Ne):(0,G.h)(Ne)}function ke(Ne,Le){const{onStoppedNotification:De}=O.v;De&&Q.z.setTimeout(()=>De(Ne,Le))}const Ve={closed:!0,next:$.Z,error:function re(Ne){throw Ne},complete:$.Z}},727:(we,H,N)=>{"use strict";N.d(H,{Lc:()=>K,w0:()=>$,Nn:()=>Z});var s=N(576);const O=(0,N(3888).d)(oe=>function(J){oe(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((se,Oe)=>`${Oe+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var G=N(8737);class ${constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const me of J)me.remove(this);else J.remove(this);const{initialTeardown:se}=this;if((0,s.m)(se))try{se()}catch(me){Q=me instanceof O?me.errors:[me]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const me of Oe)try{X(me)}catch(xe){Q=Q??[],xe instanceof O?Q=[...Q,...xe.errors]:Q.push(xe)}}if(Q)throw new O(Q)}}add(Q){var J;if(Q&&Q!==this)if(this.closed)X(Q);else{if(Q instanceof $){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(Q)}}_hasParent(Q){const{_parentage:J}=this;return J===Q||Array.isArray(J)&&J.includes(Q)}_addParent(Q){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(Q),J):J?[J,Q]:Q}_removeParent(Q){const{_parentage:J}=this;J===Q?this._parentage=null:Array.isArray(J)&&(0,G.P)(J,Q)}remove(Q){const{_finalizers:J}=this;J&&(0,G.P)(J,Q),Q instanceof $&&Q._removeParent(this)}}$.EMPTY=(()=>{const oe=new $;return oe.closed=!0,oe})();const K=$.EMPTY;function Z(oe){return oe instanceof $||oe&&"closed"in oe&&(0,s.m)(oe.remove)&&(0,s.m)(oe.add)&&(0,s.m)(oe.unsubscribe)}function X(oe){(0,s.m)(oe)?oe():oe.unsubscribe()}},2416:(we,H,N)=>{"use strict";N.d(H,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(we,H,N)=>{"use strict";N.d(H,{E:()=>L});const L=new(N(9751).y)($=>$.complete())},8996:(we,H,N)=>{"use strict";N.d(H,{D:()=>Le});var s=N(8421),L=N(5363),O=N(9468),K=N(9751),X=N(2202),oe=N(576),Q=N(9672);function se(De,Ge){if(!De)throw new Error("Iterable cannot be null");return new K.y(ge=>{(0,Q.f)(ge,Ge,()=>{const ve=De[Symbol.asyncIterator]();(0,Q.f)(ge,Ge,()=>{ve.next().then(Se=>{Se.done?ge.complete():ge.next(Se.value)})},0,!0)})})}var Oe=N(3670),me=N(8239),xe=N(1144),ne=N(6495),ee=N(2206),re=N(4532),ke=N(3260);function Le(De,Ge){return Ge?function Ne(De,Ge){if(null!=De){if((0,Oe.c)(De))return function G(De,Ge){return(0,s.Xf)(De).pipe((0,O.R)(Ge),(0,L.Q)(Ge))}(De,Ge);if((0,xe.z)(De))return function Z(De,Ge){return new K.y(ge=>{let ve=0;return Ge.schedule(function(){ve===De.length?ge.complete():(ge.next(De[ve++]),ge.closed||this.schedule())})})}(De,Ge);if((0,me.t)(De))return function $(De,Ge){return(0,s.Xf)(De).pipe((0,O.R)(Ge),(0,L.Q)(Ge))}(De,Ge);if((0,ee.D)(De))return se(De,Ge);if((0,ne.T)(De))return function J(De,Ge){return new K.y(ge=>{let ve;return(0,Q.f)(ge,Ge,()=>{ve=De[X.h](),(0,Q.f)(ge,Ge,()=>{let Se,ce;try{({value:Se,done:ce}=ve.next())}catch(de){return void ge.error(de)}ce?ge.complete():ge.next(Se)},0,!0)}),()=>(0,oe.m)(ve?.return)&&ve.return()})}(De,Ge);if((0,ke.L)(De))return function Ve(De,Ge){return se((0,ke.Q)(De),Ge)}(De,Ge)}throw(0,re.z)(De)}(De,Ge):(0,s.Xf)(De)}},8421:(we,H,N)=>{"use strict";N.d(H,{Xf:()=>Oe});var s=N(655),L=N(1144),O=N(8239),G=N(9751),$=N(3670),K=N(2206),Z=N(4532),X=N(6495),oe=N(3260),Q=N(576),J=N(7849),se=N(8822);function Oe(Ne){if(Ne instanceof G.y)return Ne;if(null!=Ne){if((0,$.c)(Ne))return function me(Ne){return new G.y(Le=>{const De=Ne[se.L]();if((0,Q.m)(De.subscribe))return De.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,L.z)(Ne))return function xe(Ne){return new G.y(Le=>{for(let De=0;De<Ne.length&&!Le.closed;De++)Le.next(Ne[De]);Le.complete()})}(Ne);if((0,O.t)(Ne))return function ne(Ne){return new G.y(Le=>{Ne.then(De=>{Le.closed||(Le.next(De),Le.complete())},De=>Le.error(De)).then(null,J.h)})}(Ne);if((0,K.D)(Ne))return re(Ne);if((0,X.T)(Ne))return function ee(Ne){return new G.y(Le=>{for(const De of Ne)if(Le.next(De),Le.closed)return;Le.complete()})}(Ne);if((0,oe.L)(Ne))return function ke(Ne){return re((0,oe.Q)(Ne))}(Ne)}throw(0,Z.z)(Ne)}function re(Ne){return new G.y(Le=>{(function Ve(Ne,Le){var De,Ge,ge,ve;return(0,s.mG)(this,void 0,void 0,function*(){try{for(De=(0,s.KL)(Ne);!(Ge=yield De.next()).done;)if(Le.next(Ge.value),Le.closed)return}catch(Se){ge={error:Se}}finally{try{Ge&&!Ge.done&&(ve=De.return)&&(yield ve.call(De))}finally{if(ge)throw ge.error}}Le.complete()})})(Ne,Le).catch(De=>Le.error(De))})}},6451:(we,H,N)=>{"use strict";N.d(H,{T:()=>K});var s=N(8189),L=N(8421),O=N(515),G=N(3269),$=N(8996);function K(...Z){const X=(0,G.yG)(Z),oe=(0,G._6)(Z,1/0),Q=Z;return Q.length?1===Q.length?(0,L.Xf)(Q[0]):(0,s.J)(oe)((0,$.D)(Q,X)):O.E}},5403:(we,H,N)=>{"use strict";N.d(H,{x:()=>L});var s=N(930);function L(G,$,K,Z,X){return new O(G,$,K,Z,X)}class O extends s.Lv{constructor($,K,Z,X,oe,Q){super($),this.onFinalize=oe,this.shouldUnsubscribe=Q,this._next=K?function(J){try{K(J)}catch(se){$.error(se)}}:super._next,this._error=X?function(J){try{X(J)}catch(se){$.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(J){$.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},4004:(we,H,N)=>{"use strict";N.d(H,{U:()=>O});var s=N(4482),L=N(5403);function O(G,$){return(0,s.e)((K,Z)=>{let X=0;K.subscribe((0,L.x)(Z,oe=>{Z.next(G.call($,oe,X++))}))})}},8189:(we,H,N)=>{"use strict";N.d(H,{J:()=>O});var s=N(5577),L=N(4671);function O(G=1/0){return(0,s.z)(L.y,G)}},5577:(we,H,N)=>{"use strict";N.d(H,{z:()=>X});var s=N(4004),L=N(8421),O=N(4482),G=N(9672),$=N(5403),Z=N(576);function X(oe,Q,J=1/0){return(0,Z.m)(Q)?X((se,Oe)=>(0,s.U)((me,xe)=>Q(se,me,Oe,xe))((0,L.Xf)(oe(se,Oe))),J):("number"==typeof Q&&(J=Q),(0,O.e)((se,Oe)=>function K(oe,Q,J,se,Oe,me,xe,ne){const ee=[];let re=0,ke=0,Ve=!1;const Ne=()=>{Ve&&!ee.length&&!re&&Q.complete()},Le=Ge=>re<se?De(Ge):ee.push(Ge),De=Ge=>{me&&Q.next(Ge),re++;let ge=!1;(0,L.Xf)(J(Ge,ke++)).subscribe((0,$.x)(Q,ve=>{Oe?.(ve),me?Le(ve):Q.next(ve)},()=>{ge=!0},void 0,()=>{if(ge)try{for(re--;ee.length&&re<se;){const ve=ee.shift();xe?(0,G.f)(Q,xe,()=>De(ve)):De(ve)}Ne()}catch(ve){Q.error(ve)}}))};return oe.subscribe((0,$.x)(Q,Le,()=>{Ve=!0,Ne()})),()=>{ne?.()}}(se,Oe,oe,J)))}},5363:(we,H,N)=>{"use strict";N.d(H,{Q:()=>G});var s=N(9672),L=N(4482),O=N(5403);function G($,K=0){return(0,L.e)((Z,X)=>{Z.subscribe((0,O.x)(X,oe=>(0,s.f)(X,$,()=>X.next(oe),K),()=>(0,s.f)(X,$,()=>X.complete(),K),oe=>(0,s.f)(X,$,()=>X.error(oe),K)))})}},3099:(we,H,N)=>{"use strict";N.d(H,{B:()=>$});var s=N(8421),L=N(7579),O=N(930),G=N(4482);function $(Z={}){const{connector:X=(()=>new L.x),resetOnError:oe=!0,resetOnComplete:Q=!0,resetOnRefCountZero:J=!0}=Z;return se=>{let Oe,me,xe,ne=0,ee=!1,re=!1;const ke=()=>{me?.unsubscribe(),me=void 0},Ve=()=>{ke(),Oe=xe=void 0,ee=re=!1},Ne=()=>{const Le=Oe;Ve(),Le?.unsubscribe()};return(0,G.e)((Le,De)=>{ne++,!re&&!ee&&ke();const Ge=xe=xe??X();De.add(()=>{ne--,0===ne&&!re&&!ee&&(me=K(Ne,J))}),Ge.subscribe(De),!Oe&&ne>0&&(Oe=new O.Hp({next:ge=>Ge.next(ge),error:ge=>{re=!0,ke(),me=K(Ve,oe,ge),Ge.error(ge)},complete:()=>{ee=!0,ke(),me=K(Ve,Q),Ge.complete()}}),(0,s.Xf)(Le).subscribe(Oe))})(se)}}function K(Z,X,...oe){if(!0===X)return void Z();if(!1===X)return;const Q=new O.Hp({next:()=>{Q.unsubscribe(),Z()}});return X(...oe).subscribe(Q)}},9468:(we,H,N)=>{"use strict";N.d(H,{R:()=>L});var s=N(4482);function L(O,G=0){return(0,s.e)(($,K)=>{K.add(O.schedule(()=>$.subscribe(K),G))})}},8505:(we,H,N)=>{"use strict";N.d(H,{b:()=>$});var s=N(576),L=N(4482),O=N(5403),G=N(4671);function $(K,Z,X){const oe=(0,s.m)(K)||Z||X?{next:K,error:Z,complete:X}:K;return oe?(0,L.e)((Q,J)=>{var se;null===(se=oe.subscribe)||void 0===se||se.call(oe);let Oe=!0;Q.subscribe((0,O.x)(J,me=>{var xe;null===(xe=oe.next)||void 0===xe||xe.call(oe,me),J.next(me)},()=>{var me;Oe=!1,null===(me=oe.complete)||void 0===me||me.call(oe),J.complete()},me=>{var xe;Oe=!1,null===(xe=oe.error)||void 0===xe||xe.call(oe,me),J.error(me)},()=>{var me,xe;Oe&&(null===(me=oe.unsubscribe)||void 0===me||me.call(oe)),null===(xe=oe.finalize)||void 0===xe||xe.call(oe)}))}):G.y}},4408:(we,H,N)=>{"use strict";N.d(H,{o:()=>$});var s=N(727);class L extends s.w0{constructor(Z,X){super()}schedule(Z,X=0){return this}}const O={setInterval(K,Z,...X){const{delegate:oe}=O;return oe?.setInterval?oe.setInterval(K,Z,...X):setInterval(K,Z,...X)},clearInterval(K){const{delegate:Z}=O;return(Z?.clearInterval||clearInterval)(K)},delegate:void 0};var G=N(8737);class $ extends L{constructor(Z,X){super(Z,X),this.scheduler=Z,this.work=X,this.pending=!1}schedule(Z,X=0){var oe;if(this.closed)return this;this.state=Z;const Q=this.id,J=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(J,Q,X)),this.pending=!0,this.delay=X,this.id=null!==(oe=this.id)&&void 0!==oe?oe:this.requestAsyncId(J,this.id,X),this}requestAsyncId(Z,X,oe=0){return O.setInterval(Z.flush.bind(Z,this),oe)}recycleAsyncId(Z,X,oe=0){if(null!=oe&&this.delay===oe&&!1===this.pending)return X;null!=X&&O.clearInterval(X)}execute(Z,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(Z,X);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,X){let Q,oe=!1;try{this.work(Z)}catch(J){oe=!0,Q=J||new Error("Scheduled action threw falsy error")}if(oe)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:Z,scheduler:X}=this,{actions:oe}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(oe,this),null!=Z&&(this.id=this.recycleAsyncId(X,Z,null)),this.delay=null,super.unsubscribe()}}}},7565:(we,H,N)=>{"use strict";N.d(H,{v:()=>O});var s=N(6063);class L{constructor($,K=L.now){this.schedulerActionCtor=$,this.now=K}schedule($,K=0,Z){return new this.schedulerActionCtor(this,$).schedule(Z,K)}}L.now=s.l.now;class O extends L{constructor($,K=L.now){super($,K),this.actions=[],this._active=!1}flush($){const{actions:K}=this;if(this._active)return void K.push($);let Z;this._active=!0;do{if(Z=$.execute($.state,$.delay))break}while($=K.shift());if(this._active=!1,Z){for(;$=K.shift();)$.unsubscribe();throw Z}}}},4986:(we,H,N)=>{"use strict";N.d(H,{P:()=>G,z:()=>O});var s=N(4408);const O=new(N(7565).v)(s.o),G=O},6063:(we,H,N)=>{"use strict";N.d(H,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(we,H,N)=>{"use strict";N.d(H,{z:()=>s});const s={setTimeout(L,O,...G){const{delegate:$}=s;return $?.setTimeout?$.setTimeout(L,O,...G):setTimeout(L,O,...G)},clearTimeout(L){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(L)},delegate:void 0}},2202:(we,H,N)=>{"use strict";N.d(H,{h:()=>L});const L=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(we,H,N)=>{"use strict";N.d(H,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(we,H,N)=>{"use strict";N.d(H,{_6:()=>K,jO:()=>G,yG:()=>$});var s=N(576),L=N(3532);function O(Z){return Z[Z.length-1]}function G(Z){return(0,s.m)(O(Z))?Z.pop():void 0}function $(Z){return(0,L.K)(O(Z))?Z.pop():void 0}function K(Z,X){return"number"==typeof O(Z)?Z.pop():X}},8737:(we,H,N)=>{"use strict";function s(L,O){if(L){const G=L.indexOf(O);0<=G&&L.splice(G,1)}}N.d(H,{P:()=>s})},3888:(we,H,N)=>{"use strict";function s(L){const G=L($=>{Error.call($),$.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}N.d(H,{d:()=>s})},2806:(we,H,N)=>{"use strict";N.d(H,{O:()=>G,x:()=>O});var s=N(2416);let L=null;function O($){if(s.v.useDeprecatedSynchronousErrorHandling){const K=!L;if(K&&(L={errorThrown:!1,error:null}),$(),K){const{errorThrown:Z,error:X}=L;if(L=null,Z)throw X}}else $()}function G($){s.v.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=$)}},9672:(we,H,N)=>{"use strict";function s(L,O,G,$=0,K=!1){const Z=O.schedule(function(){G(),K?L.add(this.schedule(null,$)):this.unsubscribe()},$);if(L.add(Z),!K)return Z}N.d(H,{f:()=>s})},4671:(we,H,N)=>{"use strict";function s(L){return L}N.d(H,{y:()=>s})},1144:(we,H,N)=>{"use strict";N.d(H,{z:()=>s});const s=L=>L&&"number"==typeof L.length&&"function"!=typeof L},2206:(we,H,N)=>{"use strict";N.d(H,{D:()=>L});var s=N(576);function L(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(we,H,N)=>{"use strict";function s(L){return"function"==typeof L}N.d(H,{m:()=>s})},3670:(we,H,N)=>{"use strict";N.d(H,{c:()=>O});var s=N(8822),L=N(576);function O(G){return(0,L.m)(G[s.L])}},6495:(we,H,N)=>{"use strict";N.d(H,{T:()=>O});var s=N(2202),L=N(576);function O(G){return(0,L.m)(G?.[s.h])}},8239:(we,H,N)=>{"use strict";N.d(H,{t:()=>L});var s=N(576);function L(O){return(0,s.m)(O?.then)}},3260:(we,H,N)=>{"use strict";N.d(H,{L:()=>G,Q:()=>O});var s=N(655),L=N(576);function O($){return(0,s.FC)(this,arguments,function*(){const Z=$.getReader();try{for(;;){const{value:X,done:oe}=yield(0,s.qq)(Z.read());if(oe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(X)}}finally{Z.releaseLock()}})}function G($){return(0,L.m)($?.getReader)}},3532:(we,H,N)=>{"use strict";N.d(H,{K:()=>L});var s=N(576);function L(O){return O&&(0,s.m)(O.schedule)}},4482:(we,H,N)=>{"use strict";N.d(H,{A:()=>L,e:()=>O});var s=N(576);function L(G){return(0,s.m)(G?.lift)}function O(G){return $=>{if(L($))return $.lift(function(K){try{return G(K,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(we,H,N)=>{"use strict";function s(){}N.d(H,{Z:()=>s})},9635:(we,H,N)=>{"use strict";N.d(H,{U:()=>O,z:()=>L});var s=N(4671);function L(...G){return O(G)}function O(G){return 0===G.length?s.y:1===G.length?G[0]:function(K){return G.reduce((Z,X)=>X(Z),K)}}},7849:(we,H,N)=>{"use strict";N.d(H,{h:()=>O});var s=N(2416),L=N(3410);function O(G){L.z.setTimeout(()=>{const{onUnhandledError:$}=s.v;if(!$)throw G;$(G)})}},4532:(we,H,N)=>{"use strict";function s(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(H,{z:()=>s})},655:(we,H,N)=>{"use strict";function G(ce,de){var Ae={};for(var Ce in ce)Object.prototype.hasOwnProperty.call(ce,Ce)&&de.indexOf(Ce)<0&&(Ae[Ce]=ce[Ce]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Qe=0;for(Ce=Object.getOwnPropertySymbols(ce);Qe<Ce.length;Qe++)de.indexOf(Ce[Qe])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ce[Qe])&&(Ae[Ce[Qe]]=ce[Ce[Qe]])}return Ae}function X(ce,de,Ae,Ce){return new(Ae||(Ae=Promise))(function(tt,Tt){function yn(Sn){try{ut(Ce.next(Sn))}catch(ii){Tt(ii)}}function cn(Sn){try{ut(Ce.throw(Sn))}catch(ii){Tt(ii)}}function ut(Sn){Sn.done?tt(Sn.value):function Qe(tt){return tt instanceof Ae?tt:new Ae(function(Tt){Tt(tt)})}(Sn.value).then(yn,cn)}ut((Ce=Ce.apply(ce,de||[])).next())})}function ee(ce){return this instanceof ee?(this.v=ce,this):new ee(ce)}function re(ce,de,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ce=Ae.apply(ce,de||[]),tt=[];return Qe={},Tt("next"),Tt("throw"),Tt("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe;function Tt(Cn){Ce[Cn]&&(Qe[Cn]=function(Dn){return new Promise(function(rn,Xt){tt.push([Cn,Dn,rn,Xt])>1||yn(Cn,Dn)})})}function yn(Cn,Dn){try{!function cn(Cn){Cn.value instanceof ee?Promise.resolve(Cn.value.v).then(ut,Sn):ii(tt[0][2],Cn)}(Ce[Cn](Dn))}catch(rn){ii(tt[0][3],rn)}}function ut(Cn){yn("next",Cn)}function Sn(Cn){yn("throw",Cn)}function ii(Cn,Dn){Cn(Dn),tt.shift(),tt.length&&yn(tt[0][0],tt[0][1])}}function Ve(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,de=ce[Symbol.asyncIterator];return de?de.call(ce):(ce=function se(ce){var de="function"==typeof Symbol&&Symbol.iterator,Ae=de&&ce[de],Ce=0;if(Ae)return Ae.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ce>=ce.length&&(ce=void 0),{value:ce&&ce[Ce++],done:!ce}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ae={},Ce("next"),Ce("throw"),Ce("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Ce(tt){Ae[tt]=ce[tt]&&function(Tt){return new Promise(function(yn,cn){!function Qe(tt,Tt,yn,cn){Promise.resolve(cn).then(function(ut){tt({value:ut,done:yn})},Tt)}(yn,cn,(Tt=ce[tt](Tt)).done,Tt.value)})}}}N.d(H,{FC:()=>re,KL:()=>Ve,_T:()=>G,mG:()=>X,qq:()=>ee})},4650:(we,H,N)=>{"use strict";N.d(H,{$8M:()=>iu,$Z:()=>dR,AFp:()=>Zd,ALo:()=>MI,AaK:()=>X,BQk:()=>Xb,CHM:()=>rp,CRH:()=>jI,CZH:()=>Wd,CqO:()=>ef,D6c:()=>kA,EJc:()=>sw,EiD:()=>ob,EpF:()=>CD,F$t:()=>Hp,F4k:()=>ED,FYo:()=>jh,FiY:()=>ft,G48:()=>GO,Gf:()=>VI,GfV:()=>sM,Gpc:()=>J,Hsn:()=>n0,Ikx:()=>f0,JOm:()=>mi,JVY:()=>sx,KtG:()=>Xa,L6k:()=>ox,LAX:()=>lx,LFG:()=>Ui,LSH:()=>hx,Lbi:()=>EO,Lck:()=>mI,MAs:()=>Dy,MMx:()=>rg,NdJ:()=>Ty,O4$:()=>nd,OlP:()=>ti,Oqu:()=>BD,PXZ:()=>NO,Q6J:()=>Iy,QGY:()=>Xh,QP$:()=>dt,QbO:()=>xO,Qsj:()=>rM,R0b:()=>Ko,RDi:()=>XE,Rgc:()=>af,SBq:()=>Ur,Sil:()=>SO,Suo:()=>UI,TTD:()=>No,TgZ:()=>Ay,Tol:()=>qp,Udp:()=>Mc,VKq:()=>j0,W1O:()=>Pl,WFA:()=>e0,WLB:()=>og,X6Q:()=>jO,XFs:()=>yt,Xpm:()=>pe,Xts:()=>ab,Y36:()=>Np,YKP:()=>B0,YNc:()=>Zb,Yjl:()=>Te,Yz7:()=>Dn,Z0I:()=>cr,ZZ4:()=>Ew,_Bn:()=>gI,_UZ:()=>wD,_Vd:()=>Cd,_c5:()=>KO,_uU:()=>Oy,aQg:()=>h_,c2e:()=>DO,cJS:()=>Xt,cg1:()=>g0,d8E:()=>p0,dDg:()=>PO,dqk:()=>en,eBb:()=>ax,eFA:()=>l_,ekj:()=>Rl,eoX:()=>hA,f3M:()=>R,g9A:()=>nA,h0i:()=>Fs,hGG:()=>QO,hij:()=>u0,iGM:()=>BI,ifc:()=>Rt,ip1:()=>r_,jDz:()=>yI,kL8:()=>qD,lG2:()=>Fi,lcZ:()=>RI,lqb:()=>bd,lri:()=>uA,mCW:()=>Me,n5z:()=>jo,n_E:()=>ug,oAB:()=>Vt,oxw:()=>DD,pB0:()=>x,q3G:()=>yr,q4F:()=>ub,qLn:()=>Qm,qOj:()=>Ca,qZA:()=>Jb,qzn:()=>lu,rWj:()=>dA,sBO:()=>Ii,sIi:()=>Kh,s_b:()=>dg,soG:()=>s_,tb:()=>iA,tp0:()=>Wt,uIk:()=>Zi,vHH:()=>xe,vpe:()=>Xs,wAp:()=>zt,xp6:()=>eR,ynx:()=>Sy,z2F:()=>ff,z3N:()=>Al,zSh:()=>wc,zs3:()=>Id});var s=N(7579),L=N(727),O=N(9751),G=N(6451),$=N(3099);function K(a){for(let c in a)if(a[c]===K)return c;throw Error("Could not find renamed property on target object.")}function Z(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function X(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(X).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function oe(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const Q=K({__forward_ref__:K});function J(a){return a.__forward_ref__=J,a.toString=function(){return X(this())},a}function se(a){return Oe(a)?a():a}function Oe(a){return"function"==typeof a&&a.hasOwnProperty(Q)&&a.__forward_ref__===J}class xe extends Error{constructor(c,u){super(function ne(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function ee(a){return"string"==typeof a?a:null==a?"":String(a)}function Le(a,c){throw new xe(-201,!1)}function cn(a,c){null==a&&function ut(a,c,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${c} <=Actual]`))}(c,a,null,"!=")}function Dn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Xt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Kn(a){return ai(a,Kr)||ai(a,$s)}function cr(a){return null!==Kn(a)}function ai(a,c){return a.hasOwnProperty(c)?a[c]:null}function Hs(a){return a&&(a.hasOwnProperty(vi)||a.hasOwnProperty(zs))?a[vi]:null}const Kr=K({\u0275prov:K}),vi=K({\u0275inj:K}),$s=K({ngInjectableDef:K}),zs=K({ngInjectorDef:K});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let nr;function Gn(a){const c=nr;return nr=a,c}function ur(a,c,u){const f=Kn(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&yt.Optional?null:void 0!==c?c:void Le(X(a))}function Xn(a){return{toString:a}.toString()}var ri=(()=>((ri=ri||{})[ri.OnPush=0]="OnPush",ri[ri.Default=1]="Default",ri))(),Rt=(()=>{return(a=Rt||(Rt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Rt;var a})();const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),dr={},qt=[],Ar=K({\u0275cmp:K}),tn=K({\u0275dir:K}),Qr=K({\u0275pipe:K}),pn=K({\u0275mod:K}),be=K({\u0275fac:K}),he=K({__NG_ELEMENT_ID__:K});let ae=0;function pe(a){return Xn(()=>{const u=!0===a.standalone,f={},g={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||qt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Rt.Emulated,id:"c"+ae++,styles:a.styles||qt,_:null,setInput:null,schemas:a.schemas||null,tView:null},y=a.dependencies,C=a.features;return g.inputs=Mn(a.inputs,f),g.outputs=Mn(a.outputs),C&&C.forEach(D=>D(g)),g.directiveDefs=y?()=>("function"==typeof y?y():y).map(We).filter(ct):null,g.pipeDefs=y?()=>("function"==typeof y?y():y).map(He).filter(ct):null,g})}function We(a){return ue(a)||fe(a)}function ct(a){return null!==a}function Vt(a){return Xn(()=>({type:a.type,bootstrap:a.bootstrap||qt,declarations:a.declarations||qt,imports:a.imports||qt,exports:a.exports||qt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function Mn(a,c){if(null==a)return dr;const u={};for(const f in a)if(a.hasOwnProperty(f)){let g=a[f],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),u[g]=f,c&&(c[g]=y)}return u}const Fi=pe;function Te(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function ue(a){return a[Ar]||null}function fe(a){return a[tn]||null}function He(a){return a[Qr]||null}function dt(a){const c=ue(a)||fe(a)||He(a);return null!==c&&c.standalone}function Ot(a,c){const u=a[pn]||null;if(!u&&!0===c)throw new Error(`Type ${X(a)} does not have '\u0275mod' property.`);return u}function Ni(a){return Array.isArray(a)&&"object"==typeof a[1]}function cs(a){return Array.isArray(a)&&!0===a[1]}function Po(a){return 0!=(8&a.flags)}function $l(a){return 2==(2&a.flags)}function zl(a){return 1==(1&a.flags)}function Xr(a){return null!==a.template}function Wu(a){return 0!=(256&a[2])}function fr(a,c){return a.hasOwnProperty(be)?a[be]:null}class Ka{constructor(c,u,f){this.previousValue=c,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function No(){return bh}function bh(a){return a.type.prototype.ngOnChanges&&(a.setInput=Zu),Wc}function Wc(){const a=Qa(this),c=a?.current;if(c){const u=a.previous;if(u===dr)a.previous=c;else for(let f in c)u[f]=c[f];a.current=null,this.ngOnChanges(c)}}function Zu(a,c,u,f){const g=Qa(a)||function Yu(a,c){return a[wh]=c}(a,{previous:dr,current:null}),y=g.current||(g.current={}),C=g.previous,D=this.declaredInputs[u],T=C[D];y[D]=new Ka(T&&T.currentValue,c,C===dr),a[f]=c}No.ngInherit=!0;const wh="__ngSimpleChanges__";function Qa(a){return a[wh]||null}function pi(a){for(;Array.isArray(a);)a=a[0];return a}function Ms(a,c){return pi(c[a])}function pr(a,c){return pi(c[a.index])}function ua(a,c){return a.data[c]}function qs(a,c){return a[c]}function Tn(a,c){const u=c[a];return Ni(u)?u:u[0]}function Lo(a){return 64==(64&a[2])}function fs(a,c){return null==c?null:a[c]}function Yl(a){a[18]=0}function wi(a,c){a[5]+=c;let u=a,f=a[3];for(;null!==f&&(1===c&&1===u[5]||-1===c&&0===u[5]);)f[5]+=c,u=f,f=f[3]}const Kt={lFrame:sc(null),bindingsEnabled:!0};function da(){return Kt.bindingsEnabled}function Ye(){return Kt.lFrame.lView}function gn(){return Kt.lFrame.tView}function rp(a){return Kt.lFrame.contextLView=a,a[8]}function Xa(a){return Kt.lFrame.contextLView=null,a}function Li(){let a=el();for(;null!==a&&64===a.type;)a=a.parent;return a}function el(){return Kt.lFrame.currentTNode}function Nr(a,c){const u=Kt.lFrame;u.currentTNode=a,u.isParent=c}function Kc(){return Kt.lFrame.isParent}function tl(){Kt.lFrame.isParent=!1}function Bi(){const a=Kt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function nc(){return Kt.lFrame.bindingIndex++}function fo(a){const c=Kt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function Dh(a,c){const u=Kt.lFrame;u.bindingIndex=u.bindingRootIndex=a,nl(c)}function nl(a){Kt.lFrame.currentDirectiveIndex=a}function ed(a){const c=Kt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function ic(){return Kt.lFrame.currentQueryIndex}function td(a){Kt.lFrame.currentQueryIndex=a}function rc(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function Ih(a,c,u){if(u&yt.SkipSelf){let g=c,y=a;for(;!(g=g.parent,null!==g||u&yt.Host||(g=rc(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;c=g,a=y}const f=Kt.lFrame=ap();return f.currentTNode=c,f.lView=a,!0}function il(a){const c=ap(),u=a[1];Kt.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function ap(){const a=Kt.lFrame,c=null===a?null:a.child;return null===c?sc(a):c}function sc(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function lp(){const a=Kt.lFrame;return Kt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ah=lp;function Bo(){const a=lp();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ci(){return Kt.lFrame.selectedIndex}function po(a){Kt.lFrame.selectedIndex=a}function ui(){const a=Kt.lFrame;return ua(a.tView,a.selectedIndex)}function nd(){Kt.lFrame.currentNamespace="svg"}function od(a,c){for(let u=c.directiveStart,f=c.directiveEnd;u<f;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:F,ngOnDestroy:U}=y;C&&(a.contentHooks||(a.contentHooks=[])).push(-u,C),D&&((a.contentHooks||(a.contentHooks=[])).push(u,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,D)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),F&&((a.viewHooks||(a.viewHooks=[])).push(u,F),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,F)),null!=U&&(a.destroyHooks||(a.destroyHooks=[])).push(u,U)}}function rl(a,c,u){ol(a,c,3,u)}function sl(a,c,u,f){(3&a[2])===u&&ol(a,c,u,f)}function Mh(a,c){let u=a[2];(3&u)===c&&(u&=2047,u+=1,a[2]=u)}function ol(a,c,u,f){const y=f??-1,C=c.length-1;let D=0;for(let T=void 0!==f?65535&a[18]:0;T<C;T++)if("number"==typeof c[T+1]){if(D=c[T],null!=f&&D>=f)break}else c[T]<0&&(a[18]+=65536),(D<y||-1==y)&&(Rh(a,u,c,T),a[18]=(4294901760&a[18])+T+2),T++}function Rh(a,c,u,f){const g=u[f]<0,y=u[f+1],D=a[g?-u[f]:u[f]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{y.call(D)}finally{}}}else try{y.call(D)}finally{}}class ps{constructor(c,u,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function go(a,c,u){let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const y=u[f++],C=u[f++],D=u[f++];a.setAttribute(c,C,D,y)}else{const y=g,C=u[++f];ld(y)?a.setProperty(c,y,C):a.setAttribute(c,y,C),f++}}return f}function ac(a){return 3===a||4===a||6===a}function ld(a){return 64===a.charCodeAt(0)}function lc(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let f=0;f<c.length;f++){const g=c[f];"number"==typeof g?u=g:0===u||Oh(a,u,g,null,-1===u||2===u?c[++f]:null)}}return a}function Oh(a,c,u,f,g){let y=0,C=a.length;if(-1===c)C=-1;else for(;y<a.length;){const D=a[y++];if("number"==typeof D){if(D===c){C=-1;break}if(D>c){C=y-1;break}}}for(;y<a.length;){const D=a[y];if("number"==typeof D)break;if(D===u){if(null===f)return void(null!==g&&(a[y+1]=g));if(f===a[y+1])return void(a[y+2]=g)}y++,null!==f&&y++,null!==g&&y++}-1!==C&&(a.splice(C,0,c),y=C+1),a.splice(y++,0,u),null!==f&&a.splice(y++,0,f),null!==g&&a.splice(y++,0,g)}function dp(a){return-1!==a}function Vi(a){return 32767&a}function Uo(a,c){let u=function hp(a){return a>>16}(a),f=c;for(;u>0;)f=f[15],u--;return f}let cd=!0;function cc(a){const c=cd;return cd=a,c}let Ph=0;const ts={};function mo(a,c){const u=eu(a,c);if(-1!==u)return u;const f=c[1];f.firstCreatePass&&(a.injectorIndex=c.length,ud(f.data,a),ud(c,null),ud(f.blueprint,null));const g=uc(a,c),y=a.injectorIndex;if(dp(g)){const C=Vi(g),D=Uo(g,c),T=D[1].data;for(let F=0;F<8;F++)c[y+F]=D[C+F]|T[C+F]}return c[y+8]=g,y}function ud(a,c){a.push(0,0,0,0,0,0,0,0,c)}function eu(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function uc(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,g=c;for(;null!==g;){if(f=fl(g),null===f)return-1;if(u++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function fa(a,c,u){!function Fh(a,c,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(he)&&(f=u[he]),null==f&&(f=u[he]=Ph++);const g=255&f;c.data[a+(g>>5)]|=1<<g}(a,c,u)}function ll(a,c,u){if(u&yt.Optional||void 0!==a)return a;Le()}function pa(a,c,u,f){if(u&yt.Optional&&void 0===f&&(f=null),0==(u&(yt.Self|yt.Host))){const g=a[9],y=Gn(void 0);try{return g?g.get(c,f,u&yt.Optional):ur(c,f,u&yt.Optional)}finally{Gn(y)}}return ll(f,0,u)}function cl(a,c,u,f=yt.Default,g){if(null!==a){if(1024&c[2]){const C=function gp(a,c,u,f,g){let y=a,C=c;for(;null!==y&&null!==C&&1024&C[2]&&!(256&C[2]);){const D=Nh(y,C,u,f|yt.Self,ts);if(D!==ts)return D;let T=y.parent;if(!T){const F=C[21];if(F){const U=F.get(u,ts,f);if(U!==ts)return U}T=fl(C),C=C[15]}y=T}return g}(a,c,u,f,ts);if(C!==ts)return C}const y=Nh(a,c,u,f,ts);if(y!==ts)return y}return pa(c,u,f,g)}function Nh(a,c,u,f,g){const y=function pp(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(he)?a[he]:void 0;return"number"==typeof c?c>=0?255&c:dd:c}(u);if("function"==typeof y){if(!Ih(c,a,f))return f&yt.Host?ll(g,0,f):pa(c,u,f,g);try{const C=y(f);if(null!=C||f&yt.Optional)return C;Le()}finally{Ah()}}else if("number"==typeof y){let C=null,D=eu(a,c),T=-1,F=f&yt.Host?c[16][6]:null;for((-1===D||f&yt.SkipSelf)&&(T=-1===D?uc(a,c):c[D+8],-1!==T&&nu(f,!1)?(C=c[1],D=Vi(T),c=Uo(T,c)):D=-1);-1!==D;){const U=c[1];if(ul(y,D,U.data)){const Y=tu(D,c,u,C,f,F);if(Y!==ts)return Y}T=c[D+8],-1!==T&&nu(f,c[1].data[D+8]===F)&&ul(y,D,c)?(C=U,D=Vi(T),c=Uo(T,c)):D=-1}}return g}function tu(a,c,u,f,g,y){const C=c[1],D=C.data[a+8],U=hc(D,C,u,null==f?$l(D)&&cd:f!=C&&0!=(3&D.type),g&yt.Host&&y===D);return null!==U?Zs(c,C,U,D):ts}function hc(a,c,u,f,g){const y=a.providerIndexes,C=c.data,D=1048575&y,T=a.directiveStart,U=y>>20,_e=g?D+U:a.directiveEnd;for(let Re=f?D:D+U;Re<_e;Re++){const ze=C[Re];if(Re<T&&u===ze||Re>=T&&ze.type===u)return Re}if(g){const Re=C[T];if(Re&&Xr(Re)&&Re.type===u)return T}return null}function Zs(a,c,u,f){let g=a[u];const y=c.data;if(function ad(a){return a instanceof ps}(g)){const C=g;C.resolving&&function ke(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new xe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function re(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ee(a)}(y[u]));const D=cc(C.canSeeViewProviders);C.resolving=!0;const T=C.injectImpl?Gn(C.injectImpl):null;Ih(a,f,yt.Default);try{g=a[u]=C.factory(void 0,y,a,f),c.firstCreatePass&&u>=f.directiveStart&&function Th(a,c,u){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:y}=c.type.prototype;if(f){const C=bh(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,C),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,C)}g&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,g),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],c)}finally{null!==T&&Gn(T),cc(D),C.resolving=!1,Ah()}}return g}function ul(a,c,u){return!!(u[c+(a>>5)]&1<<a)}function nu(a,c){return!(a&yt.Self||a&yt.Host&&c)}class dl{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,f){return cl(this._tNode,this._lView,c,f,u)}}function dd(){return new dl(Li(),Ye())}function jo(a){return Xn(()=>{const c=a.prototype.constructor,u=c[be]||hl(c),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const y=g[be]||hl(g);if(y&&y!==u)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function hl(a){return Oe(a)?()=>{const c=hl(se(a));return c&&c()}:fr(a)}function fl(a){const c=a[1],u=c.type;return 2===u?c.declTNode:1===u?a[6]:null}function iu(a){return function dc(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const f=u.length;let g=0;for(;g<f;){const y=u[g];if(ac(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<f&&"string"==typeof u[g];)g++;else{if(y===c)return u[g+1];g+=2}}}return null}(Li(),a)}const pl="__parameters__";function ml(a,c,u){return Xn(()=>{const f=function hd(a){return function(...u){if(a){const f=a(...u);for(const g in f)this[g]=f[g]}}}(c);function g(...y){if(this instanceof g)return f.apply(this,y),this;const C=new g(...y);return D.annotation=C,D;function D(T,F,U){const Y=T.hasOwnProperty(pl)?T[pl]:Object.defineProperty(T,pl,{value:[]})[pl];for(;Y.length<=U;)Y.push(null);return(Y[U]=Y[U]||[]).push(C),T}}return u&&(g.prototype=Object.create(u.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class ti{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Dn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ki(a,c){void 0===c&&(c=a);for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?(c===a&&(c=a.slice(0,u)),ki(f,c)):c!==a&&c.push(f)}return c}function Ks(a,c){a.forEach(u=>Array.isArray(u)?Ks(u,c):c(u))}function fc(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function ks(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function ma(a,c){const u=[];for(let f=0;f<a;f++)u.push(c);return u}function ns(a,c,u){let f=gs(a,c);return f>=0?a[1|f]=u:(f=~f,function ya(a,c,u,f){let g=a.length;if(g==c)a.push(u,f);else if(1===g)a.push(f,a[0]),a[0]=u;else{for(g--,a.push(a[g-1],a[g]);g>c;)a[g]=a[g-2],g--;a[c]=u,a[c+1]=f}}(a,f,c,u)),f}function bl(a,c){const u=gs(a,c);if(u>=0)return a[1|u]}function gs(a,c){return function wl(a,c,u){let f=0,g=a.length>>u;for(;g!==f;){const y=f+(g-f>>1),C=a[y<<u];if(c===C)return y<<u;C>c?g=y:f=y+1}return~(g<<u)}(a,c,1)}const gc={},pd="__NG_DI_FLAG__",Cl="ngTempTokenPath",gd=/\n/gm,bp="__source";let xl;function Go(a){const c=xl;return xl=a,c}function Vm(a,c=yt.Default){if(void 0===xl)throw new xe(-203,!1);return null===xl?ur(a,void 0,c):xl.get(a,c&yt.Optional?null:void 0,c)}function Ui(a,c=yt.Default){return(function bi(){return nr}()||Vm)(se(a),c)}function R(a,c=yt.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Ui(a,c)}function P(a){const c=[];for(let u=0;u<a.length;u++){const f=se(a[u]);if(Array.isArray(f)){if(0===f.length)throw new xe(900,!1);let g,y=yt.Default;for(let C=0;C<f.length;C++){const D=f[C],T=ie(D);"number"==typeof T?-1===T?g=D.token:y|=T:g=D}c.push(Ui(g,y))}else c.push(Ui(f))}return c}function V(a,c){return a[pd]=c,a.prototype[pd]=c,a}function ie(a){return a[pd]}const ft=V(ml("Optional"),8),Wt=V(ml("SkipSelf"),4);let Um,Cp;function XE(a){Um=a}function _d(a){return function jm(){if(void 0===Cp&&(Cp=null,en.trustedTypes))try{Cp=en.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Cp}()?.createHTML(a)||a}class bc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Dp extends bc{getTypeName(){return"HTML"}}class ix extends bc{getTypeName(){return"Style"}}class eb extends bc{getTypeName(){return"Script"}}class rx extends bc{getTypeName(){return"URL"}}class Hm extends bc{getTypeName(){return"ResourceURL"}}function Al(a){return a instanceof bc?a.changingThisBreaksApplicationSecurity:a}function lu(a,c){const u=function tb(a){return a instanceof bc&&a.getTypeName()||null}(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function sx(a){return new Dp(a)}function ox(a){return new ix(a)}function ax(a){return new eb(a)}function lx(a){return new rx(a)}function x(a){return new Hm(a)}class w{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(_d(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class A{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=_d(c),u;const f=this.inertDocument.createElement("body");return f.innerHTML=_d(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(c){const u=c.attributes;for(let g=u.length-1;0<g;g--){const C=u.item(g).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&c.removeAttribute(C)}let f=c.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const q=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Me(a){return(a=String(a)).match(q)?a:"unsafe:"+a}function qe(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function mt(...a){const c={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(c[f]=!0);return c}const Lt=qe("area,br,col,hr,img,wbr"),fn=qe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gi=qe("rp,rt"),Ip=mt(Lt,mt(fn,qe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mt(gi,qe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mt(gi,fn)),Bh=qe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ap=mt(Bh,qe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nb=qe("script,style,template");class ib{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let g=this.checkClobberedElement(u,u.nextSibling);if(g){u=g;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Ip.hasOwnProperty(u))return this.sanitizedSomething=!0,!nb.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=c.attributes;for(let g=0;g<f.length;g++){const y=f.item(g),C=y.name,D=C.toLowerCase();if(!Ap.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=y.value;Bh[D]&&(T=Me(T)),this.buf.push(" ",C,'="',sb(T),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Ip.hasOwnProperty(u)&&!Lt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(sb(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const zm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rb=/([^\#-~ |!])/g;function sb(a){return a.replace(/&/g,"&amp;").replace(zm,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(rb,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vd;function ob(a,c){let u=null;try{vd=vd||function _(a){const c=new A(a);return function B(){try{return!!(new window.DOMParser).parseFromString(_d(""),"text/html")}catch{return!1}}()?new w(c):c}(a);let f=c?String(c):"";u=vd.getInertBodyElement(f);let g=5,y=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=y,y=u.innerHTML,u=vd.getInertBodyElement(f)}while(f!==y);return _d((new ib).sanitizeChildren(dx(u)||u))}finally{if(u){const f=dx(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function dx(a){return"content"in a&&function RB(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function hx(a){const c=function qm(){const a=Ye();return a&&a[12]}();return c?c.sanitize(yr.URL,a)||"":lu(a,"URL")?Al(a):Me(ee(a))}const ab=new ti("ENVIRONMENT_INITIALIZER"),Sp=new ti("INJECTOR",-1),qi=new ti("INJECTOR_DEF_TYPES");class Tp{get(c,u=gc){if(u===gc){const f=new Error(`NullInjectorError: No provider for ${X(c)}!`);throw f.name="NullInjectorError",f}return u}}function Lr(...a){return{\u0275providers:or(0,a)}}function or(a,...c){const u=[],f=new Set;let g;return Ks(c,y=>{const C=y;Oi(C,u,[],f)&&(g||(g=[]),g.push(C))}),void 0!==g&&Mp(g,u),u}function Mp(a,c){for(let u=0;u<a.length;u++){const{providers:g}=a[u];Ks(g,y=>{c.push(y)})}}function Oi(a,c,u,f){if(!(a=se(a)))return!1;let g=null,y=Hs(a);const C=!y&&ue(a);if(y||C){if(C&&!C.standalone)return!1;g=a}else{const T=a.ngModule;if(y=Hs(T),!y)return!1;g=T}const D=f.has(g);if(C){if(D)return!1;if(f.add(g),C.dependencies){const T="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const F of T)Oi(F,c,u,f)}}else{if(!y)return!1;{if(null!=y.imports&&!D){let F;f.add(g);try{Ks(y.imports,U=>{Oi(U,c,u,f)&&(F||(F=[]),F.push(U))})}finally{}void 0!==F&&Mp(F,c)}if(!D){const F=fr(g)||(()=>new g);c.push({provide:g,useFactory:F,deps:qt},{provide:qi,useValue:g,multi:!0},{provide:ab,useValue:()=>Ui(g),multi:!0})}const T=y.providers;null==T||D||Ks(T,U=>{c.push(U)})}}return g!==a&&void 0!==a.providers}const ms=K({provide:String,useValue:K});function Ln(a){return null!==a&&"object"==typeof a&&ms in a}function Tl(a){return"function"==typeof a}const wc=new ti("Set Injector scope."),Zm={},Br={};let di;function va(){return void 0===di&&(di=new Tp),di}class bd{}class Rp extends bd{constructor(c,u,f,g){super(),this.parent=u,this.source=f,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cb(c,C=>this.processProvider(C)),this.records.set(Sp,wd(void 0,this)),g.has("environment")&&this.records.set(bd,wd(void 0,this));const y=this.records.get(wc);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(qi.multi,qt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=Go(this),f=Gn(void 0);try{return c()}finally{Go(u),Gn(f)}}get(c,u=gc,f=yt.Default){this.assertNotDestroyed();const g=Go(this),y=Gn(void 0);try{if(!(f&yt.SkipSelf)){let D=this.records.get(c);if(void 0===D){const T=function Ym(a){return"function"==typeof a||"object"==typeof a&&a instanceof ti}(c)&&Kn(c);D=T&&this.injectableDefInScope(T)?wd(Wi(c),Zm):null,this.records.set(c,D)}if(null!=D)return this.hydrate(c,D)}return(f&yt.Self?va():this.parent).get(c,u=f&yt.Optional&&u===gc?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[Cl]=C[Cl]||[]).unshift(X(c)),g)throw C;return function Ie(a,c,u,f){const g=a[Cl];throw c[bp]&&g.unshift(c[bp]),a.message=function Pe(a,c,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let g=X(c);if(Array.isArray(c))g=c.map(X).join(" -> ");else if("object"==typeof c){let y=[];for(let C in c)if(c.hasOwnProperty(C)){let D=c[C];y.push(C+":"+("string"==typeof D?JSON.stringify(D):X(D)))}g=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${g}]: ${a.replace(gd,"\n  ")}`}("\n"+a.message,g,u,f),a.ngTokenPath=g,a[Cl]=null,a}(C,c,"R3InjectorError",this.source)}throw C}finally{Gn(y),Go(g)}}resolveInjectorInitializers(){const c=Go(this),u=Gn(void 0);try{const f=this.get(ab.multi,qt,yt.Self);for(const g of f)g()}finally{Go(c),Gn(u)}}toString(){const c=[],u=this.records;for(const f of u.keys())c.push(X(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let u=Tl(c=se(c))?c:se(c&&c.provide);const f=function VB(a){return Ln(a)?wd(void 0,a.useValue):wd(Vr(a),Zm)}(c);if(Tl(c)||!0!==c.multi)this.records.get(u);else{let g=this.records.get(u);g||(g=wd(void 0,Zm,!0),g.factory=()=>P(g.multi),this.records.set(u,g)),u=c,g.multi.push(c)}this.records.set(u,f)}hydrate(c,u){return u.value===Zm&&(u.value=Br,u.value=u.factory()),"object"==typeof u.value&&u.value&&function lb(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=se(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Wi(a){const c=Kn(a),u=null!==c?c.factory:fr(a);if(null!==u)return u;if(a instanceof ti)throw new xe(204,!1);if(a instanceof Function)return function Cc(a){const c=a.length;if(c>0)throw ma(c,"?"),new xe(204,!1);const u=function qn(a){const c=a&&(a[Kr]||a[$s]);if(c){const u=function so(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new xe(204,!1)}function Vr(a,c,u){let f;if(Tl(a)){const g=se(a);return fr(g)||Wi(g)}if(Ln(a))f=()=>se(a.useValue);else if(function Vh(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...P(a.deps||[]));else if(function Wm(a){return!(!a||!a.useExisting)}(a))f=()=>Ui(se(a.useExisting));else{const g=se(a&&(a.useClass||a.provide));if(!function J1(a){return!!a.deps}(a))return fr(g)||Wi(g);f=()=>new g(...P(a.deps))}return f}function wd(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function X1(a){return!!a.\u0275providers}function cb(a,c){for(const u of a)Array.isArray(u)?cb(u,c):X1(u)?cb(u.\u0275providers,c):c(u)}class fx{}class tM{resolveComponentFactory(c){throw function px(a){const c=Error(`No component factory found for ${X(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let Cd=(()=>{class a{}return a.NULL=new tM,a})();function mx(){return Uh(Li(),Ye())}function Uh(a,c){return new Ur(pr(a,c))}let Ur=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=mx,a})();function nM(a){return a instanceof Ur?a.nativeElement:a}class jh{}let rM=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Km(){const a=Ye(),u=Tn(Li().index,a);return(Ni(u)?u:a)[11]}(),a})(),Co=(()=>{class a{}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:()=>null}),a})();class sM{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ub=new sM("14.2.7"),uu={};function pb(a){return a.ngOriginalError}class Qm{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&pb(c);for(;u&&pb(u);)u=pb(u);return u||null}}const Xm=new Map;let vx=0;const Cx="__ngContext__";function Os(a,c){Ni(c)?(a[Cx]=c[20],function EM(a){Xm.set(a[20],a)}(c)):a[Cx]=c}function Js(a){return a instanceof Function?a():a}var mi=(()=>((mi=mi||{})[mi.Important=1]="Important",mi[mi.DashCase=2]="DashCase",mi))();function Ho(a,c){return undefined(a,c)}function ba(a){const c=a[3];return cs(c)?c[3]:c}function vb(a){return wb(a[13])}function bb(a){return wb(a[4])}function wb(a){for(;null!==a&&!cs(a);)a=a[4];return a}function Gh(a,c,u,f,g){if(null!=f){let y,C=!1;cs(f)?y=f:Ni(f)&&(C=!0,f=f[0]);const D=pi(f);0===a&&null!==u?null==g?Fx(c,u,D):xd(c,u,D,g||null,!0):1===a&&null!==u?xd(c,u,D,g||null,!0):2===a?function WM(a,c,u){const f=ry(a,c);f&&function Nx(a,c,u,f){a.removeChild(c,u,f)}(a,f,c,u)}(c,D,C):3===a&&c.destroyNode(D),null!=y&&function Hh(a,c,u,f,g){const y=u[7];y!==pi(u)&&Gh(c,a,f,y,g);for(let D=10;D<u.length;D++){const T=u[D];Op(T[1],T,a,c,f,y)}}(c,a,y,u,g)}}function Rx(a,c,u){return a.createElement(c,u)}function Ox(a,c){const u=a[9],f=u.indexOf(c),g=c[3];512&c[2]&&(c[2]&=-513,wi(g,-1)),u.splice(f,1)}function Eb(a,c){if(a.length<=10)return;const u=10+c,f=a[u];if(f){const g=f[17];null!==g&&g!==a&&Ox(g,f),c>0&&(a[u-1][4]=f[4]);const y=ks(a,10+c);!function BM(a,c){Op(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const C=y[19];null!==C&&C.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function kp(a,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&Op(a,c,u,3,null,null),function kx(a){let c=a[13];if(!c)return xb(a[1],a);for(;c;){let u=null;if(Ni(c))u=c[13];else{const f=c[10];f&&(u=f)}if(!u){for(;c&&!c[4]&&c!==a;)Ni(c)&&xb(c[1],c),c=c[3];null===c&&(c=a),Ni(c)&&xb(c[1],c),u=c&&c[4]}c=u}}(c)}}function xb(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function jM(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const g=c[u[f]];if(!(g instanceof ps)){const y=u[f+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const D=g[y[C]],T=y[C+1];try{T.call(D)}finally{}}else try{y.call(g)}finally{}}}}(a,c),function UM(a,c){const u=a.cleanup,f=c[7];let g=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const C=u[y+1],D="function"==typeof C?C(c):pi(c[C]),T=f[g=u[y+2]],F=u[y+3];"boolean"==typeof F?D.removeEventListener(u[y],T,F):F>=0?f[g=F]():f[g=-F].unsubscribe(),y+=2}else{const C=f[g=u[y+1]];u[y].call(C)}if(null!==f){for(let y=g+1;y<f.length;y++)(0,f[y])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&cs(c[3])){u!==c[3]&&Ox(u,c);const f=c[19];null!==f&&f.detachView(a)}!function xM(a){Xm.delete(a[20])}(c)}}function GM(a,c,u){return function Px(a,c,u){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return u[0];if(2&f.flags){const g=a.data[f.directiveStart].encapsulation;if(g===Rt.None||g===Rt.Emulated)return null}return pr(f,u)}(a,c.parent,u)}function xd(a,c,u,f,g){a.insertBefore(c,u,f,g)}function Fx(a,c,u){a.appendChild(c,u)}function Db(a,c,u,f,g){null!==f?xd(a,c,u,f,g):Fx(a,c,u)}function ry(a,c){return a.parentNode(c)}function Lx(a,c,u){return $M(a,c,u)}let $M=function $o(a,c,u){return 40&a.type?pr(a,u):null};function Ib(a,c,u,f){const g=GM(a,f,c),y=c[11],D=Lx(f.parent||c[6],f,c);if(null!=g)if(Array.isArray(u))for(let T=0;T<u.length;T++)Db(y,g,u[T],D,!1);else Db(y,g,u,D,!1)}function Ab(a,c){if(null!==c){const u=c.type;if(3&u)return pr(c,a);if(4&u)return Bx(-1,a[c.index]);if(8&u){const f=c.child;if(null!==f)return Ab(a,f);{const g=a[c.index];return cs(g)?Bx(-1,g):pi(g)}}if(32&u)return Ho(c,a)()||pi(a[c.index]);{const f=qM(a,c);return null!==f?Array.isArray(f)?f[0]:Ab(ba(a[16]),f):Ab(a,c.next)}}return null}function qM(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Bx(a,c){const u=10+a+1;if(u<c.length){const f=c[u],g=f[1].firstChild;if(null!==g)return Ab(f,g)}return c[7]}function Sb(a,c,u,f,g,y,C){for(;null!=u;){const D=f[u.index],T=u.type;if(C&&0===c&&(D&&Os(pi(D),f),u.flags|=4),64!=(64&u.flags))if(8&T)Sb(a,c,u.child,f,g,y,!1),Gh(c,a,g,D,y);else if(32&T){const F=Ho(u,f);let U;for(;U=F();)Gh(c,a,g,U,y);Gh(c,a,g,D,y)}else 16&T?Vx(a,c,f,u,g,y):Gh(c,a,g,D,y);u=C?u.projectionNext:u.next}}function Op(a,c,u,f,g,y){Sb(u,f,a.firstChild,c,g,y,!1)}function Vx(a,c,u,f,g,y){const C=u[16],T=C[6].projection[f.projection];if(Array.isArray(T))for(let F=0;F<T.length;F++)Gh(c,a,g,T[F],y);else Sb(a,c,T,C[3],g,y,!0)}function ZM(a,c,u){a.setAttribute(c,"style",u)}function Ux(a,c,u){""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u)}function YM(a,c,u){let f=a.length;for(;;){const g=a.indexOf(c,u);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const y=c.length;if(g+y===f||a.charCodeAt(g+y)<=32)return g}u=g+1}}const KM="ng-template";function KB(a,c,u){let f=0;for(;f<a.length;){let g=a[f++];if(u&&"class"===g){if(g=a[f],-1!==YM(g.toLowerCase(),c,0))return!0}else if(1===g){for(;f<a.length&&"string"==typeof(g=a[f++]);)if(g.toLowerCase()===c)return!0;return!1}}return!1}function QM(a){return 4===a.type&&a.value!==KM}function QB(a,c,u){return c===(4!==a.type||u?a.value:KM)}function jx(a,c,u){let f=4;const g=a.attrs||[],y=function eV(a){for(let c=0;c<a.length;c++)if(ac(a[c]))return c;return a.length}(g);let C=!1;for(let D=0;D<c.length;D++){const T=c[D];if("number"!=typeof T){if(!C)if(4&f){if(f=2|1&f,""!==T&&!QB(a,T,u)||""===T&&1===c.length){if(zo(f))return!1;C=!0}}else{const F=8&f?T:c[++D];if(8&f&&null!==a.attrs){if(!KB(a.attrs,F,u)){if(zo(f))return!1;C=!0}continue}const Y=JB(8&f?"class":T,g,QM(a),u);if(-1===Y){if(zo(f))return!1;C=!0;continue}if(""!==F){let _e;_e=Y>y?"":g[Y+1].toLowerCase();const Re=8&f?_e:null;if(Re&&-1!==YM(Re,F,0)||2&f&&F!==_e){if(zo(f))return!1;C=!0}}}}else{if(!C&&!zo(f)&&!zo(T))return!1;if(C&&zo(T))continue;C=!1,f=T|1&f}}return zo(f)||C}function zo(a){return 0==(1&a)}function JB(a,c,u,f){if(null===c)return-1;let g=0;if(f||!u){let y=!1;for(;g<c.length;){const C=c[g];if(C===a)return g;if(3===C||6===C)y=!0;else{if(1===C||2===C){let D=c[++g];for(;"string"==typeof D;)D=c[++g];continue}if(4===C)break;if(0===C){g+=4;continue}}g+=y?1:2}return-1}return function tV(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===c)return u;u++}return-1}(c,a)}function JM(a,c,u=!1){for(let f=0;f<c.length;f++)if(jx(a,c[f],u))return!0;return!1}function nV(a,c){e:for(let u=0;u<c.length;u++){const f=c[u];if(a.length===f.length){for(let g=0;g<a.length;g++)if(a[g]!==f[g])continue e;return!0}}return!1}function sy(a,c){return a?":not("+c.trim()+")":c}function Tb(a){let c=a[0],u=1,f=2,g="",y=!1;for(;u<a.length;){let C=a[u];if("string"==typeof C)if(2&f){const D=a[++u];g+="["+C+(D.length>0?'="'+D+'"':"")+"]"}else 8&f?g+="."+C:4&f&&(g+=" "+C);else""!==g&&!zo(C)&&(c+=sy(y,g),g=""),f=C,y=y||!zo(f);u++}return""!==g&&(c+=sy(y,g)),c}const on={};function eR(a){Gx(gn(),Ye(),ci()+a,!1)}function Gx(a,c,u,f){if(!f)if(3==(3&c[2])){const y=a.preOrderCheckHooks;null!==y&&rl(c,y,u)}else{const y=a.preOrderHooks;null!==y&&sl(c,y,0,u)}po(u)}function Hx(a,c=null,u=null,f){const g=rR(a,c,u,f);return g.resolveInjectorInitializers(),g}function rR(a,c=null,u=null,f,g=new Set){const y=[u||qt,Lr(a)];return f=f||("object"==typeof a?void 0:X(a)),new Rp(y,c||va(),f||null,g)}let Id=(()=>{class a{static create(u,f){if(Array.isArray(u))return Hx({name:""},f,u,"");{const g=u.name??"";return Hx({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=gc,a.NULL=new Tp,a.\u0275prov=Dn({token:a,providedIn:"any",factory:()=>Ui(Sp)}),a.__NG_ELEMENT_ID__=-1,a})();function Np(a,c=yt.Default){const u=Ye();return null===u?Ui(a,c):cl(Li(),u,se(a),c)}function dR(){throw new Error("invalid")}function ly(a,c){return a<<17|c<<2}function qo(a){return a>>17&32767}function Ob(a){return 2|a}function Wo(a){return(131068&a)>>2}function Qx(a,c){return-131069&a|c<<2}function Lp(a){return 1|a}function bR(a,c){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const g=u[f],y=u[f+1];if(-1!==y){const C=a.data[y];td(g),C.contentQueries(2,c[y],y)}}}function fy(a,c,u,f,g,y,C,D,T,F,U){const Y=c.blueprint.slice();return Y[0]=g,Y[2]=76|f,(null!==U||a&&1024&a[2])&&(Y[2]|=1024),Yl(Y),Y[3]=Y[15]=a,Y[8]=u,Y[10]=C||a&&a[10],Y[11]=D||a&&a[11],Y[12]=T||a&&a[12]||null,Y[9]=F||a&&a[9]||null,Y[6]=y,Y[20]=function CM(){return vx++}(),Y[21]=U,Y[16]=2==c.type?a[16]:Y,Y}function Rd(a,c,u,f,g){let y=a.data[c];if(null===y)y=function Lb(a,c,u,f,g){const y=el(),C=Kc(),T=a.data[c]=function IV(a,c,u,f,g,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,u,c,f,g);return null===a.firstChild&&(a.firstChild=T),null!==y&&(C?null==y.child&&null!==T.parent&&(y.child=T):null===y.next&&(y.next=T)),T}(a,c,u,f,g),function xh(){return Kt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=f,y.attrs=g;const C=function Yc(){const a=Kt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();y.injectorIndex=null===C?-1:C.injectorIndex}return Nr(y,!0),y}function pu(a,c,u,f){if(0===u)return-1;const g=c.length;for(let y=0;y<u;y++)c.push(f),a.blueprint.push(f),a.data.push(null);return g}function py(a,c,u){il(c);try{const f=a.viewQuery;null!==f&&Zh(1,f,u);const g=a.template;null!==g&&aD(a,c,g,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&bR(a,c),a.staticViewQueries&&Zh(2,a.viewQuery,u);const y=a.components;null!==y&&function EV(a,c){for(let u=0;u<c.length;u++)TR(a,c[u])}(c,y)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{c[2]&=-5,Bo()}}function Up(a,c,u,f){const g=c[2];if(128!=(128&g)){il(c);try{Yl(c),function tc(a){return Kt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&aD(a,c,u,2,f);const C=3==(3&g);if(C){const F=a.preOrderCheckHooks;null!==F&&rl(c,F,null)}else{const F=a.preOrderHooks;null!==F&&sl(c,F,0,null),Mh(c,0)}if(function Gb(a){for(let c=vb(a);null!==c;c=bb(c)){if(!c[2])continue;const u=c[9];for(let f=0;f<u.length;f++){const g=u[f],y=g[3];0==(512&g[2])&&wi(y,1),g[2]|=512}}}(c),function pD(a){for(let c=vb(a);null!==c;c=bb(c))for(let u=10;u<c.length;u++){const f=c[u],g=f[1];Lo(f)&&Up(g,f,g.template,f[8])}}(c),null!==a.contentQueries&&bR(a,c),C){const F=a.contentCheckHooks;null!==F&&rl(c,F)}else{const F=a.contentHooks;null!==F&&sl(c,F,1),Mh(c,1)}!function CV(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const g=u[f];if(g<0)po(~g);else{const y=g,C=u[++f],D=u[++f];Dh(C,y),D(2,c[y])}}}finally{po(-1)}}(a,c);const D=a.components;null!==D&&function Vp(a,c){for(let u=0;u<c.length;u++)SR(a,c[u])}(c,D);const T=a.viewQuery;if(null!==T&&Zh(2,T,f),C){const F=a.viewCheckHooks;null!==F&&rl(c,F)}else{const F=a.viewHooks;null!==F&&sl(c,F,2),Mh(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,wi(c[3],-1))}finally{Bo()}}}function aD(a,c,u,f,g){const y=ci(),C=2&f;try{po(-1),C&&c.length>22&&Gx(a,c,22,!1),u(f,g)}finally{po(y)}}function lD(a,c,u){if(Po(c)){const g=c.directiveEnd;for(let y=c.directiveStart;y<g;y++){const C=a.data[y];C.contentQueries&&C.contentQueries(1,u[y],y)}}}function Bb(a,c,u){!da()||(function Dc(a,c,u,f){const g=u.directiveStart,y=u.directiveEnd;a.firstCreatePass||mo(u,c),Os(f,c);const C=u.initialInputs;for(let D=g;D<y;D++){const T=a.data[D],F=Xr(T);F&&MV(c,u,T);const U=Zs(c,a,D,u);Os(U,c),null!==C&&fD(0,D-g,U,T,0,C),F&&(Tn(u.index,c)[8]=U)}}(a,c,u,pr(u,c)),128==(128&u.flags)&&function Ub(a,c,u){const f=u.directiveStart,g=u.directiveEnd,y=u.index,C=function op(){return Kt.lFrame.currentDirectiveIndex}();try{po(y);for(let D=f;D<g;D++){const T=a.data[D],F=c[D];nl(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Od(T,F)}}finally{po(-1),nl(C)}}(a,c,u))}function kd(a,c,u=pr){const f=c.localNames;if(null!==f){let g=c.index+1;for(let y=0;y<f.length;y+=2){const C=f[y+1],D=-1===C?u(c,a):a[C];a[g++]=D}}}function gy(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=cD(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function cD(a,c,u,f,g,y,C,D,T,F){const U=22+f,Y=U+g,_e=function xV(a,c){const u=[];for(let f=0;f<c;f++)u.push(f<a?null:on);return u}(U,Y),Re="function"==typeof F?F():F;return _e[1]={type:a,blueprint:_e,template:u,queries:null,viewQuery:D,declTNode:c,data:_e.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:T,consts:Re,incompleteFirstPass:!1}}function wR(a,c,u,f){const g=$b(c);null===u?g.push(f):(g.push(u),a.firstCreatePass&&RR(a).push(f,g.length-1))}function CR(a,c,u){for(let f in a)if(a.hasOwnProperty(f)){const g=a[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(c,g):u[f]=[c,g]}return u}function ER(a,c){const f=c.directiveEnd,g=a.data,y=c.attrs,C=[];let D=null,T=null;for(let F=c.directiveStart;F<f;F++){const U=g[F],Y=U.inputs,_e=null===y||QM(c)?null:RV(Y,y);C.push(_e),D=CR(Y,F,D),T=CR(U.outputs,F,T)}null!==D&&(D.hasOwnProperty("class")&&(c.flags|=16),D.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=C,c.inputs=D,c.outputs=T}function Zo(a,c,u,f,g,y,C,D){const T=pr(c,u);let U,F=c.inputs;!D&&null!=F&&(U=F[f])?(zb(a,u,U,f,g),$l(c)&&xR(u,c.index)):3&c.type&&(f=function AV(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=C?C(g,c.value||"",f):g,y.setProperty(T,f,g))}function xR(a,c){const u=Tn(c,a);16&u[2]||(u[2]|=32)}function uD(a,c,u,f){let g=!1;if(da()){const y=function dD(a,c,u){const f=a.directiveRegistry;let g=null;if(f)for(let y=0;y<f.length;y++){const C=f[y];JM(u,C.selectors,!1)&&(g||(g=[]),fa(mo(u,c),a,C.type),Xr(C)?(jb(a,u),g.unshift(C)):g.push(C))}return g}(a,c,u),C=null===f?null:{"":-1};if(null!==y){g=!0,IR(u,a.data.length,y.length);for(let U=0;U<y.length;U++){const Y=y[U];Y.providersResolver&&Y.providersResolver(Y)}let D=!1,T=!1,F=pu(a,c,y.length,null);for(let U=0;U<y.length;U++){const Y=y[U];u.mergedAttrs=lc(u.mergedAttrs,Y.hostAttrs),Pd(a,u,c,F,Y),qh(F,Y,C),null!==Y.contentQueries&&(u.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(u.flags|=128);const _e=Y.type.prototype;!D&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),D=!0),!T&&(_e.ngOnChanges||_e.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),F++}ER(a,u)}C&&function Eo(a,c,u){if(c){const f=a.localNames=[];for(let g=0;g<c.length;g+=2){const y=u[c[g+1]];if(null==y)throw new xe(-301,!1);f.push(c[g],y)}}}(u,f,C)}return u.mergedAttrs=lc(u.mergedAttrs,u.attrs),g}function Vb(a,c,u,f,g,y){const C=y.hostBindings;if(C){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const T=~c.index;(function DR(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(D)!=T&&D.push(T),D.push(f,g,C)}}function Od(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function jb(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function qh(a,c,u){if(u){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)u[c.exportAs[f]]=a;Xr(c)&&(u[""]=a)}}function IR(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}function Pd(a,c,u,f,g){a.data[f]=g;const y=g.factory||(g.factory=fr(g.type)),C=new ps(y,Xr(g),Np);a.blueprint[f]=C,u[f]=C,Vb(a,c,0,f,pu(a,u,g.hostVars,on),g)}function MV(a,c,u){const f=pr(c,a),g=gy(u),y=a[10],C=yy(a,fy(a,g,null,u.onPush?32:16,f,c,y,y.createRenderer(f,u),null,null,null));a[c.index]=C}function wa(a,c,u,f,g,y){const C=pr(a,c);!function hD(a,c,u,f,g,y,C){if(null==y)a.removeAttribute(c,g,u);else{const D=null==C?ee(y):C(y,f||"",g);a.setAttribute(c,g,D,u)}}(c[11],C,y,a.value,u,f,g)}function fD(a,c,u,f,g,y){const C=y[c];if(null!==C){const D=f.setInput;for(let T=0;T<C.length;){const F=C[T++],U=C[T++],Y=C[T++];null!==D?f.setInput(u,Y,F,U):u[U]=Y}}}function RV(a,c){let u=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===u&&(u=[]),u.push(g,a[g],c[f+1])),f+=2}else f+=2;else f+=4}return u}function Wh(a,c,u,f){return new Array(a,!0,!1,c,null,0,f,u,null,null)}function SR(a,c){const u=Tn(c,a);if(Lo(u)){const f=u[1];48&u[2]?Up(f,u,f.template,u[8]):u[5]>0&&gu(u)}}function gu(a){for(let f=vb(a);null!==f;f=bb(f))for(let g=10;g<f.length;g++){const y=f[g];if(Lo(y))if(512&y[2]){const C=y[1];Up(C,y,C.template,y[8])}else y[5]>0&&gu(y)}const u=a[1].components;if(null!==u)for(let f=0;f<u.length;f++){const g=Tn(u[f],a);Lo(g)&&g[5]>0&&gu(g)}}function TR(a,c){const u=Tn(c,a),f=u[1];(function my(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(f,u),py(f,u,u[8])}function yy(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Hb(a){for(;a;){a[2]|=32;const c=ba(a);if(Wu(a)&&!c)return a;a=c}return null}function mu(a,c,u,f=!0){const g=c[10];g.begin&&g.begin();try{Up(a,c,a.template,u)}catch(C){throw f&&mD(c,C),C}finally{g.end&&g.end()}}function Zh(a,c,u){td(0),c(a,u)}function $b(a){return a[7]||(a[7]=[])}function RR(a){return a.cleanup||(a.cleanup=[])}function gD(a,c,u){return(null===a||Xr(a))&&(u=function Ch(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[c.index])),u[11]}function mD(a,c){const u=a[9],f=u?u.get(Qm,null):null;f&&f.handleError(c)}function zb(a,c,u,f,g){for(let y=0;y<u.length;){const C=u[y++],D=u[y++],T=c[C],F=a.data[C];null!==F.setInput?F.setInput(T,g,f,D):T[D]=g}}function Yo(a,c,u){let f=u?a.styles:null,g=u?a.classes:null,y=0;if(null!==c)for(let C=0;C<c.length;C++){const D=c[C];"number"==typeof D?y=D:1==y?g=oe(g,D):2==y&&(f=oe(f,D+": "+c[++C]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=g:a.classesWithoutHost=g}function _y(a,c,u,f,g=!1){for(;null!==u;){const y=c[u.index];if(null!==y&&f.push(pi(y)),cs(y))for(let D=10;D<y.length;D++){const T=y[D],F=T[1].firstChild;null!==F&&_y(T[1],T,F,f)}const C=u.type;if(8&C)_y(a,c,u.child,f);else if(32&C){const D=Ho(u,c);let T;for(;T=D();)f.push(T)}else if(16&C){const D=qM(c,u);if(Array.isArray(D))f.push(...D);else{const T=ba(c[16]);_y(T[1],T,D,f,!0)}}u=g?u.projectionNext:u.next}return f}class vy{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return _y(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(cs(c)){const u=c[8],f=u?u.indexOf(this):-1;f>-1&&(Eb(c,f),ks(u,f))}this._attachedToViewContainer=!1}kp(this._lView[1],this._lView)}onDestroy(c){wR(this._lView[1],this._lView,null,c)}markForCheck(){Hb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){mu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iy(a,c){Op(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class qb extends vy{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;mu(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class yD extends Cd{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=ue(c);return new jp(u,this.ngModule)}}function kR(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class PR{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,f){const g=this.injector.get(c,uu,f);return g!==uu||u===uu?g:this.parentInjector.get(c,u,f)}}class jp extends fx{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function oy(a){return a.map(Tb).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return kR(this.componentDef.inputs)}get outputs(){return kR(this.componentDef.outputs)}create(c,u,f,g){let y=(g=g||this.ngModule)instanceof bd?g:g?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const C=y?new PR(c,y):c,D=C.get(jh,null);if(null===D)throw new xe(407,!1);const T=C.get(Co,null),F=D.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",Y=f?function DV(a,c,u){return a.selectRootElement(c,u===Rt.ShadowDom)}(F,f,this.componentDef.encapsulation):Rx(D.createRenderer(null,this.componentDef),U,function OR(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(U)),_e=this.componentDef.onPush?288:272,Re=cD(0,null,null,1,0,null,null,null,null,null),ze=fy(null,Re,null,_e,null,null,D,F,T,C,null);let at,pt;il(ze);try{const xt=function PV(a,c,u,f,g,y){const C=u[1];u[22]=a;const T=Rd(C,22,2,"#host",null),F=T.mergedAttrs=c.hostAttrs;null!==F&&(Yo(T,F,!0),null!==a&&(go(g,a,F),null!==T.classes&&Ux(g,a,T.classes),null!==T.styles&&ZM(g,a,T.styles)));const U=f.createRenderer(a,c),Y=fy(u,gy(c),null,c.onPush?32:16,u[22],T,f,U,y||null,null,null);return C.firstCreatePass&&(fa(mo(T,u),C,c.type),jb(C,T),IR(T,u.length,1)),yy(u,Y),u[22]=Y}(Y,this.componentDef,ze,D,F);if(Y)if(f)go(F,Y,["ng-version",ub.full]);else{const{attrs:$t,classes:Ke}=function XM(a){const c=[],u=[];let f=1,g=2;for(;f<a.length;){let y=a[f];if("string"==typeof y)2===g?""!==y&&c.push(y,a[++f]):8===g&&u.push(y);else{if(!zo(g))break;g=y}f++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);$t&&go(F,Y,$t),Ke&&Ke.length>0&&Ux(F,Y,Ke.join(" "))}if(pt=ua(Re,22),void 0!==u){const $t=pt.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const Zt=u[Ke];$t.push(null!=Zt?Array.from(Zt):null)}}at=function LR(a,c,u,f){const g=u[1],y=function TV(a,c,u){const f=Li();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Pd(a,f,c,pu(a,c,1,null),u),ER(a,f));const g=Zs(c,a,f.directiveStart,f);Os(g,c);const y=pr(f,c);return y&&Os(y,c),g}(g,u,c);if(a[8]=u[8]=y,null!==f)for(const D of f)D(y,c);if(c.contentQueries){const D=Li();c.contentQueries(1,y,D.directiveStart)}const C=Li();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(po(C.index),Vb(u[1],C,0,C.directiveStart,C.directiveEnd,c),Od(c,y)),y}(xt,this.componentDef,ze,[Yh]),py(Re,ze,null)}finally{Bo()}return new NR(this.componentType,at,Uh(pt,ze),ze,pt)}}class NR extends class eM{}{constructor(c,u,f,g,y){super(),this.location=f,this._rootLView=g,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new qb(g),this.componentType=c}setInput(c,u){const f=this._tNode.inputs;let g;if(null!==f&&(g=f[c])){const y=this._rootLView;zb(y[1],y,g,c,u),xR(y,this._tNode.index)}}get injector(){return new dl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Yh(){const a=Li();od(Ye()[1],a)}function Ca(a){let c=function Wb(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;c;){let g;if(Xr(a))g=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);g=c.\u0275dir}if(g){if(u){f.push(g);const C=a;C.inputs=wy(a.inputs),C.declaredInputs=wy(a.declaredInputs),C.outputs=wy(a.outputs);const D=g.hostBindings;D&&vD(a,D);const T=g.viewQuery,F=g.contentQueries;if(T&&yu(a,T),F&&_D(a,F),Z(a.inputs,g.inputs),Z(a.declaredInputs,g.declaredInputs),Z(a.outputs,g.outputs),Xr(g)&&g.data.animation){const U=a.data;U.animation=(U.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let C=0;C<y.length;C++){const D=y[C];D&&D.ngInherit&&D(a),D===Ca&&(u=!1)}}c=Object.getPrototypeOf(c)}!function by(a){let c=0,u=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=c+=g.hostVars,g.hostAttrs=lc(g.hostAttrs,u=lc(u,g.hostAttrs))}}(f)}function wy(a){return a===dr?{}:a===qt?[]:a}function yu(a,c){const u=a.viewQuery;a.viewQuery=u?(f,g)=>{c(f,g),u(f,g)}:c}function _D(a,c){const u=a.contentQueries;a.contentQueries=u?(f,g,y)=>{c(f,g,y),u(f,g,y)}:c}function vD(a,c){const u=a.hostBindings;a.hostBindings=u?(f,g)=>{c(f,g),u(f,g)}:c}let Cy=null;function Fd(){if(!Cy){const a=en.Symbol;if(a&&a.iterator)Cy=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const f=c[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Cy=f)}}}return Cy}function Kh(a){return!!bD(a)&&(Array.isArray(a)||!(a instanceof Map)&&Fd()in a)}function bD(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ml(a,c,u){return a[c]=u}function is(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function Zi(a,c,u,f){const g=Ye();return is(g,nc(),c)&&(gn(),wa(ui(),g,a,c,u,f)),Zi}function Zb(a,c,u,f,g,y,C,D){const T=Ye(),F=gn(),U=a+22,Y=F.firstCreatePass?function KR(a,c,u,f,g,y,C,D,T){const F=c.consts,U=Rd(c,a,4,C||null,fs(F,D));uD(c,u,U,fs(F,T)),od(c,U);const Y=U.tViews=cD(2,U,f,g,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,F);return null!==c.queries&&(c.queries.template(c,U),Y.queries=c.queries.embeddedTView(U)),U}(U,F,T,c,u,f,g,y,C):F.data[U];Nr(Y,!1);const _e=T[11].createComment("");Ib(F,T,_e,Y),Os(_e,T),yy(T,T[U]=Wh(_e,T,_e,Y)),zl(Y)&&Bb(F,T,Y),null!=C&&kd(T,Y,D)}function Dy(a){return qs(function ec(){return Kt.lFrame.contextLView}(),22+a)}function Iy(a,c,u){const f=Ye();return is(f,nc(),c)&&Zo(gn(),ui(),f,a,c,f[11],u,!1),Iy}function Kb(a,c,u,f,g){const C=g?"class":"style";zb(a,u,c.inputs[C],C,f)}function Ay(a,c,u,f){const g=Ye(),y=gn(),C=22+a,D=g[11],T=g[C]=Rx(D,c,function sd(){return Kt.lFrame.currentNamespace}()),F=y.firstCreatePass?function Qb(a,c,u,f,g,y,C){const D=c.consts,F=Rd(c,a,2,g,fs(D,y));return uD(c,u,F,fs(D,C)),null!==F.attrs&&Yo(F,F.attrs,!1),null!==F.mergedAttrs&&Yo(F,F.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,F),F}(C,y,g,0,c,u,f):y.data[C];Nr(F,!0);const U=F.mergedAttrs;null!==U&&go(D,T,U);const Y=F.classes;null!==Y&&Ux(D,T,Y);const _e=F.styles;return null!==_e&&ZM(D,T,_e),64!=(64&F.flags)&&Ib(y,g,T,F),0===function Ql(){return Kt.lFrame.elementDepthCount}()&&Os(T,g),function Eh(){Kt.lFrame.elementDepthCount++}(),zl(F)&&(Bb(y,g,F),lD(y,F,g)),null!==f&&kd(g,F),Ay}function Jb(){let a=Li();Kc()?tl():(a=a.parent,Nr(a,!1));const c=a;!function Jl(){Kt.lFrame.elementDepthCount--}();const u=gn();return u.firstCreatePass&&(od(u,a),Po(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function Jc(a){return 0!=(16&a.flags)}(c)&&Kb(u,c,Ye(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Xc(a){return 0!=(32&a.flags)}(c)&&Kb(u,c,Ye(),c.stylesWithoutHost,!1),Jb}function wD(a,c,u,f){return Ay(a,c,u,f),Jb(),wD}function Sy(a,c,u){const f=Ye(),g=gn(),y=a+22,C=g.firstCreatePass?function QR(a,c,u,f,g){const y=c.consts,C=fs(y,f),D=Rd(c,a,8,"ng-container",C);return null!==C&&Yo(D,C,!0),uD(c,u,D,fs(y,g)),null!==c.queries&&c.queries.elementStart(c,D),D}(y,g,f,c,u):g.data[y];Nr(C,!0);const D=f[y]=f[11].createComment("");return Ib(g,f,D,C),Os(D,f),zl(C)&&(Bb(g,f,C),lD(g,C,f)),null!=u&&kd(f,C),Sy}function Xb(){let a=Li();const c=gn();return Kc()?tl():(a=a.parent,Nr(a,!1)),c.firstCreatePass&&(od(c,a),Po(a)&&c.queries.elementEnd(a)),Xb}function CD(){return Ye()}function Xh(a){return!!a&&"function"==typeof a.then}function ED(a){return!!a&&"function"==typeof a.subscribe}const ef=ED;function Ty(a,c,u,f){const g=Ye(),y=gn(),C=Li();return t0(y,g,g[11],C,a,c,0,f),Ty}function e0(a,c){const u=Li(),f=Ye(),g=gn();return t0(g,f,gD(ed(g.data),u,f),u,a,c),e0}function t0(a,c,u,f,g,y,C,D){const T=zl(f),U=a.firstCreatePass&&RR(a),Y=c[8],_e=$b(c);let Re=!0;if(3&f.type||D){const pt=pr(f,c),xt=D?D(pt):pt,$t=_e.length,Ke=D?Bn=>D(pi(Bn[f.index])):f.index;let Zt=null;if(!D&&T&&(Zt=function xD(a,c,u,f){const g=a.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const C=g[y];if(C===u&&g[y+1]===f){const D=c[7],T=g[y+2];return D.length>T?D[T]:null}"string"==typeof C&&(y+=2)}return null}(a,c,g,f.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=y,Zt.__ngLastListenerFn__=y,Re=!1;else{y=Gp(f,c,Y,y,!1);const Bn=u.listen(xt,g,y);_e.push(y,Bn),U&&U.push(g,Ke,$t,$t+1)}}else y=Gp(f,c,Y,y,!1);const ze=f.outputs;let at;if(Re&&null!==ze&&(at=ze[g])){const pt=at.length;if(pt)for(let xt=0;xt<pt;xt+=2){const Ai=c[at[xt]][at[xt+1]].subscribe(y),Mu=_e.length;_e.push(y,Ai),U&&U.push(g,f.index,Mu,-(Mu+1))}}}function xu(a,c,u,f){try{return!1!==u(f)}catch(g){return mD(a,g),!1}}function Gp(a,c,u,f,g){return function y(C){if(C===Function)return f;Hb(2&a.flags?Tn(a.index,c):c);let T=xu(c,0,f,C),F=y.__ngNextListenerFn__;for(;F;)T=xu(c,0,F,C)&&T,F=F.__ngNextListenerFn__;return g&&!1===T&&(C.preventDefault(),C.returnValue=!1),T}}function DD(a=1){return function Vo(a){return(Kt.lFrame.contextLView=function Sh(a,c){for(;a>0;)c=c[15],a--;return c}(a,Kt.lFrame.contextLView))[8]}(a)}function LV(a,c){let u=null;const f=function XB(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(a);for(let g=0;g<c.length;g++){const y=c[g];if("*"!==y){if(null===f?JM(a,y,!0):nV(f,y))return g}else u=g}return u}function Hp(a){const c=Ye()[16][6];if(!c.projection){const f=c.projection=ma(a?a.length:1,null),g=f.slice();let y=c.child;for(;null!==y;){const C=a?LV(y,a):0;null!==C&&(g[C]?g[C].projectionNext=y:f[C]=y,g[C]=y),y=y.next}}}function n0(a,c=0,u){const f=Ye(),g=gn(),y=Rd(g,22+a,16,null,u||null);null===y.projection&&(y.projection=c),tl(),64!=(64&y.flags)&&function ZB(a,c,u){Vx(c[11],0,c,u,GM(a,u,c),Lx(u.parent||c[6],u,c))}(g,f,y)}function OD(a,c,u,f,g){const y=a[u+1],C=null===c;let D=f?qo(y):Wo(y),T=!1;for(;0!==D&&(!1===T||C);){const U=a[D+1];ek(a[D],c)&&(T=!0,a[D+1]=f?Lp(U):Ob(U)),D=f?qo(U):Wo(U)}T&&(a[u+1]=f?Ob(y):Lp(y))}function ek(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&gs(a,c)>=0}const Tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ps(a){return a.substring(Tr.key,Tr.keyEnd)}function nk(a,c){const u=Tr.textEnd;return u===c?-1:(c=Tr.keyEnd=function jV(a,c,u){for(;c<u&&a.charCodeAt(c)>32;)c++;return c}(a,Tr.key=c,u),$p(a,c,u))}function $p(a,c,u){for(;c<u&&a.charCodeAt(c)<=32;)c++;return c}function Mc(a,c,u){return xa(a,c,u,!1),Mc}function Rl(a,c){return xa(a,c,null,!0),Rl}function qp(a){!function Da(a,c,u,f){const g=gn(),y=fo(2);g.firstUpdatePass&&FD(g,null,y,f);const C=Ye();if(u!==on&&is(C,y,u)){const D=g.data[ci()];if(LD(D,f)&&!a0(g,y)){let T=f?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(u=oe(T,u||"")),Kb(g,D,C,u,f)}else!function Aa(a,c,u,f,g,y,C,D){g===on&&(g=qt);let T=0,F=0,U=0<g.length?g[0]:null,Y=0<y.length?y[0]:null;for(;null!==U||null!==Y;){const _e=T<g.length?g[T+1]:void 0,Re=F<y.length?y[F+1]:void 0;let at,ze=null;U===Y?(T+=2,F+=2,_e!==Re&&(ze=Y,at=Re)):null===Y||null!==U&&U<Y?(T+=2,ze=U):(F+=2,ze=Y,at=Re),null!==ze&&c0(a,c,u,f,ze,at,C,D),U=T<g.length?g[T]:null,Y=F<y.length?y[F]:null}}(g,D,C,C[11],C[y+1],C[y+1]=function l0(a,c,u){if(null==u||""===u)return qt;const f=[],g=Al(u);if(Array.isArray(g))for(let y=0;y<g.length;y++)a(f,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&a(f,y,g[y]);else"string"==typeof g&&c(f,g);return f}(a,c,u),f,y)}}(ns,vn,a,!0)}function vn(a,c){for(let u=function tk(a){return function rk(a){Tr.key=0,Tr.keyEnd=0,Tr.value=0,Tr.valueEnd=0,Tr.textEnd=a.length}(a),nk(a,$p(a,0,Tr.textEnd))}(c);u>=0;u=nk(c,u))ns(a,Ps(c),!0)}function xa(a,c,u,f){const g=Ye(),y=gn(),C=fo(2);y.firstUpdatePass&&FD(y,a,C,f),c!==on&&is(g,C,c)&&c0(y,y.data[ci()],g,g[11],a,g[C+1]=function HV(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=X(Al(a)))),a}(c,u),f,C)}function a0(a,c){return c>=a.expandoStartIndex}function FD(a,c,u,f){const g=a.data;if(null===g[u+1]){const y=g[ci()],C=a0(a,u);LD(y,f)&&null===c&&!C&&(c=!1),c=function My(a,c,u,f){const g=ed(a);let y=f?c.residualClasses:c.residualStyles;if(null===g)0===(f?c.classBindings:c.styleBindings)&&(u=tf(u=Ia(null,a,c,u,f),c.attrs,f),y=null);else{const C=c.directiveStylingLast;if(-1===C||a[C]!==g)if(u=Ia(g,a,c,u,f),null===y){let T=function Ry(a,c,u){const f=u?c.classBindings:c.styleBindings;if(0!==Wo(f))return a[qo(f)]}(a,c,f);void 0!==T&&Array.isArray(T)&&(T=Ia(null,a,c,T[1],f),T=tf(T,c.attrs,f),function ND(a,c,u,f){a[qo(u?c.classBindings:c.styleBindings)]=f}(a,c,f,T))}else y=function ak(a,c,u){let f;const g=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<g;y++)f=tf(f,a[y].hostAttrs,u);return tf(f,c.attrs,u)}(a,c,f)}return void 0!==y&&(f?c.residualClasses=y:c.residualStyles=y),u}(g,y,c,f),function XR(a,c,u,f,g,y){let C=y?c.classBindings:c.styleBindings,D=qo(C),T=Wo(C);a[f]=u;let U,F=!1;if(Array.isArray(u)){const Y=u;U=Y[1],(null===U||gs(Y,U)>0)&&(F=!0)}else U=u;if(g)if(0!==T){const _e=qo(a[D+1]);a[f+1]=ly(_e,D),0!==_e&&(a[_e+1]=Qx(a[_e+1],f)),a[D+1]=function cy(a,c){return 131071&a|c<<17}(a[D+1],f)}else a[f+1]=ly(D,0),0!==D&&(a[D+1]=Qx(a[D+1],f)),D=f;else a[f+1]=ly(T,0),0===D?D=f:a[T+1]=Qx(a[T+1],f),T=f;F&&(a[f+1]=Ob(a[f+1])),OD(a,U,f,!0),OD(a,U,f,!1),function VV(a,c,u,f,g){const y=g?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof c&&gs(y,c)>=0&&(u[f+1]=Lp(u[f+1]))}(c,U,a,f,y),C=ly(D,T),y?c.classBindings=C:c.styleBindings=C}(g,y,c,u,C,f)}}function Ia(a,c,u,f,g){let y=null;const C=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<C&&(y=c[D],f=tf(f,y.hostAttrs,g),y!==a);)D++;return null!==a&&(u.directiveStylingLast=D),f}function tf(a,c,u){const f=u?1:2;let g=-1;if(null!==c)for(let y=0;y<c.length;y++){const C=c[y];"number"==typeof C?g=C:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ns(a,C,!!u||c[++y]))}return void 0===a?null:a}function c0(a,c,u,f,g,y,C,D){if(!(3&c.type))return;const T=a.data,F=T[D+1];ky(function Pb(a){return 1==(1&a)}(F)?Wp(T,c,u,g,Wo(F),C):void 0)||(ky(y)||function hR(a){return 2==(2&a)}(F)&&(y=Wp(T,null,u,g,D,C)),function YB(a,c,u,f,g){if(c)g?a.addClass(u,f):a.removeClass(u,f);else{let y=-1===f.indexOf("-")?void 0:mi.DashCase;null==g?a.removeStyle(u,f,y):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),y|=mi.Important),a.setStyle(u,f,g,y))}}(f,C,Ms(ci(),u),g,y))}function Wp(a,c,u,f,g,y){const C=null===c;let D;for(;g>0;){const T=a[g],F=Array.isArray(T),U=F?T[1]:T,Y=null===U;let _e=u[g+1];_e===on&&(_e=Y?qt:void 0);let Re=Y?bl(_e,f):U===f?_e:void 0;if(F&&!ky(Re)&&(Re=bl(T,f)),ky(Re)&&(D=Re,C))return D;const ze=a[g+1];g=C?qo(ze):Wo(ze)}if(null!==c){let T=y?c.residualClasses:c.residualStyles;null!=T&&(D=bl(T,f))}return D}function ky(a){return void 0!==a}function LD(a,c){return 0!=(a.flags&(c?16:32))}function Oy(a,c=""){const u=Ye(),f=gn(),g=a+22,y=f.firstCreatePass?Rd(f,g,1,c,null):f.data[g],C=u[g]=function ny(a,c){return a.createText(c)}(u[11],c);Ib(f,u,C,y),Nr(y,!1)}function BD(a){return u0("",a,""),BD}function u0(a,c,u){const f=Ye(),g=function wu(a,c,u,f){return is(a,nc(),u)?c+ee(u)+f:on}(f,a,c,u);return g!==on&&function Ic(a,c,u){const f=Ms(c,a);!function Mx(a,c,u){a.setValue(c,u)}(a[11],f,u)}(f,ci(),g),u0}function f0(a,c,u){const f=Ye();return is(f,nc(),c)&&Zo(gn(),ui(),f,a,c,f[11],u,!0),f0}function p0(a,c,u){const f=Ye();if(is(f,nc(),c)){const y=gn(),C=ui();Zo(y,C,f,a,c,gD(ed(y.data),C,f),u,!0)}return p0}const Vd=void 0;var zD=["en",[["a","p"],["AM","PM"],Vd],[["AM","PM"],Vd,Vd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vd,"{1} 'at' {0}",Vd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kp(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Rc={};function g0(a){const c=function ZD(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=WD(c);if(u)return u;const f=c.split("-")[0];if(u=WD(f),u)return u;if("en"===f)return zD;throw new xe(701,!1)}function qD(a){return g0(a)[zt.PluralCase]}function WD(a){return a in Rc||(Rc[a]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[a]),Rc[a]}var zt=(()=>((zt=zt||{})[zt.LocaleId=0]="LocaleId",zt[zt.DayPeriodsFormat=1]="DayPeriodsFormat",zt[zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",zt[zt.DaysFormat=3]="DaysFormat",zt[zt.DaysStandalone=4]="DaysStandalone",zt[zt.MonthsFormat=5]="MonthsFormat",zt[zt.MonthsStandalone=6]="MonthsStandalone",zt[zt.Eras=7]="Eras",zt[zt.FirstDayOfWeek=8]="FirstDayOfWeek",zt[zt.WeekendRange=9]="WeekendRange",zt[zt.DateFormat=10]="DateFormat",zt[zt.TimeFormat=11]="TimeFormat",zt[zt.DateTimeFormat=12]="DateTimeFormat",zt[zt.NumberSymbols=13]="NumberSymbols",zt[zt.NumberFormats=14]="NumberFormats",zt[zt.CurrencyCode=15]="CurrencyCode",zt[zt.CurrencySymbol=16]="CurrencySymbol",zt[zt.CurrencyName=17]="CurrencyName",zt[zt.Currencies=18]="Currencies",zt[zt.Directionality=19]="Directionality",zt[zt.PluralCase=20]="PluralCase",zt[zt.ExtraData=21]="ExtraData",zt))();const kl="en-US";let y0=kl;function Gy(a,c,u,f,g){if(a=se(a),Array.isArray(a))for(let y=0;y<a.length;y++)Gy(a[y],c,u,f,g);else{const y=gn(),C=Ye();let D=Tl(a)?a:se(a.provide),T=Vr(a);const F=Li(),U=1048575&F.providerIndexes,Y=F.directiveStart,_e=F.providerIndexes>>20;if(Tl(a)||!a.multi){const Re=new ps(T,g,Np),ze=mn(D,c,g?U:U+_e,Y);-1===ze?(fa(mo(F,C),y,D),L0(y,a,c.length),c.push(D),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),u.push(Re),C.push(Re)):(u[ze]=Re,C[ze]=Re)}else{const Re=mn(D,c,U+_e,Y),ze=mn(D,c,U,U+_e),at=Re>=0&&u[Re],pt=ze>=0&&u[ze];if(g&&!pt||!g&&!at){fa(mo(F,C),y,D);const xt=function Kk(a,c,u,f,g){const y=new ps(a,u,Np);return y.multi=[],y.index=c,y.componentProviders=0,pI(y,g,f&&!u),y}(g?Yk:ig,u.length,g,f,T);!g&&pt&&(u[ze].providerFactory=xt),L0(y,a,c.length,0),c.push(D),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),u.push(xt),C.push(xt)}else L0(y,a,Re>-1?Re:ze,pI(u[g?ze:Re],T,!g&&f));!g&&f&&pt&&u[ze].componentProviders++}}}function L0(a,c,u,f){const g=Tl(c),y=function Q1(a){return!!a.useClass}(c);if(g||y){const T=(y?se(c.useClass):c).prototype.ngOnDestroy;if(T){const F=a.destroyHooks||(a.destroyHooks=[]);if(!g&&c.multi){const U=F.indexOf(u);-1===U?F.push(u,[f,T]):F[U+1].push(f,T)}else F.push(u,T)}}}function pI(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function mn(a,c,u,f){for(let g=u;g<f;g++)if(c[g]===a)return g;return-1}function ig(a,c,u,f){return Du(this.multi,[])}function Yk(a,c,u,f){const g=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,D=Zs(u,u[1],this.providerFactory.index,f);y=D.slice(0,C),Du(g,y);for(let T=C;T<D.length;T++)y.push(D[T])}else y=[],Du(g,y);return y}function Du(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function gI(a,c=[]){return u=>{u.providersResolver=(f,g)=>function N0(a,c,u){const f=gn();if(f.firstCreatePass){const g=Xr(a);Gy(u,f.data,f.blueprint,g,!0),Gy(c,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,c)}}class Fs{}class B0{}function mI(a,c){return new Jk(a,c??null)}class Jk extends Fs{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yD(this);const f=Ot(c);this._bootstrapComponents=Js(f.bootstrap),this._r3Injector=rR(c,u,[{provide:Fs,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],X(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Mr extends B0{constructor(c){super(),this.moduleType=c}create(c){return new Jk(this.moduleType,c)}}class Iu extends Fs{constructor(c,u,f){super(),this.componentFactoryResolver=new yD(this),this.instance=null;const g=new Rp([...c,{provide:Fs,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],u||va(),f,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function rg(a,c,u=null){return new Iu(a,c,u).injector}let Xk=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=or(0,u.type),g=f.length>0?rg([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,g)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Dn({token:a,providedIn:"environment",factory:()=>new a(Ui(bd))}),a})();function yI(a){a.getStandaloneInjector=c=>c.get(Xk).getOrCreateStandaloneInjector(a)}function j0(a,c,u,f){return lg(Ye(),Bi(),a,c,u,f)}function og(a,c,u,f,g){return function II(a,c,u,f,g,y,C){const D=c+u;return function vu(a,c,u,f){const g=is(a,c,u);return is(a,c+1,f)||g}(a,D,g,y)?Ml(a,D+2,C?f.call(C,g,y):f(g,y)):ag(a,D+2)}(Ye(),Bi(),a,c,u,f,g)}function ag(a,c){const u=a[c];return u===on?void 0:u}function lg(a,c,u,f,g,y){const C=c+u;return is(a,C,g)?Ml(a,C+1,y?f.call(y,g):f(g)):ag(a,C+1)}function MI(a,c){const u=gn();let f;const g=a+22;u.firstCreatePass?(f=function H0(a,c){if(c)for(let u=c.length-1;u>=0;u--){const f=c[u];if(a===f.name)return f}}(c,u.pipeRegistry),u.data[g]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(g,f.onDestroy)):f=u.data[g];const y=f.factory||(f.factory=fr(f.type)),C=Gn(Np);try{const D=cc(!1),T=y();return cc(D),function Yb(a,c,u,f){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=f}(u,Ye(),g,T),T}finally{Gn(C)}}function RI(a,c,u){const f=a+22,g=Ye(),y=qs(g,f);return function cg(a,c){return a[1].data[c].pure}(g,f)?lg(g,Bi(),c,y.transform,u,y):y.transform(u)}function zd(a){return c=>{setTimeout(a,void 0,c)}}const Xs=class aO extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,f){let g=c,y=u||(()=>null),C=f;if(c&&"object"==typeof c){const T=c;g=T.next?.bind(T),y=T.error?.bind(T),C=T.complete?.bind(T)}this.__isAsync&&(y=zd(y),g&&(g=zd(g)),C&&(C=zd(C)));const D=super.subscribe({next:g,error:y,complete:C});return c instanceof L.w0&&c.add(D),D}};function sf(){return this._results[Fd()]()}class ug{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Fd(),f=ug.prototype;f[u]||(f[u]=sf)}get changes(){return this._changes||(this._changes=new Xs)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const f=this;f.dirty=!1;const g=ki(c);(this._changesDetected=!function _p(a,c,u){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],y=c[f];if(u&&(g=u(g),y=u(y)),y!==g)return!1}return!0}(f._results,g,u))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let af=(()=>{class a{}return a.__NG_ELEMENT_ID__=lO,a})();const kI=af,lf=class extends kI{constructor(c,u,f){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(c,u){const f=this._declarationTContainer.tViews,g=fy(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,u||null);g[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(g[19]=C.createEmbeddedView(f)),py(f,g,c),new vy(g)}};function lO(){return Zy(Li(),Ye())}function Zy(a,c){return 4&a.type?new lf(c,a,Uh(a,c)):null}let dg=(()=>{class a{}return a.__NG_ELEMENT_ID__=cO,a})();function cO(){return PI(Li(),Ye())}const q0=dg,cf=class extends q0{constructor(c,u,f){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=f}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new dl(this._hostTNode,this._hostLView)}get parentInjector(){const c=uc(this._hostTNode,this._hostLView);if(dp(c)){const u=Uo(c,this._hostLView),f=Vi(c);return new dl(u[1].data[f+8],u)}return new dl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=OI(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,f){let g,y;"number"==typeof f?g=f:null!=f&&(g=f.index,y=f.injector);const C=c.createEmbeddedView(u||{},y);return this.insert(C,g),C}createComponent(c,u,f,g,y){const C=c&&!function yl(a){return"function"==typeof a}(c);let D;if(C)D=u;else{const Y=u||{};D=Y.index,f=Y.injector,g=Y.projectableNodes,y=Y.environmentInjector||Y.ngModuleRef}const T=C?c:new jp(ue(c)),F=f||this.parentInjector;if(!y&&null==T.ngModule){const _e=(C?F:this.parentInjector).get(bd,null);_e&&(y=_e)}const U=T.create(F,g,void 0,y);return this.insert(U.hostView,D),U}insert(c,u){const f=c._lView,g=f[1];if(function Ju(a){return cs(a[3])}(f)){const U=this.indexOf(c);if(-1!==U)this.detach(U);else{const Y=f[3],_e=new cf(Y,Y[6],Y[3]);_e.detach(_e.indexOf(c))}}const y=this._adjustIndex(u),C=this._lContainer;!function VM(a,c,u,f){const g=10+f,y=u.length;f>0&&(u[g-1][4]=c),f<y-10?(c[4]=u[g],fc(u,10+f,c)):(u.push(c),c[4]=null),c[3]=u;const C=c[17];null!==C&&u!==C&&function qB(a,c){const u=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===u?a[9]=[c]:u.push(c)}(C,c);const D=c[19];null!==D&&D.insertView(a),c[2]|=64}(g,f,C,y);const D=Bx(y,C),T=f[11],F=ry(T,C[7]);return null!==F&&function Cb(a,c,u,f,g,y){f[0]=g,f[6]=c,Op(a,f,u,1,g,y)}(g,C[6],T,f,F,D),c.attachToViewContainerRef(),fc(hg(C),y,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=OI(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),f=Eb(this._lContainer,u);f&&(ks(hg(this._lContainer),u),kp(f[1],f))}detach(c){const u=this._adjustIndex(c,-1),f=Eb(this._lContainer,u);return f&&null!=ks(hg(this._lContainer),u)?new vy(f):null}_adjustIndex(c,u=0){return c??this.length+u}};function OI(a){return a[8]}function hg(a){return a[8]||(a[8]=[])}function PI(a,c){let u;const f=c[a.index];if(cs(f))u=f;else{let g;if(8&a.type)g=pi(f);else{const y=c[11];g=y.createComment("");const C=pr(a,c);xd(y,ry(y,C),g,function HM(a,c){return a.nextSibling(c)}(y,C),!1)}c[a.index]=u=Wh(f,c,g,a),yy(c,u)}return new cf(u,a,c)}class fg{constructor(c){this.queryList=c,this.matches=null}clone(){return new fg(this.queryList)}setDirty(){this.queryList.setDirty()}}class kc{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const f=null!==c.contentQueries?c.contentQueries[0]:u.length,g=[];for(let y=0;y<f;y++){const C=u.getByIndex(y);g.push(this.queries[C.indexInDeclarationView].clone())}return new kc(g)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Ky(c,u).matches&&this.queries[u].setDirty()}}class pg{constructor(c,u,f=null){this.predicate=c,this.flags=u,this.read=f}}class Yy{constructor(c=[]){this.queries=c}elementStart(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let f=0;f<this.length;f++){const g=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(c,g);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new Yy(u):null}template(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class W0{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new W0(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const y=f[g];this.matchTNodeWithReadOption(c,u,uO(u,y)),this.matchTNodeWithReadOption(c,u,hc(u,c,y,!1,!1))}else f===af?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,hc(u,c,f,!1,!1))}matchTNodeWithReadOption(c,u,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===Ur||g===dg||g===af&&4&u.type)this.addMatch(u.index,-2);else{const y=hc(u,c,g,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function uO(a,c){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===c)return u[f+1];return null}function hO(a,c,u,f){return-1===u?function dO(a,c){return 11&a.type?Uh(a,c):4&a.type?Zy(a,c):null}(c,a):-2===u?function fO(a,c,u){return u===Ur?Uh(c,a):u===af?Zy(c,a):u===dg?PI(c,a):void 0}(a,c,f):Zs(a,a[1],u,c)}function LI(a,c,u,f){const g=c[19].queries[f];if(null===g.matches){const y=a.data,C=u.matches,D=[];for(let T=0;T<C.length;T+=2){const F=C[T];D.push(F<0?null:hO(c,y[F],C[T+1],u.metadata.read))}g.matches=D}return g.matches}function Z0(a,c,u,f){const g=a.queries.getByIndex(u),y=g.matches;if(null!==y){const C=LI(a,c,g,u);for(let D=0;D<y.length;D+=2){const T=y[D];if(T>0)f.push(C[D/2]);else{const F=y[D+1],U=c[-T];for(let Y=10;Y<U.length;Y++){const _e=U[Y];_e[17]===_e[3]&&Z0(_e[1],_e,F,f)}if(null!==U[9]){const Y=U[9];for(let _e=0;_e<Y.length;_e++){const Re=Y[_e];Z0(Re[1],Re,F,f)}}}}}return f}function BI(a){const c=Ye(),u=gn(),f=ic();td(f+1);const g=Ky(u,f);if(a.dirty&&function Qu(a){return 4==(4&a[2])}(c)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const y=g.crossesNgTemplate?Z0(u,c,f,[]):LI(u,c,g,f);a.reset(y,nM),a.notifyOnChanges()}return!0}return!1}function VI(a,c,u){const f=gn();f.firstCreatePass&&(Y0(f,new pg(a,c,u),-1),2==(2&c)&&(f.staticViewQueries=!0)),HI(f,Ye(),c)}function UI(a,c,u,f){const g=gn();if(g.firstCreatePass){const y=Li();Y0(g,new pg(c,u,f),y.index),function K0(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(g,a),2==(2&u)&&(g.staticContentQueries=!0)}HI(g,Ye(),u)}function jI(){return function GI(a,c){return a[19].queries[c].queryList}(Ye(),ic())}function HI(a,c,u){const f=new ug(4==(4&u));wR(a,c,f,f.destroy),null===c[19]&&(c[19]=new kc),c[19].queries.push(new fg(f))}function Y0(a,c,u){null===a.queries&&(a.queries=new Yy),a.queries.track(new W0(c,u))}function Ky(a,c){return a.queries.getByIndex(c)}function Pl(a,c){return Zy(a,c)}function iw(...a){}const r_=new ti("Application Initializer");let Wd=(()=>{class a{constructor(u){this.appInits=u,this.resolve=iw,this.reject=iw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(Xh(y))u.push(y);else if(ef(y)){const C=new Promise((D,T)=>{y.subscribe({complete:D,error:T})});u.push(C)}}Promise.all(u).then(()=>{f()}).catch(g=>{this.reject(g)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Ui(r_,8))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Zd=new ti("AppId",{providedIn:"root",factory:function tA(){return`${rw()}${rw()}${rw()}`}});function rw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nA=new ti("Platform Initializer"),EO=new ti("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iA=new ti("appBootstrapListener"),xO=new ti("AnimationModuleType");let DO=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const s_=new ti("LocaleId",{providedIn:"root",factory:()=>R(s_,yt.Optional|yt.SkipSelf)||function rA(){return typeof $localize<"u"&&$localize.locale||kl}()}),sw=new ti("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AO{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let SO=(()=>{class a{compileModuleSync(u){return new Mr(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=Js(Ot(u).declarations).reduce((C,D)=>{const T=ue(D);return T&&C.push(new jp(T)),C},[]);return new AO(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const oA=(()=>Promise.resolve(0))();function Yd(a){typeof Zone>"u"?oA.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ko{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xs(!1),this.onMicrotaskEmpty=new Xs(!1),this.onStable=new Xs(!1),this.onError=new Xs(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const y=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new y("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&u,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function aA(){let a=en.requestAnimationFrame,c=en.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function kO(a){const c=()=>{!function RO(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(en,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,hf(a),a.isCheckStableRunning=!0,uw(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),hf(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,g,y,C,D)=>{try{return lA(a),u.invokeTask(g,y,C,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&c(),cA(a)}},onInvoke:(u,f,g,y,C,D,T)=>{try{return lA(a),u.invoke(g,y,C,D,T)}finally{a.shouldCoalesceRunChangeDetection&&c(),cA(a)}},onHasTask:(u,f,g,y)=>{u.hasTask(g,y),f===g&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,hf(a),uw(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,g,y)=>(u.handleError(g,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ko.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Ko.isInAngularZone())throw new xe(909,!1)}run(c,u,f){return this._inner.run(c,u,f)}runTask(c,u,f,g){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+g,c,MO,iw,iw);try{return y.runTask(C,u,f)}finally{y.cancelTask(C)}}runGuarded(c,u,f){return this._inner.runGuarded(c,u,f)}runOutsideAngular(c){return this._outer.run(c)}}const MO={};function uw(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function hf(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function lA(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function cA(a){a._nesting--,uw(a)}class OO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xs,this.onMicrotaskEmpty=new Xs,this.onStable=new Xs,this.onError=new Xs}run(c,u,f){return c.apply(u,f)}runGuarded(c,u,f){return c.apply(u,f)}runOutsideAngular(c){return c()}runTask(c,u,f,g){return c.apply(u,f)}}const uA=new ti(""),dA=new ti("");let dw,PO=(()=>{class a{constructor(u,f,g){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dw||(function fA(a){dw=a}(g),g.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ko.assertNotInAngularZone(),Yd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yd(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,g){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:g})}whenStable(u,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,g){return[]}}return a.\u0275fac=function(u){return new(u||a)(Ui(Ko),Ui(hA),Ui(dA))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})(),hA=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return dw?.findTestabilityInTree(this,u,f)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Oc=null;const hw=new ti("AllowMultipleToken"),a_=new ti("PlatformDestroyListeners");class NO{constructor(c,u){this.name=c,this.token=u}}function l_(a,c,u=[]){const f=`Platform: ${c}`,g=new ti(f);return(y=[])=>{let C=pw();if(!C||C.injector.get(hw,!1)){const D=[...u,...y,{provide:g,useValue:!0}];a?a(D):function LO(a){if(Oc&&!Oc.get(hw,!1))throw new xe(400,!1);Oc=a;const c=a.get(yA);(function gA(a){const c=a.get(nA,null);c&&c.forEach(u=>u())})(a)}(function fw(a=[],c){return Id.create({name:c,providers:[{provide:wc,useValue:"platform"},{provide:a_,useValue:new Set([()=>Oc=null])},...a]})}(D,f))}return function mA(a){const c=pw();if(!c)throw new xe(401,!1);return c}()}}function pw(){return Oc?.get(yA)??null}let yA=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const g=function vA(a,c){let u;return u="noop"===a?new OO:("zone.js"===a?void 0:a)||new Ko(c),u}(f?.ngZone,function _A(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),y=[{provide:Ko,useValue:g}];return g.run(()=>{const C=Id.create({providers:y,parent:this.injector,name:u.moduleType.name}),D=u.create(C),T=D.injector.get(Qm,null);if(!T)throw new xe(402,!1);return g.runOutsideAngular(()=>{const F=g.onError.subscribe({next:U=>{T.handleError(U)}});D.onDestroy(()=>{pf(this._modules,D),F.unsubscribe()})}),function xg(a,c,u){try{const f=u();return Xh(f)?f.catch(g=>{throw c.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw c.runOutsideAngular(()=>a.handleError(f)),f}}(T,g,()=>{const F=D.injector.get(Wd);return F.runInitializers(),F.donePromise.then(()=>(function _0(a){cn(a,"Expected localeId to be defined"),"string"==typeof a&&(y0=a.toLowerCase().replace(/_/g,"-"))}(D.injector.get(s_,kl)||kl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,f=[]){const g=gw({},f);return function pA(a,c,u){const f=new Mr(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(u){const f=u.injector.get(ff);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new xe(403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(a_,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Ui(Id))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function gw(a,c){return Array.isArray(c)?c.reduce(gw,a):{...a,...c}}let ff=(()=>{class a{constructor(u,f,g){this._zone=u,this._injector=f,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new O.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ko.assertNotInAngularZone(),Yd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Ko.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),F.unsubscribe()}});this.isStable=(0,G.T)(y,C.pipe((0,$.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const g=u instanceof fx;if(!this._injector.get(Wd).done)throw!g&&dt(u),new xe(405,false);let C;C=g?u:this._injector.get(Cd).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const D=function FO(a){return a.isBoundToModule}(C)?void 0:this._injector.get(Fs),F=C.create(Id.NULL,[],f||C.selector,D),U=F.location.nativeElement,Y=F.injector.get(uA,null);return Y?.registerApplication(U),F.onDestroy(()=>{this.detachView(F.hostView),pf(this.components,F),Y?.unregisterApplication(U)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;pf(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(iA,[]).concat(this._bootstrapListeners).forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>pf(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Ui(Ko),Ui(bd),Ui(Qm))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function pf(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}let Dg=!0,wA=!1;function jO(){return wA=!0,Dg}function GO(){if(wA)throw new Error("Cannot enable prod mode after platform setup.");Dg=!1}let Ii=(()=>{class a{}return a.__NG_ELEMENT_ID__=HO,a})();function HO(a){return function CA(a,c,u){if($l(a)&&!u){const f=Tn(a.index,c);return new vy(f,f)}return 47&a.type?new vy(c[16],c):null}(Li(),Ye(),16==(16&a))}class ww{constructor(){}supports(c){return Kh(c)}create(c){return new S3(c)}}const WO=(a,c)=>c;class S3{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||WO}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,f=this._removalsHead,g=0,y=null;for(;u||f;){const C=!f||u&&u.currentIndex<AA(f,g,y)?u:f,D=AA(C,g,y),T=C.currentIndex;if(C===f)g--,f=f._nextRemoved;else if(u=u._next,null==C.previousIndex)g++;else{y||(y=[]);const F=D-g,U=T-g;if(F!=U){for(let _e=0;_e<F;_e++){const Re=_e<y.length?y[_e]:y[_e]=0,ze=Re+_e;U<=ze&&ze<F&&(y[_e]=Re+1)}y[C.previousIndex]=U-F}}D!==T&&c(C,D,T)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!Kh(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g,y,C,u=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let D=0;D<this.length;D++)y=c[D],C=this._trackByFn(D,y),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,y,C,D)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,C,D),f=!0),u=u._next}else g=0,function _u(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[Fd()]();let f;for(;!(f=u.next()).done;)c(f.value)}}(c,D=>{C=this._trackByFn(g,D),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,D,C,g)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,C,g),f=!0),u=u._next,g++}),this.length=g;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,f,g){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,y,g)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,y,g)):c=this._addAfter(new d_(u,f),y,g),c}_verifyReinsertion(c,u,f,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?c=this._reinsertAfter(y,c._prev,g):c.currentIndex!=g&&(c.currentIndex=g,this._addToMoves(c,g)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const g=c._prevRemoved,y=c._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(c,u,f),this._addToMoves(c,f),c}_moveAfter(c,u,f){return this._unlink(c),this._insertAfter(c,u,f),this._addToMoves(c,f),c}_addAfter(c,u,f){return this._insertAfter(c,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,f){const g=null===u?this._itHead:u._next;return c._next=g,c._prev=u,null===g?this._itTail=c:g._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,f=c._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class d_{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class T3{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const u=c._prevDup,f=c._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Cw{constructor(){this.map=new Map}put(c){const u=c.trackById;let f=this.map.get(u);f||(f=new T3,this.map.set(u,f)),f.add(c)}get(c,u){const g=this.map.get(c);return g?g.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AA(a,c,u){const f=a.previousIndex;if(null===f)return f;let g=0;return u&&f<u.length&&(g=u[f]),f+c+g}class SA{constructor(){}supports(c){return c instanceof Map||bD(c)}create(){return new TA}}class TA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||bD(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,g)=>{if(u&&u.key===g)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(g,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const f=c._prev;return u._next=c,u._prev=f,c._prev=u,f&&(f._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const g=this._records.get(c);this._maybeAddToChanges(g,u);const y=g._prev,C=g._next;return y&&(y._next=C),C&&(C._prev=y),g._next=null,g._prev=null,g}const f=new ZO(c);return this._records.set(c,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(f=>u(c[f],f))}}class ZO{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MA(){return new Ew([new ww])}let Ew=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||MA()),deps:[[a,new Wt,new ft]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(null!=f)return f;throw new xe(901,!1)}}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:MA}),a})();function RA(){return new h_([new SA])}let h_=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||RA()),deps:[[a,new Wt,new ft]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(f)return f;throw new xe(901,!1)}}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:RA}),a})();const KO=l_(null,"core",[]);let QO=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Ui(ff))},a.\u0275mod=Vt({type:a}),a.\u0275inj=Xt({}),a})();function kA(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(we,H,N)=>{"use strict";N.d(H,{Z:()=>xe});var s=N(2090),L=N(4859),O=N(9681),G=N(1877);class ${constructor(ee,re){this._delegate=ee,this.firebase=re,(0,O._addComponent)(ee,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ee,re=O._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(ee);return!Ve.isInitialized()&&"EXPLICIT"===(null===(ke=Ve.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:re})}_removeServiceInstance(ee,re=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(re)}_addComponent(ee){(0,O._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,O._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function oe(){const ne=function X(ne){const ee={},re={__esModule:!0,initializeApp:function Ne(ge,ve={}){const Se=O.initializeApp(ge,ve);if((0,s.r3)(ee,Se.name))return ee[Se.name];const ce=new ne(Se,re);return ee[Se.name]=ce,ce},app:Ve,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(ge){const ve=ge.name,Se=ve.replace("-compat","");if(O._registerComponent(ge)&&"PUBLIC"===ge.type){const ce=(de=Ve())=>{if("function"!=typeof de[Se])throw Z.create("invalid-app-argument",{appName:ve});return de[Se]()};void 0!==ge.serviceProps&&(0,s.ZB)(ce,ge.serviceProps),re[Se]=ce,ne.prototype[Se]=function(...de){return this._getService.bind(this,ve).apply(this,ge.multipleInstances?de:[])}}return"PUBLIC"===ge.type?re[Se]:null},removeApp:function ke(ge){delete ee[ge]},useAsService:function Ge(ge,ve){return"serverAuth"===ve?null:ve},modularAPIs:O}};function Ve(ge){if(!(0,s.r3)(ee,ge=ge||O._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:ge});return ee[ge]}return re.default=re,Object.defineProperty(re,"apps",{get:function Le(){return Object.keys(ee).map(ge=>ee[ge])}}),Ve.App=ne,re}($);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:oe,extendNamespace:function ee(re){(0,s.ZB)(ne,re)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ne}(),J=new G.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=Q;!function me(ne){(0,O.registerVersion)("@firebase/app-compat","0.1.34",ne)}()},9681:(we,H,N)=>{"use strict";N.r(H),N.d(H,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>Hs,_DEFAULT_ENTRY_NAME:()=>cn,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>Dn,_apps:()=>Sn,_clearComponents:()=>cr,_components:()=>ii,_getProvider:()=>Xt,_registerComponent:()=>rn,_removeServiceInstance:()=>Kn,deleteApp:()=>zs,getApp:()=>vi,getApps:()=>$s,initializeApp:()=>Kr,onLog:()=>bi,registerVersion:()=>nr,setLogLevel:()=>Gn});var s=N(5861),L=N(4859),O=N(1877),G=N(2090),$=N(8766);class K{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function Z(ae){return"VERSION"===ae.getComponent()?.type}(ye)){const We=ye.getImmediate();return`${We.library}/${We.version}`}return null}).filter(ye=>ye).join(" ")}}const X="@firebase/app",Q=new O.Yd("@firebase/app"),cn="[DEFAULT]",ut={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sn=new Map,ii=new Map;function Cn(ae,pe){try{ae.container.addComponent(pe)}catch(ye){Q.debug(`Component ${pe.name} failed to register with FirebaseApp ${ae.name}`,ye)}}function Dn(ae,pe){ae.container.addOrOverwriteComponent(pe)}function rn(ae){const pe=ae.name;if(ii.has(pe))return Q.debug(`There were multiple attempts to register component ${pe}.`),!1;ii.set(pe,ae);for(const ye of Sn.values())Cn(ye,ae);return!0}function Xt(ae,pe){const ye=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),ae.container.getProvider(pe)}function Kn(ae,pe,ye=cn){Xt(ae,pe).clearInstance(ye)}function cr(){ii.clear()}const qn=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class so{constructor(pe,ye,We){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const Hs="9.10.0";function Kr(ae,pe={}){"object"!=typeof pe&&(pe={name:pe});const ye=Object.assign({name:cn,automaticDataCollectionEnabled:!1},pe),We=ye.name;if("string"!=typeof We||!We)throw qn.create("bad-app-name",{appName:String(We)});const ct=Sn.get(We);if(ct){if((0,G.vZ)(ae,ct.options)&&(0,G.vZ)(ye,ct.config))return ct;throw qn.create("duplicate-app",{appName:We})}const Vt=new L.H0(We);for(const Mn of ii.values())Vt.addComponent(Mn);const Fn=new so(ae,ye,Vt);return Sn.set(We,Fn),Fn}function vi(ae=cn){const pe=Sn.get(ae);if(!pe)throw qn.create("no-app",{appName:ae});return pe}function $s(){return Array.from(Sn.values())}function zs(ae){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(ae){const pe=ae.name;Sn.has(pe)&&(Sn.delete(pe),yield Promise.all(ae.container.getProviders().map(ye=>ye.delete())),ae.isDeleted=!0)})).apply(this,arguments)}function nr(ae,pe,ye){var We;let ct=null!==(We=ut[ae])&&void 0!==We?We:ae;ye&&(ct+=`-${ye}`);const Vt=ct.match(/\s|\//),Fn=pe.match(/\s|\//);if(Vt||Fn){const Mn=[`Unable to register library "${ct}" with version "${pe}":`];return Vt&&Mn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),Vt&&Fn&&Mn.push("and"),Fn&&Mn.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void Q.warn(Mn.join(" "))}rn(new L.wA(`${ct}-version`,()=>({library:ct,version:pe}),"VERSION"))}function bi(ae,pe){if(null!==ae&&"function"!=typeof ae)throw qn.create("invalid-log-argument");(0,O.Am)(ae,pe)}function Gn(ae){(0,O.Ub)(ae)}const Xn="firebase-heartbeat-store";let ri=null;function Qn(){return ri||(ri=(0,$.X3)("firebase-heartbeat-database",1,{upgrade:(ae,pe)=>{0===pe&&ae.createObjectStore(Xn)}}).catch(ae=>{throw qn.create("idb-open",{originalErrorMessage:ae.message})})),ri}function Rt(){return(Rt=(0,s.Z)(function*(ae){var pe;try{return(yield Qn()).transaction(Xn).objectStore(Xn).get(ir(ae))}catch(ye){if(ye instanceof G.ZR)Q.warn(ye.message);else{const We=qn.create("idb-get",{originalErrorMessage:null===(pe=ye)||void 0===pe?void 0:pe.message});Q.warn(We.message)}}})).apply(this,arguments)}function en(ae,pe){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(ae,pe){var ye;try{const ct=(yield Qn()).transaction(Xn,"readwrite");return yield ct.objectStore(Xn).put(pe,ir(ae)),ct.done}catch(We){if(We instanceof G.ZR)Q.warn(We.message);else{const ct=qn.create("idb-set",{originalErrorMessage:null===(ye=We)||void 0===ye?void 0:ye.message});Q.warn(ct.message)}}})).apply(this,arguments)}function ir(ae){return`${ae.name}!${ae.options.appId}`}class Ar{constructor(pe){this.container=pe,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new pn(ye),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var pe=this;return(0,s.Z)(function*(){const We=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ct=tn();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==ct&&!pe._heartbeatsCache.heartbeats.some(Vt=>Vt.date===ct))return pe._heartbeatsCache.heartbeats.push({date:ct,agent:We}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Vt=>{const Fn=new Date(Vt.date).valueOf();return Date.now()-Fn<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,s.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const ye=tn(),{heartbeatsToSend:We,unsentEntries:ct}=function Qr(ae,pe=1024){const ye=[];let We=ae.slice();for(const ct of ae){const Vt=ye.find(Fn=>Fn.agent===ct.agent);if(Vt){if(Vt.dates.push(ct.date),be(ye)>pe){Vt.dates.pop();break}}else if(ye.push({agent:ct.agent,dates:[ct.date]}),be(ye)>pe){ye.pop();break}We=We.slice(1)}return{heartbeatsToSend:ye,unsentEntries:We}}(pe._heartbeatsCache.heartbeats),Vt=(0,G.L)(JSON.stringify({version:2,heartbeats:We}));return pe._heartbeatsCache.lastSentHeartbeatDate=ye,ct.length>0?(pe._heartbeatsCache.heartbeats=ct,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Vt})()}}function tn(){return(new Date).toISOString().substring(0,10)}class pn{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,s.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Mt(ae){return Rt.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var ye=this;return(0,s.Z)(function*(){var We;if(yield ye._canUseIndexedDBPromise){const Vt=yield ye.read();return en(ye.app,{lastSentHeartbeatDate:null!==(We=pe.lastSentHeartbeatDate)&&void 0!==We?We:Vt.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var ye=this;return(0,s.Z)(function*(){var We;if(yield ye._canUseIndexedDBPromise){const Vt=yield ye.read();return en(ye.app,{lastSentHeartbeatDate:null!==(We=pe.lastSentHeartbeatDate)&&void 0!==We?We:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...pe.heartbeats]})}})()}}function be(ae){return(0,G.L)(JSON.stringify({version:2,heartbeats:ae})).length}!function he(ae){rn(new L.wA("platform-logger",pe=>new K(pe),"PRIVATE")),rn(new L.wA("heartbeat",pe=>new Ar(pe),"PRIVATE")),nr(X,"0.7.33",ae),nr(X,"0.7.33","esm2017"),nr("fire-js","")}("")},4859:(we,H,N)=>{"use strict";N.d(H,{H0:()=>X,wA:()=>O});var s=N(5861),L=N(2090);class O{constructor(Q,J,se){this.name=Q,this.instanceFactory=J,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const G="[DEFAULT]";class ${constructor(Q,J){this.name=Q,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const J=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(J)){const se=new L.BH;if(this.instancesDeferred.set(J,se),this.isInitialized(J)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:J});Oe&&se.resolve(Oe)}catch{}}return this.instancesDeferred.get(J).promise}getImmediate(Q){var J;const se=this.normalizeInstanceIdentifier(Q?.identifier),Oe=null!==(J=Q?.optional)&&void 0!==J&&J;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(me){if(Oe)return null;throw me}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function Z(oe){return"EAGER"===oe.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[J,se]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(J);try{const me=this.getOrInitializeService({instanceIdentifier:Oe});se.resolve(me)}catch{}}}}clearInstance(Q=G){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,s.Z)(function*(){const J=Array.from(Q.instances.values());yield Promise.all([...J.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...J.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=G){return this.instances.has(Q)}getOptions(Q=G){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:J={}}=Q,se=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:se,options:J});for(const[me,xe]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(me)&&xe.resolve(Oe);return Oe}onInit(Q,J){var se;const Oe=this.normalizeInstanceIdentifier(J),me=null!==(se=this.onInitCallbacks.get(Oe))&&void 0!==se?se:new Set;me.add(Q),this.onInitCallbacks.set(Oe,me);const xe=this.instances.get(Oe);return xe&&Q(xe,Oe),()=>{me.delete(Q)}}invokeOnInitCallbacks(Q,J){const se=this.onInitCallbacks.get(J);if(se)for(const Oe of se)try{Oe(Q,J)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:J={}}){let se=this.instances.get(Q);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(oe=Q,oe===G?void 0:oe),options:J}),this.instances.set(Q,se),this.instancesOptions.set(Q,J),this.invokeOnInitCallbacks(se,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,se)}catch{}var oe;return se||null}normalizeInstanceIdentifier(Q=G){return this.component?this.component.multipleInstances?Q:G:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const J=this.getProvider(Q.name);if(J.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);J.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const J=new $(Q,this);return this.providers.set(Q,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(we,H,N)=>{"use strict";N.d(H,{Am:()=>oe,Ub:()=>X,Yd:()=>Z,in:()=>L});const s=[];var L=(()=>{return(Q=L||(L={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",L;var Q})();const O={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},G=L.INFO,$={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},K=(Q,J,...se)=>{if(J<Q.logLevel)return;const Oe=(new Date).toISOString(),me=$[J];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[me](`[${Oe}]  ${Q.name}:`,...se)};class Z{constructor(J){this.name=J,this._logLevel=G,this._logHandler=K,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in L))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?O[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...J),this._logHandler(this,L.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...J),this._logHandler(this,L.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,L.INFO,...J),this._logHandler(this,L.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,L.WARN,...J),this._logHandler(this,L.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...J),this._logHandler(this,L.ERROR,...J)}}function X(Q){s.forEach(J=>{J.setLogLevel(Q)})}function oe(Q,J){for(const se of s){let Oe=null;J&&J.level&&(Oe=O[J.level]),se.userLogHandler=null===Q?null:(me,xe,...ne)=>{const ee=ne.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch{return null}}).filter(re=>re).join(" ");xe>=(Oe??me.logLevel)&&Q({level:L[xe].toLowerCase(),message:ee,args:ne,type:me.name})}}}},8766:(we,H,N)=>{"use strict";N.d(H,{Lj:()=>Ne,X3:()=>Ve});var s=N(5861);let O,G;const Z=new WeakMap,X=new WeakMap,oe=new WeakMap,Q=new WeakMap,J=new WeakMap;let me={get(ve,Se,ce){if(ve instanceof IDBTransaction){if("done"===Se)return X.get(ve);if("objectStoreNames"===Se)return ve.objectStoreNames||oe.get(ve);if("store"===Se)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return re(ve[Se])},set:(ve,Se,ce)=>(ve[Se]=ce,!0),has:(ve,Se)=>ve instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in ve};function ee(ve){return"function"==typeof ve?function ne(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...Se){return ve.apply(ke(this),Se),re(Z.get(this))}:function(...Se){return re(ve.apply(ke(this),Se))}:function(Se,...ce){const de=ve.call(ke(this),Se,...ce);return oe.set(de,Se.sort?Se.sort():[Se]),re(de)}}(ve):(ve instanceof IDBTransaction&&function Oe(ve){if(X.has(ve))return;const Se=new Promise((ce,de)=>{const Ae=()=>{ve.removeEventListener("complete",Ce),ve.removeEventListener("error",Qe),ve.removeEventListener("abort",Qe)},Ce=()=>{ce(),Ae()},Qe=()=>{de(ve.error||new DOMException("AbortError","AbortError")),Ae()};ve.addEventListener("complete",Ce),ve.addEventListener("error",Qe),ve.addEventListener("abort",Qe)});X.set(ve,Se)}(ve),((ve,Se)=>Se.some(ce=>ve instanceof ce))(ve,function $(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,me):ve)}function re(ve){if(ve instanceof IDBRequest)return function se(ve){const Se=new Promise((ce,de)=>{const Ae=()=>{ve.removeEventListener("success",Ce),ve.removeEventListener("error",Qe)},Ce=()=>{ce(re(ve.result)),Ae()},Qe=()=>{de(ve.error),Ae()};ve.addEventListener("success",Ce),ve.addEventListener("error",Qe)});return Se.then(ce=>{ce instanceof IDBCursor&&Z.set(ce,ve)}).catch(()=>{}),J.set(Se,ve),Se}(ve);if(Q.has(ve))return Q.get(ve);const Se=ee(ve);return Se!==ve&&(Q.set(ve,Se),J.set(Se,ve)),Se}const ke=ve=>J.get(ve);function Ve(ve,Se,{blocked:ce,upgrade:de,blocking:Ae,terminated:Ce}={}){const Qe=indexedDB.open(ve,Se),tt=re(Qe);return de&&Qe.addEventListener("upgradeneeded",Tt=>{de(re(Qe.result),Tt.oldVersion,Tt.newVersion,re(Qe.transaction))}),ce&&Qe.addEventListener("blocked",()=>ce()),tt.then(Tt=>{Ce&&Tt.addEventListener("close",()=>Ce()),Ae&&Tt.addEventListener("versionchange",()=>Ae())}).catch(()=>{}),tt}function Ne(ve,{blocked:Se}={}){const ce=indexedDB.deleteDatabase(ve);return Se&&ce.addEventListener("blocked",()=>Se()),re(ce).then(()=>{})}const Le=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ge=new Map;function ge(ve,Se){if(!(ve instanceof IDBDatabase)||Se in ve||"string"!=typeof Se)return;if(Ge.get(Se))return Ge.get(Se);const ce=Se.replace(/FromIndex$/,""),de=Se!==ce,Ae=De.includes(ce);if(!(ce in(de?IDBIndex:IDBObjectStore).prototype)||!Ae&&!Le.includes(ce))return;const Ce=function(){var Qe=(0,s.Z)(function*(tt,...Tt){const yn=this.transaction(tt,Ae?"readwrite":"readonly");let cn=yn.store;return de&&(cn=cn.index(Tt.shift())),(yield Promise.all([cn[ce](...Tt),Ae&&yn.done]))[0]});return function(Tt){return Qe.apply(this,arguments)}}();return Ge.set(Se,Ce),Ce}!function xe(ve){me=ve(me)}(ve=>({...ve,get:(Se,ce,de)=>ge(Se,ce)||ve.get(Se,ce,de),has:(Se,ce)=>!!ge(Se,ce)||ve.has(Se,ce)}))},5861:(we,H,N)=>{"use strict";function s(O,G,$,K,Z,X,oe){try{var Q=O[X](oe),J=Q.value}catch(se){return void $(se)}Q.done?G(J):Promise.resolve(J).then(K,Z)}function L(O){return function(){var G=this,$=arguments;return new Promise(function(K,Z){var X=O.apply(G,$);function oe(J){s(X,K,Z,oe,Q,"next",J)}function Q(J){s(X,K,Z,oe,Q,"throw",J)}oe(void 0)})}}N.d(H,{Z:()=>L})}},we=>{we(we.s=8201)}]);